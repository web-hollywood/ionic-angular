{"version":3,"file":"index.min.js","sources":["../../node_modules/core-js/library/modules/_to-integer.js","../../node_modules/core-js/library/modules/_defined.js","../../node_modules/core-js/library/modules/_global.js","../../node_modules/core-js/library/modules/_core.js","../../node_modules/core-js/library/modules/_a-function.js","../../node_modules/core-js/library/modules/_ctx.js","../../node_modules/core-js/library/modules/_is-object.js","../../node_modules/core-js/library/modules/_an-object.js","../../node_modules/core-js/library/modules/_fails.js","../../node_modules/core-js/library/modules/_descriptors.js","../../node_modules/core-js/library/modules/_dom-create.js","../../node_modules/core-js/library/modules/_ie8-dom-define.js","../../node_modules/core-js/library/modules/_to-primitive.js","../../node_modules/core-js/library/modules/_object-dp.js","../../node_modules/core-js/library/modules/_property-desc.js","../../node_modules/core-js/library/modules/_hide.js","../../node_modules/core-js/library/modules/_export.js","../../node_modules/core-js/library/modules/_redefine.js","../../node_modules/core-js/library/modules/_has.js","../../node_modules/core-js/library/modules/_cof.js","../../node_modules/core-js/library/modules/_iobject.js","../../node_modules/core-js/library/modules/_to-iobject.js","../../node_modules/core-js/library/modules/_to-length.js","../../node_modules/core-js/library/modules/_to-absolute-index.js","../../node_modules/core-js/library/modules/_shared.js","../../node_modules/core-js/library/modules/_uid.js","../../node_modules/core-js/library/modules/_shared-key.js","../../node_modules/core-js/library/modules/_object-keys-internal.js","../../node_modules/core-js/library/modules/_array-includes.js","../../node_modules/core-js/library/modules/_enum-bug-keys.js","../../node_modules/core-js/library/modules/_object-keys.js","../../node_modules/core-js/library/modules/_object-dps.js","../../node_modules/core-js/library/modules/_html.js","../../node_modules/core-js/library/modules/_object-create.js","../../node_modules/core-js/library/modules/_wks.js","../../node_modules/core-js/library/modules/_set-to-string-tag.js","../../node_modules/core-js/library/modules/_iter-create.js","../../node_modules/core-js/library/modules/_to-object.js","../../node_modules/core-js/library/modules/_object-gpo.js","../../node_modules/core-js/library/modules/_iter-define.js","../../node_modules/core-js/library/modules/es6.string.iterator.js","../../node_modules/core-js/library/modules/_string-at.js","../../node_modules/core-js/library/modules/_iter-step.js","../../node_modules/core-js/library/modules/es6.array.iterator.js","../../node_modules/core-js/library/modules/web.dom.iterable.js","../../node_modules/core-js/library/modules/_classof.js","../../node_modules/core-js/library/modules/_task.js","../../node_modules/core-js/library/modules/_an-instance.js","../../node_modules/core-js/library/modules/_iter-call.js","../../node_modules/core-js/library/modules/_is-array-iter.js","../../node_modules/core-js/library/modules/core.get-iterator-method.js","../../node_modules/core-js/library/modules/_for-of.js","../../node_modules/core-js/library/modules/_species-constructor.js","../../node_modules/core-js/library/modules/_invoke.js","../../node_modules/core-js/library/modules/_microtask.js","../../node_modules/core-js/library/modules/_new-promise-capability.js","../../node_modules/core-js/library/modules/_perform.js","../../node_modules/core-js/library/modules/_promise-resolve.js","../../node_modules/core-js/library/modules/_redefine-all.js","../../node_modules/core-js/library/modules/_set-species.js","../../node_modules/core-js/library/modules/_iter-detect.js","../../node_modules/core-js/library/modules/es6.promise.js","../../node_modules/core-js/library/modules/_library.js","../../node_modules/core-js/library/modules/es7.promise.finally.js","../../node_modules/core-js/library/modules/es7.promise.try.js","../../node_modules/core-js/library/fn/promise.js","../../node_modules/babel-runtime/core-js/promise.js","../../node_modules/webrtc-adapter/src/js/utils.js","../../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../../node_modules/sdp/sdp.js","../../node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","../../node_modules/webrtc-adapter/src/js/edge/edge_shim.js","../../node_modules/webrtc-adapter/src/js/edge/getusermedia.js","../../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../../node_modules/webrtc-adapter/src/js/common_shim.js","../../node_modules/webrtc-adapter/src/js/adapter_factory.js","../../node_modules/webrtc-adapter/src/js/adapter_core.js","../../node_modules/core-js/library/modules/_wks-ext.js","../../node_modules/core-js/library/fn/symbol/iterator.js","../../node_modules/babel-runtime/core-js/symbol/iterator.js","../../node_modules/core-js/library/modules/_meta.js","../../node_modules/core-js/library/modules/_wks-define.js","../../node_modules/core-js/library/modules/_object-gops.js","../../node_modules/core-js/library/modules/_object-pie.js","../../node_modules/core-js/library/modules/_is-array.js","../../node_modules/core-js/library/modules/_object-gopn.js","../../node_modules/core-js/library/modules/_object-gopn-ext.js","../../node_modules/core-js/library/modules/_object-gopd.js","../../node_modules/core-js/library/modules/es6.symbol.js","../../node_modules/core-js/library/modules/_enum-keys.js","../../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../../node_modules/core-js/library/modules/es7.symbol.observable.js","../../node_modules/core-js/library/fn/symbol/index.js","../../node_modules/babel-runtime/core-js/symbol.js","../../node_modules/babel-runtime/helpers/typeof.js","../../node_modules/core-js/library/modules/_set-proto.js","../../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../../node_modules/core-js/library/fn/object/set-prototype-of.js","../../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../../node_modules/core-js/library/modules/_object-sap.js","../../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../../node_modules/core-js/library/fn/object/get-prototype-of.js","../../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../../node_modules/babel-runtime/helpers/classCallCheck.js","../../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../../node_modules/core-js/library/modules/es6.object.create.js","../../node_modules/core-js/library/fn/object/create.js","../../node_modules/babel-runtime/core-js/object/create.js","../../src/lib/camera.ts","../../src/lib/imageSettings.ts","../../src/lib/cameraAccess.ts","../../src/lib/browserHelper.ts","../../node_modules/babel-runtime/helpers/inherits.js","../../src/lib/customError.ts","../../node_modules/core-js/library/fn/json/stringify.js","../../node_modules/babel-runtime/core-js/json/stringify.js","../../node_modules/core-js/library/modules/es6.object.define-property.js","../../node_modules/core-js/library/fn/object/define-property.js","../../node_modules/babel-runtime/core-js/object/define-property.js","../../src/lib/parser.ts","../../src/lib/barcode.ts","../../node_modules/babel-runtime/helpers/createClass.js","../../node_modules/eventemitter3/index.js","../../src/lib/workers/engineSDKWorker.ts","../../node_modules/core-js/library/modules/_object-to-array.js","../../node_modules/core-js/library/modules/es7.object.values.js","../../node_modules/core-js/library/fn/object/values.js","../../node_modules/babel-runtime/core-js/object/values.js","../../node_modules/core-js/library/modules/core.get-iterator.js","../../node_modules/babel-runtime/core-js/get-iterator.js","../../node_modules/core-js/library/modules/es6.object.keys.js","../../node_modules/core-js/library/fn/object/keys.js","../../node_modules/babel-runtime/core-js/object/keys.js","../../node_modules/core-js/library/modules/_create-property.js","../../node_modules/core-js/library/modules/es6.array.from.js","../../node_modules/core-js/library/fn/array/from.js","../../node_modules/babel-runtime/core-js/array/from.js","../../node_modules/babel-runtime/helpers/toConsumableArray.js","../../node_modules/core-js/library/modules/_validate-collection.js","../../node_modules/core-js/library/modules/_collection-strong.js","../../node_modules/core-js/library/modules/_collection.js","../../node_modules/core-js/library/modules/_array-species-constructor.js","../../node_modules/core-js/library/modules/es6.set.js","../../node_modules/core-js/library/modules/_array-methods.js","../../node_modules/core-js/library/modules/es7.set.to-json.js","../../node_modules/core-js/library/modules/_collection-to-json.js","../../node_modules/core-js/library/modules/_array-from-iterable.js","../../node_modules/core-js/library/modules/_set-collection-of.js","../../node_modules/core-js/library/modules/es7.set.of.js","../../node_modules/core-js/library/modules/_set-collection-from.js","../../node_modules/core-js/library/modules/es7.set.from.js","../../node_modules/core-js/library/fn/set.js","../../src/lib/symbologySettings.ts","../../node_modules/babel-runtime/core-js/set.js","../../src/lib/scanSettings.ts","../../src/lib/scanner.ts","../../src/lib/cameraSettings.ts","../../node_modules/howler/dist/howler.core.min.js","../../src/lib/assets/base64assets.ts","../../src/lib/barcodePickerCameraManager.ts","../../src/lib/barcodePicker.ts","../../src/index.ts"],"sourcesContent":["// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = require('./_hide');\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","module.exports = true;\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\n// Utility methods.\nmodule.exports = {\n  extractVersion: extractVersion,\n  wrapPeerConnectionEvent: wrapPeerConnectionEvent,\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    if (navigator.mozGetUserMedia) { // Firefox.\n      result.browser = 'firefox';\n      result.version = extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera.\n      // Version matches Chrome/WebRTC version.\n      result.browser = 'chrome';\n      result.version = extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n      result.browser = 'safari';\n      result.version = extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    } else if (!('RTCRtpTransceiver' in window)) {\n      utils.wrapPeerConnectionEvent(window, 'track', function(e) {\n        if (!e.transceiver) {\n          e.transceiver = {receiver: e.receiver};\n        }\n        return e;\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrackWithNative: function(window) {\n    // shim addTrack/removeTrack with native variants in order to make\n    // the interactions with legacy getLocalStreams behave as in other browsers.\n    // Keeps a mapping stream.id => [stream, rtpsenders...]\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams).map(function(streamId) {\n        return pc._shimmedLocalStreams[streamId][0];\n      });\n    };\n\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      var sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      var existingSenders = pc.getSenders();\n      origAddStream.apply(this, arguments);\n      var newSenders = pc.getSenders().filter(function(newSender) {\n        return existingSenders.indexOf(newSender) === -1;\n      });\n      this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(function(streamId) {\n          var idx = pc._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            pc._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (pc._shimmedLocalStreams[streamId].length === 1) {\n            delete pc._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 65) {\n      return this.shimAddTrackRemoveTrackWithNative(window);\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      pc._reverseStreams = pc._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return pc._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(pc._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var pc = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(pc, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var pc = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(pc, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var pc = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(pc, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return {\n    kind: mline[0].substr(2),\n    port: parseInt(mline[1], 10),\n    protocol: mline[2],\n    fmt: mline.slice(3).join(' ')\n  };\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  var RTCPeerConnection = function(config) {\n    var self = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          self[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.onicecandidate = null;\n    this.onaddstream = null;\n    this.ontrack = null;\n    this.onremovestream = null;\n    this.onsignalingstatechange = null;\n    this.oniceconnectionstatechange = null;\n    this.onicegatheringstatechange = null;\n    this.onnegotiationneeded = null;\n    this.ondatachannel = null;\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      var e = new Error('rtcpMuxPolicy \\'negotiate\\' is not supported');\n      e.name = 'NotSupportedError';\n      throw(e);\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers = new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        });\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onicegatheringstatechange === 'function') {\n      this.onicegatheringstatechange(event);\n    }\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (whih is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    this.transceivers.push(transceiver);\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var self = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        self.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        self.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var idx = this.localStreams.indexOf(stream);\n    if (idx > -1) {\n      this.localStreams.splice(idx, 1);\n      this._maybeFireNegotiationNeeded();\n    }\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var self = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].candidates = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (self.transceivers[sdpMLineIndex].candidates !== null) {\n        self.transceivers[sdpMLineIndex].candidates.push(event.candidate);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var self = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var candidates = this.transceivers[sdpMLineIndex].candidates;\n    this.transceivers[sdpMLineIndex].candidates = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (self.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        event.candidate.candidate = SDPUtils.writeCandidate(cand);\n      }\n\n      // update local description.\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      self.localDescription.sdp = sections.join('');\n      var complete = self.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (self.iceGatheringState !== 'gathering') {\n        self.iceGatheringState = 'gathering';\n        self._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        self.dispatchEvent(event);\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(event);\n        }\n      }\n      if (complete) {\n        self.dispatchEvent(new Event('icecandidate'));\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(new Event('icecandidate'));\n        }\n        self.iceGatheringState = 'complete';\n        self._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      candidates.forEach(function(candidate) {\n        var e = new Event('RTCIceGatherEvent');\n        e.candidate = candidate;\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var self = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      self._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      self._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      self._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      params.encodings = transceiver.recvEncodingParameters;\n      params.rtcp = {\n        cname: transceiver.rtcpParameters.cname,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set local ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        self.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        self._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = self.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n\n        if (!rejected && !transceiver.isDatachannel) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!self.usingBundle || sdpMLineIndex === 0) {\n            self._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          self._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    this.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-local-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n\n    // If a success callback was provided, emit ICE candidates after it\n    // has been executed. Otherwise, emit callback after the Promise is\n    // resolved.\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    return new Promise(function(resolve) {\n      if (cb) {\n        cb.apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set remote ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var streams = {};\n    this.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    this.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      this.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      this.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (kind === 'application' && protocol === 'DTLS/SCTP') {\n        self.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          isDatachannel: true\n        };\n        return;\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          self.transceivers[sdpMLineIndex]) {\n        self._disposeIceAndDtlsTransports(sdpMLineIndex);\n        self.transceivers[sdpMLineIndex].iceGatherer =\n            self.transceivers[0].iceGatherer;\n        self.transceivers[sdpMLineIndex].iceTransport =\n            self.transceivers[0].iceTransport;\n        self.transceivers[sdpMLineIndex].dtlsTransport =\n            self.transceivers[0].dtlsTransport;\n        if (self.transceivers[sdpMLineIndex].rtpSender) {\n          self.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n        if (self.transceivers[sdpMLineIndex].rtpReceiver) {\n          self.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex] ||\n            self._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            stream.addTrack(track);\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        self._transceive(self.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        self.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        self.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        self.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        self._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            streams[remoteMsid.stream].addTrack(track);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            streams.default.addTrack(track);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (this._dtlsRole === undefined) {\n      this._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    this.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-remote-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (self.remoteStreams.indexOf(stream) === -1) {\n          self.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            self.dispatchEvent(event);\n            if (typeof self.onaddstream === 'function') {\n              self.onaddstream(event);\n            }\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          var trackEvent = new Event('track');\n          trackEvent.track = track;\n          trackEvent.receiver = receiver;\n          trackEvent.transceiver = {receiver: receiver};\n          trackEvent.streams = [stream];\n          window.setTimeout(function() {\n            self.dispatchEvent(trackEvent);\n            if (typeof self.ontrack === 'function') {\n              self.ontrack(trackEvent);\n            }\n          });\n        });\n      }\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(self && self.transceivers)) {\n        return;\n      }\n      self.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return new Promise(function(resolve) {\n      if (args.length > 1 && typeof args[1] === 'function') {\n        args[1].apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onsignalingstatechange === 'function') {\n      this.onsignalingstatechange(event);\n    }\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var self = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (self.needNegotiation === false) {\n        return;\n      }\n      self.needNegotiation = false;\n      var event = new Event('negotiationneeded');\n      self.dispatchEvent(event);\n      if (typeof self.onnegotiationneeded === 'function') {\n        self.onnegotiationneeded(event);\n      }\n    }, 0);\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0 || states.checking > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0 || states.completed > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this.dispatchEvent(event);\n      if (typeof this.oniceconnectionstatechange === 'function') {\n        this.oniceconnectionstatechange(event);\n      }\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var self = this;\n    var args = arguments;\n\n    var offerOptions;\n    if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n      offerOptions = arguments[0];\n    } else if (arguments.length === 3) {\n      offerOptions = arguments[2];\n    }\n\n    var numAudioTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        this._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        this._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n            self.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (this._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, self._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && self.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !self.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var self = this;\n    var args = arguments;\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    if (this.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.splitSections(\n        this.remoteDescription.sdp).length - 1;\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.isDatachannel) {\n        sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n            'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, self._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var err;\n    var sections;\n    if (!candidate || candidate.candidate === '') {\n      for (var j = 0; j < this.transceivers.length; j++) {\n        if (this.transceivers[j].isDatachannel) {\n          continue;\n        }\n        this.transceivers[j].iceTransport.addRemoteCandidate({});\n        sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n        sections[j + 1] += 'a=end-of-candidates\\r\\n';\n        this.remoteDescription.sdp = sections.join('');\n        if (this.usingBundle) {\n          break;\n        }\n      }\n    } else if (!(candidate.sdpMLineIndex !== undefined || candidate.sdpMid)) {\n      throw new TypeError('sdpMLineIndex or sdpMid required');\n    } else if (!this.remoteDescription) {\n      err = new Error('Can not add ICE candidate without ' +\n          'a remote description');\n      err.name = 'InvalidStateError';\n    } else {\n      var sdpMLineIndex = candidate.sdpMLineIndex;\n      if (candidate.sdpMid) {\n        for (var i = 0; i < this.transceivers.length; i++) {\n          if (this.transceivers[i].mid === candidate.sdpMid) {\n            sdpMLineIndex = i;\n            break;\n          }\n        }\n      }\n      var transceiver = this.transceivers[sdpMLineIndex];\n      if (transceiver) {\n        if (transceiver.isDatachannel) {\n          return Promise.resolve();\n        }\n        var cand = Object.keys(candidate.candidate).length > 0 ?\n            SDPUtils.parseCandidate(candidate.candidate) : {};\n        // Ignore Chrome's invalid candidates since Edge does not like them.\n        if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n          return Promise.resolve();\n        }\n        // Ignore RTCP candidates, we assume RTCP-MUX.\n        if (cand.component && cand.component !== 1) {\n          return Promise.resolve();\n        }\n        // when using bundle, avoid adding candidates to the wrong\n        // ice transport. And avoid adding candidates added in the SDP.\n        if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n            transceiver.iceTransport !== this.transceivers[0].iceTransport)) {\n          if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n            err = new Error('Can not add ICE candidate');\n            err.name = 'OperationError';\n          }\n        }\n\n        if (!err) {\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[sdpMLineIndex + 1] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      } else {\n        err = new Error('Can not add ICE candidate');\n        err.name = 'OperationError';\n      }\n    }\n    var args = arguments;\n    return new Promise(function(resolve, reject) {\n      if (err) {\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [err]);\n        }\n        reject(err);\n      } else {\n        if (args.length > 1 && typeof args[1] === 'function') {\n          args[1].apply(null);\n        }\n        resolve();\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function() {\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    var fixStatsType = function(stat) {\n      return {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      }[stat.type] || stat.type;\n    };\n    return new Promise(function(resolve) {\n      // shim getStats with maplike support\n      var results = new Map();\n      Promise.all(promises).then(function(res) {\n        res.forEach(function(result) {\n          Object.keys(result).forEach(function(id) {\n            result[id].type = fixStatsType(result[id]);\n            results.set(id, result[id]);\n          });\n        });\n        if (cb) {\n          cb.apply(null, results);\n        }\n        resolve(results);\n      });\n    });\n  };\n  return RTCPeerConnection;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  },\n\n  shimRemoveStream: function(window) {\n    if (!window.RTCPeerConnection ||\n        'removeStream' in window.RTCPeerConnection.prototype) {\n      return;\n    }\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(function(sender) {\n        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n          pc.removeTrack(sender);\n        }\n      });\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var pc = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(pc, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        return _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var pc = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            pc.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          var pc = this;\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(function(stream) {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              var event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimCreateOfferLegacy: function(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {\n      var pc = this;\n      if (offerOptions) {\n        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'audio';\n        });\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          pc.addTransceiver('audio');\n        }\n\n        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'video';\n        });\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            videoTransceiver.setDirection('sendonly');\n          } else if (videoTransceiver.direction === 'recvonly') {\n            videoTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          pc.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(pc, arguments);\n    };\n  }\n};\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar utils = require('./utils');\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    utils.wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  },\n\n  shimMaxMessageSize: function(window) {\n    if (window.RTCSctpTransport || !window.RTCPeerConnection) {\n      return;\n    }\n    var browserDetails = utils.detectBrowser(window);\n\n    if (!('sctp' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n        get: function() {\n          return typeof this._sctp === 'undefined' ? null : this._sctp;\n        }\n      });\n    }\n\n    var sctpInDescription = function(description) {\n      var sections = SDPUtils.splitSections(description.sdp);\n      sections.shift();\n      return sections.some(function(mediaSection) {\n        var mLine = SDPUtils.parseMLine(mediaSection);\n        return mLine && mLine.kind === 'application'\n            && mLine.protocol.indexOf('SCTP') !== -1;\n      });\n    };\n\n    var getRemoteFirefoxVersion = function(description) {\n      // TODO: Is there a better solution for detecting Firefox?\n      var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n      if (match === null || match.length < 2) {\n        return -1;\n      }\n      var version = parseInt(match[1], 10);\n      // Test for NaN (yes, this is ugly)\n      return version !== version ? -1 : version;\n    };\n\n    var getCanSendMaxMessageSize = function(remoteIsFirefox) {\n      // Every implementation we know can send at least 64 KiB.\n      // Note: Although Chrome is technically able to send up to 256 KiB, the\n      //       data does not reach the other peer reliably.\n      //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n      var canSendMaxMessageSize = 65536;\n      if (browserDetails.browser === 'firefox') {\n        if (browserDetails.version < 57) {\n          if (remoteIsFirefox === -1) {\n            // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n            // fragmentation.\n            canSendMaxMessageSize = 16384;\n          } else {\n            // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n            // messages. Thus, supporting ~2 GiB when sending.\n            canSendMaxMessageSize = 2147483637;\n          }\n        } else {\n          // Currently, all FF >= 57 will reset the remote maximum message size\n          // to the default value when a data channel is created at a later\n          // stage. :(\n          // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n          canSendMaxMessageSize =\n            browserDetails.version === 57 ? 65535 : 65536;\n        }\n      }\n      return canSendMaxMessageSize;\n    };\n\n    var getMaxMessageSize = function(description, remoteIsFirefox) {\n      // Note: 65536 bytes is the default value from the SDP spec. Also,\n      //       every implementation we know supports receiving 65536 bytes.\n      var maxMessageSize = 65536;\n\n      // FF 57 has a slightly incorrect default remote max message size, so\n      // we need to adjust it here to avoid a failure when sending.\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n      if (browserDetails.browser === 'firefox'\n           && browserDetails.version === 57) {\n        maxMessageSize = 65535;\n      }\n\n      var match = SDPUtils.matchPrefix(description.sdp, 'a=max-message-size:');\n      if (match.length > 0) {\n        maxMessageSize = parseInt(match[0].substr(19), 10);\n      } else if (browserDetails.browser === 'firefox' &&\n                  remoteIsFirefox !== -1) {\n        // If the maximum message size is not present in the remote SDP and\n        // both local and remote are Firefox, the remote peer can receive\n        // ~2 GiB.\n        maxMessageSize = 2147483637;\n      }\n      return maxMessageSize;\n    };\n\n    var origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n      var pc = this;\n      pc._sctp = null;\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        var maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        var sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get: function() {\n            return maxMessageSize;\n          }\n        });\n        pc._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  },\n\n  shimSendThrowTypeError: function(window) {\n    // Note: Although Firefox >= 57 has a native implementation, the maximum\n    //       message size can be reset for all data channels at a later stage.\n    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n    var origCreateDataChannel =\n      window.RTCPeerConnection.prototype.createDataChannel;\n    window.RTCPeerConnection.prototype.createDataChannel = function() {\n      var pc = this;\n      var dataChannel = origCreateDataChannel.apply(pc, arguments);\n      var origDataChannelSend = dataChannel.send;\n\n      // Patch 'send' method\n      dataChannel.send = function() {\n        var dc = this;\n        var data = arguments[0];\n        var length = data.length || data.size || data.byteLength;\n        if (length > pc.sctp.maxMessageSize) {\n          throw new DOMException('Message too large (can send a maximum of ' +\n            pc.sctp.maxMessageSize + ' bytes)', 'TypeError');\n        }\n        return origDataChannelSend.apply(dc, arguments);\n      };\n\n      return dataChannel;\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = require('./utils');\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimCreateOfferLegacy(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n","exports.f = require('./_wks');\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","/**\n * A camera for video input available to be used on the device.\n */\nexport interface Camera {\n  /**\n   * The unique identifier for the device, can change between page loads.\n   */\n  readonly deviceId: string;\n  /**\n   * The label describing the device.\n   */\n  readonly label: string;\n  /**\n   * The type of camera, back or front (not guaranteed to be correct, depending on the device).\n   */\n  readonly cameraType: Camera.Type;\n  /**\n   * The current video resolution if and when the camera is in use, given as width and height in pixels.\n   */\n  currentResolution?: { width: number; height: number };\n}\n\nexport namespace Camera {\n  /**\n   * Camera type (not guaranteed to be correct, depending on the device).\n   */\n  export enum Type {\n    /**\n     * Front facing camera.\n     */\n    FRONT,\n    /**\n     * Back facing camera.\n     */\n    BACK\n  }\n}\n","/**\n * A configuration object to define the properties of an image to be scanned.\n */\nexport interface ImageSettings {\n  /**\n   * The width of the image (columns of pixels).\n   */\n  readonly width: number;\n  /**\n   * The height of the image (rows of pixels).\n   */\n  readonly height: number;\n  /**\n   * The format of the pixel data, meaning the mapping of array bytes to image pixels.\n   */\n  readonly format: ImageSettings.Format;\n}\n\nexport namespace ImageSettings {\n  // Warning: the values of Format are important as the engine web worker relies on them without type checking.\n  /**\n   * Image bytes format/layout.\n   */\n  export enum Format {\n    /**\n     * Single-channel 8-bit gray scale image.\n     */\n    GRAY_8U = 0,\n    /**\n     * RGB image with 8 bits per color channel.\n     */\n    RGB_8U = 1,\n    /**\n     * RGBA image with 8 bits per color channel.\n     */\n    RGBA_8U = 2\n  }\n}\n","import { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CustomError } from \"./customError\";\n\n/**\n * A helper object to interact with cameras.\n */\nexport namespace CameraAccess {\n  /**\n   * @hidden\n   *\n   * Handle localized camera labels. Supported languages:\n   * English, German, French, Spanish (spain), Portuguese (brasil), Portuguese (portugal), Italian,\n   * Chinese (simplified), Chinese (traditional), Japanese, Russian, Turkish, Dutch, Arabic, Thai, Swedish,\n   * Danish, Vietnamese, Norwegian, Polish, Finnish, Indonesian, Hebrew, Greek, Romanian, Hungarian, Czech,\n   * Catalan, Slovak, Ukraininan, Croatian, Malay, Hindi.\n   */\n  const backCameraKeywords: string[] = [\n    \"rear\",\n    \"back\",\n    \"rück\",\n    \"arrière\",\n    \"trasera\",\n    \"trás\",\n    \"traseira\",\n    \"posteriore\",\n    \"后面\",\n    \"後面\",\n    \"背面\",\n    \"后置\", // alternative\n    \"後置\", // alternative\n    \"背置\", // alternative\n    \"задней\",\n    \"الخلفية\",\n    \"후\",\n    \"arka\",\n    \"achterzijde\",\n    \"หลัง\",\n    \"baksidan\",\n    \"bagside\",\n    \"sau\",\n    \"bak\",\n    \"tylny\",\n    \"takakamera\",\n    \"belakang\",\n    \"אחורית\",\n    \"πίσω\",\n    \"spate\",\n    \"hátsó\",\n    \"zadní\",\n    \"darrere\",\n    \"zadná\",\n    \"задня\",\n    \"stražnja\",\n    \"belakang\",\n    \"बैक\"\n  ];\n\n  /**\n   * @hidden\n   */\n  export let cameras: Camera[];\n\n  /**\n   * Get a list of cameras (if any) available on the device, a camera access permission is requested to the user\n   * the first time this method is called if needed. Subsequent calls return a cached list of cameras.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   *\n   * @returns A promise resolving to the array of available [[Camera]] objects (could be empty).\n   */\n  export function getCameras(): Promise<Camera[]> {\n    return new Promise((resolve, reject) => {\n      const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n      if (unsupportedBrowserError != null) {\n        return reject(unsupportedBrowserError);\n      }\n      if (cameras != null) {\n        return resolve(cameras);\n      }\n\n      navigator.mediaDevices\n        .getUserMedia({\n          video: true,\n          audio: false\n        })\n        .then(stream => {\n          return enumerateDevices()\n            .then(devices => {\n              stream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              cameras = devices\n                .filter(device => {\n                  return device.kind === \"videoinput\";\n                })\n                .map(videoDevice => {\n                  const label: string = videoDevice.label != null ? videoDevice.label : \"\";\n                  const lowercaseLabel: string = label.toLowerCase();\n\n                  return {\n                    deviceId: videoDevice.deviceId,\n                    label: label,\n                    cameraType: backCameraKeywords.some(keyword => {\n                      return lowercaseLabel.indexOf(keyword) !== -1;\n                    })\n                      ? Camera.Type.BACK\n                      : Camera.Type.FRONT\n                  };\n                });\n              if (\n                cameras.length > 1 &&\n                !cameras.some(camera => {\n                  return camera.cameraType === Camera.Type.BACK;\n                })\n              ) {\n                const camera: Camera = cameras.slice(-1)[0];\n                cameras[cameras.length - 1] = {\n                  deviceId: camera.deviceId,\n                  label: camera.label,\n                  cameraType: Camera.Type.BACK\n                };\n              }\n\n              return resolve(cameras);\n            })\n            .catch(error => {\n              stream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              return reject(error);\n            });\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  }\n\n  /**\n   * @hidden\n   *\n   * Try to access a given camera for video input at the given resolution level.\n   *\n   * @param resolutionFallbackLevel The number representing the wanted resolution, from 0 to 6,\n   * resulting in higher to lower video resolutions.\n   * @param camera The camera to try to access for video input.\n   * @returns A promise resolving to the <tt>MediaStream</tt> object coming from the accessed camera.\n   */\n  export function accessCameraStream(resolutionFallbackLevel: number, camera?: Camera): Promise<MediaStream> {\n    const getUserMediaParams: any = {\n      audio: false,\n      video: {}\n    };\n    if (resolutionFallbackLevel === 0) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1400,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1440,\n          max: 1440\n        }\n      };\n    } else if (resolutionFallbackLevel === 1) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1200,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1200,\n          max: 1200\n        }\n      };\n    } else if (resolutionFallbackLevel === 2) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1080,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1080,\n          max: 1080\n        }\n      };\n    } else if (resolutionFallbackLevel === 3) {\n      getUserMediaParams.video = {\n        width: {\n          min: 960,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 960,\n          max: 960\n        }\n      };\n    } else if (resolutionFallbackLevel === 4) {\n      getUserMediaParams.video = {\n        width: {\n          min: 720,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 768\n        }\n      };\n    } else if (resolutionFallbackLevel === 5) {\n      getUserMediaParams.video = {\n        width: {\n          min: 640,\n          ideal: 960,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 720\n        }\n      };\n    }\n\n    if (camera === undefined) {\n      getUserMediaParams.video = true;\n    } else {\n      getUserMediaParams.video.deviceId = {\n        exact: camera.deviceId\n      };\n    }\n\n    return navigator.mediaDevices.getUserMedia(getUserMediaParams);\n  }\n\n  /**\n   * @hidden\n   *\n   * Get a list of available devices in a cross-browser compatible way.\n   *\n   * @returns A promise resolving to the <tt>MediaDeviceInfo</tt> array of all available devices.\n   */\n  function enumerateDevices(): Promise<MediaDeviceInfo[]> {\n    if (typeof (<any>window.navigator).enumerateDevices === \"function\") {\n      return (<any>window.navigator).enumerateDevices();\n    } else if (\n      typeof (<any>window.navigator).mediaDevices === \"object\" &&\n      typeof (<any>window.navigator).mediaDevices.enumerateDevices === \"function\"\n    ) {\n      return window.navigator.mediaDevices.enumerateDevices();\n    } else {\n      return new Promise((resolve, reject) => {\n        try {\n          (<any>window).MediaStreamTrack.getSources((devices: MediaDeviceInfo[]) => {\n            resolve(\n              devices\n                .filter(device => {\n                  return device.kind.toLowerCase() === \"video\" || device.kind.toLowerCase() === \"videoinput\";\n                })\n                .map(device => {\n                  return {\n                    deviceId: device.deviceId != null ? device.deviceId : \"\",\n                    groupId: device.groupId,\n                    kind: <MediaDeviceKind>\"videoinput\",\n                    label: device.label\n                  };\n                })\n            );\n          });\n        } catch (error) {\n          reject(\n            new CustomError({\n              name: \"UnsupportedBrowserError\",\n              message: \"Media devices are not supported on this OS / Browser\"\n            })\n          );\n        }\n      });\n    }\n  }\n}\n","import { CustomError } from \"./customError\";\n\n/**\n * @hidden\n */\nexport namespace BrowserHelper {\n  /**\n   * @returns The first matching error indicating a missing browser feature, or undefined.\n   */\n  export function checkBrowserCompatibility(): Error | undefined {\n    if (window.navigator.mediaDevices == null || typeof window.navigator.mediaDevices.getUserMedia !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Media devices are not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Worker\") || typeof (<any>window).Worker !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Web Worker is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"WebAssembly\") || typeof (<any>window).WebAssembly !== \"object\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"WebAssembly is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Blob\") || typeof (<any>window).Blob !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Blob object is not supported on this OS / Browser\"\n      });\n    }\n\n    if (\n      !window.hasOwnProperty(\"URL\") ||\n      (typeof (<any>window).URL !== \"function\" && typeof (<any>window).URL !== \"object\") ||\n      typeof (<any>window).URL.createObjectURL !== \"function\"\n    ) {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"URL object is not supported on this OS / Browser\"\n      });\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Get a value from a cookie.\n   *\n   * @param key The key for the cookie for which to get the value.\n   * @returns The cookie value for the given key, empty string if not found.\n   */\n  function getCookieValue(key: string): string {\n    const cookieMatch: RegExpMatchArray | null = document.cookie.match(`(^|;)\\\\s*${key}\\\\s*=\\\\s*([^;]+)`);\n\n    if (cookieMatch == null) {\n      return \"\";\n    } else {\n      const cookieValue: string | undefined = cookieMatch.pop();\n\n      // istanbul ignore next\n      return cookieValue == null ? \"\" : cookieValue;\n    }\n  }\n\n  /**\n   * Store a value in a cookie.\n   *\n   * @param key The key for the cookie.\n   * @param value The value of the cookie.\n   * @param expirationDays The amount of days after which the cookie will expire.\n   */\n  function setCookieValue(key: string, value: string, expirationDays: number): void {\n    const date: Date = new Date();\n    date.setTime(date.getTime() + expirationDays * 24 * 60 * 60 * 1000);\n    document.cookie = `${key}=${value};expires=${date.toUTCString()}`;\n  }\n\n  /**\n   * Get a device id for the current browser, when available it's retrieved from a cookie,\n   * when not it's randomly generated and stored in a cookie to be retrieved by later calls.\n   *\n   * @returns The device id for the current browser.\n   */\n  export function getDeviceId(): string {\n    const cookieKey: string = \"scandit-device-id\";\n    const storedDeviceId: string = getCookieValue(cookieKey);\n    if (storedDeviceId !== \"\") {\n      return storedDeviceId;\n    }\n    const hexCharacters: string = \"0123456789abcdef\";\n    let randomDeviceId: string = \"\";\n    for (let i: number = 0; i < 40; ++i) {\n      // tslint:disable-next-line:insecure-random\n      randomDeviceId += hexCharacters.charAt(Math.floor(Math.random() * 16));\n    }\n    setCookieValue(cookieKey, randomDeviceId, 3650);\n\n    return randomDeviceId;\n  }\n}\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","/**\n * @hidden\n */\nexport class CustomError extends Error {\n  constructor(\n    {\n      name = \"\",\n      message = \"\"\n    }: {\n      name?: string;\n      message?: string;\n    } = {}\n  ) {\n    super(message);\n    Object.setPrototypeOf(this, CustomError.prototype);\n    this.name = name;\n  }\n}\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","import { ParserResult } from \"./parserResult\";\nimport { Scanner } from \"./scanner\";\n\n// Deprecated but useful function for easy UTF-8 handling\n/**\n * @hidden\n */\ndeclare function escape(s: string): string;\n\n/**\n * A data string parser.\n *\n * Parsers are capable of parsing one particular data format, which is passed to them during construction.\n *\n * The parser is created through [[BarcodePicker.createParserForFormat]] or [[Scanner.createParserForFormat]].\n * Note that you need to have a valid license with the parsing feature enabled to use the parser functionalities.\n *\n * For documentation on the available formats, check the official parser library documentation here:\n * https://docs.scandit.com/parser/formats.html.\n */\nexport class Parser {\n  private options: any;\n\n  /**\n   * @hidden\n   *\n   * @param scanner The [[Scanner]] object used to interact with the external Scandit library.\n   * @param dataFormat The data format for this parser.\n   */\n  constructor(private scanner: Scanner, private dataFormat: Parser.DataFormat) {}\n\n  /**\n   * Apply the option map to the parser, allowing the user to fine-tune the behaviour of the parser.\n   * Available options depend on the data format and are specified in the respective documentation.\n   *\n   * @param options The new options to be applied (replacing previous ones, if any).\n   */\n  public setOptions(options: object): void {\n    this.options = options;\n  }\n\n  /**\n   * Process the given raw data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataRaw The raw data to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseRawData(dataRaw: Uint8Array): Promise<ParserResult> {\n    let dataString: string;\n    try {\n      dataString = decodeURIComponent(escape(String.fromCharCode.apply(null, dataRaw)));\n    } catch (error) {\n      dataString = \"\";\n    }\n\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n\n  /**\n   * Process the given string data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataString The string to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataString: string): Promise<ParserResult> {\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n}\n\n// istanbul ignore next\nexport namespace Parser {\n  /**\n   * Data format of a string to be parsed into a set of key-value mappings by the Scandit Parser Library.\n   *\n   * See https://docs.scandit.com/parser/formats.html for more details.\n   */\n  export enum DataFormat {\n    /**\n     * GS1 Application Identifier (AI).\n     *\n     * See: http://www.gs1.org/docs/barcodes/GS1_General_Specifications.pdf.\n     */\n    GS1_AI = 1,\n    /**\n     * Health Industry Bar Code (HIBC).\n     *\n     * See: http://www.hibcc.org.\n     */\n    HIBC = 2,\n    /**\n     * AAMVA Driver License/Identification (DL/ID).\n     *\n     * See: http://www.aamva.org.\n     */\n    DLID = 3,\n    /**\n     * ICAO Machine Readable Travel Document (MRTD).\n     *\n     * See: https://www.icao.int.\n     */\n    MRTD = 4,\n    /**\n     * Swiss QR ISO 20022.\n     *\n     * See: https://www.paymentstandards.ch.\n     */\n    SWISSQR = 5\n  }\n}\n","import { BarcodeEncodingRange } from \"./barcodeEncodingRange\";\nimport { Quadrilateral } from \"./quadrilateral\";\n\n/**\n * A barcode result.\n */\nexport interface Barcode {\n  /**\n   * The symbology type.\n   */\n  readonly symbology: Barcode.Symbology;\n  /**\n   * The data encoded in the barcode interpreted as a UTF-8 string.\n   * If the raw data is not a valid UTF-8 string, this field will be an empty string.\n   */\n  readonly data: string;\n  /**\n   * The raw data encoded in the barcode, given as an array of bytes.\n   * To interpret this correctly you may have to use the information contained in encodingArray.\n   */\n  readonly rawData: Uint8Array;\n  /**\n   * The location of the barcode.\n   */\n  readonly location: Quadrilateral;\n  /**\n   * Whether the barcode is part of a composite code.\n   */\n  readonly compositeFlag: Barcode.CompositeFlag;\n  /**\n   * Whether the barcode is a GS1 data carrier.\n   */\n  readonly isGs1DataCarrier: boolean;\n  /**\n   * The data encoding of the data in the barcode, given as an array of encoding ranges.\n   */\n  readonly encodingArray: BarcodeEncodingRange[];\n}\n\nexport namespace Barcode {\n  // Deprecated but useful function for easy UTF-8 handling\n  /**\n   * @hidden\n   */\n  declare function escape(s: string): string;\n\n  /**\n   * @hidden\n   *\n   * Create a [[Barcode]] object from a partial object returned by the external Scandit Engine library.\n   * The <i>rawData</i> and <i>data</i> fields are computed and stored.\n   *\n   * @param result The barcode result coming from the external Scandit Engine library.\n   * @returns The generated [[Barcode]] object.\n   */\n  export function createFromWASMResult(result: any): Barcode {\n    let decodedData: string;\n    try {\n      decodedData = decodeURIComponent(escape(String.fromCharCode.apply(null, result.rawData)));\n    } catch (error) {\n      decodedData = \"\";\n    }\n\n    return {\n      symbology: result.symbology,\n      data: decodedData,\n      rawData: new Uint8Array(result.rawData),\n      location: {\n        topLeft: { x: result.location[0][0], y: result.location[0][1] },\n        topRight: { x: result.location[1][0], y: result.location[1][1] },\n        bottomRight: { x: result.location[2][0], y: result.location[2][1] },\n        bottomLeft: { x: result.location[3][0], y: result.location[3][1] }\n      },\n      compositeFlag: result.compositeFlag,\n      isGs1DataCarrier: result.isGs1DataCarrier,\n      encodingArray: result.encodingArray\n    };\n  }\n\n  /**\n   * Barcode symbology type.\n   */\n  export enum Symbology {\n    EAN13 = \"ean13\",\n    EAN8 = \"ean8\",\n    UPCA = \"upca\",\n    UPCE = \"upce\",\n    CODE128 = \"code128\",\n    CODE39 = \"code39\",\n    CODE93 = \"code93\",\n    INTERLEAVED_2_OF_5 = \"itf\",\n    QR = \"qr\",\n    DATA_MATRIX = \"data-matrix\",\n    PDF417 = \"pdf417\",\n    MSI_PLESSEY = \"msi-plessey\",\n    GS1_DATABAR = \"databar\",\n    GS1_DATABAR_EXPANDED = \"databar-expanded\",\n    CODABAR = \"codabar\",\n    AZTEC = \"aztec\",\n    TWO_DIGIT_ADD_ON = \"two-digit-add-on\",\n    FIVE_DIGIT_ADD_ON = \"five-digit-add-on\",\n    MAXICODE = \"maxicode\",\n    CODE11 = \"code11\",\n    GS1_DATABAR_LIMITED = \"databar-limited\",\n    CODE25 = \"code25\",\n    MICRO_PDF417 = \"micropdf417\",\n    RM4SCC = \"rm4scc\",\n    KIX = \"kix\",\n    DOTCODE = \"dotcode\"\n  }\n\n  /**\n   * Flags to hint that two codes form a composite code.\n   */\n  export enum CompositeFlag {\n    /**\n     * Code is not part of a composite code.\n     */\n    NONE = 0x0,\n    /**\n     * Code could be part of a composite code. This flag is set by linear (1D) symbologies that have\n     * no composite flag support but can be part of a composite code like the EAN/UPC symbology family.\n     */\n    UNKNOWN = 0x1,\n    /**\n     * Code is the linear component of a composite code. This flag can be set by GS1 DataBar or GS1-128 (Code 128).\n     */\n    LINKED = 0x2,\n    /**\n     * Code is a GS1 Composite Code Type A (CC - A).This flag can be set by MicroPDF417 codes.\n     */\n    GS1_A = 0x4,\n    /**\n     * Code is a GS1 Composite Code Type B (CC-B). This flag can be set by MicroPDF417 codes.\n     */\n    GS1_B = 0x8,\n    /**\n     * Code is a GS1 Composite Code Type C (CC-C). This flag can be set by PDF417 codes.\n     */\n    GS1_C = 0x10\n  }\n\n  // istanbul ignore next\n  export namespace Symbology {\n    // tslint:disable:no-unnecessary-qualifier\n    /**\n     * Get the humanized name of a symbology.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The humanized name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toHumanizedName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"EAN-13\";\n        case Symbology.EAN8:\n          return \"EAN-8\";\n        case Symbology.UPCA:\n          return \"UPC-A\";\n        case Symbology.UPCE:\n          return \"UPC-E\";\n        case Symbology.CODE128:\n          return \"Code 128\";\n        case Symbology.CODE39:\n          return \"Code 39\";\n        case Symbology.CODE93:\n          return \"Code 93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"Interleaved Two of Five\";\n        case Symbology.QR:\n          return \"QR\";\n        case Symbology.DATA_MATRIX:\n          return \"Data Matrix\";\n        case Symbology.PDF417:\n          return \"PDF417\";\n        case Symbology.MSI_PLESSEY:\n          return \"MSI-Plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"GS1 DataBar 14\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"GS1 DataBar Expanded\";\n        case Symbology.CODABAR:\n          return \"Codabar\";\n        case Symbology.AZTEC:\n          return \"Aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"Two-Digit Add-On\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"Five-Digit Add-On\";\n        case Symbology.MAXICODE:\n          return \"MaxiCode\";\n        case Symbology.CODE11:\n          return \"Code 11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"GS1 DataBar Limited\";\n        case Symbology.CODE25:\n          return \"Code 25\";\n        case Symbology.MICRO_PDF417:\n          return \"MicroPDF417\";\n        case Symbology.RM4SCC:\n          return \"RM4SCC\";\n        case Symbology.KIX:\n          return \"KIX\";\n        case Symbology.DOTCODE:\n          return \"DotCode\";\n        default:\n          return \"Unknown\";\n      }\n    }\n\n    /**\n     * Get the JSON key name of a symbology, used for JSON-formatted ScanSettings and Scandit Engine library.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The json key name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toJSONName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"ean13\";\n        case Symbology.EAN8:\n          return \"ean8\";\n        case Symbology.UPCA:\n          return \"upca\";\n        case Symbology.UPCE:\n          return \"upce\";\n        case Symbology.CODE128:\n          return \"code128\";\n        case Symbology.CODE39:\n          return \"code39\";\n        case Symbology.CODE93:\n          return \"code93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"itf\";\n        case Symbology.QR:\n          return \"qr\";\n        case Symbology.DATA_MATRIX:\n          return \"data-matrix\";\n        case Symbology.PDF417:\n          return \"pdf417\";\n        case Symbology.MSI_PLESSEY:\n          return \"msi-plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"databar\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"databar-expanded\";\n        case Symbology.CODABAR:\n          return \"codabar\";\n        case Symbology.AZTEC:\n          return \"aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"two-digit-add-on\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"five-digit-add-on\";\n        case Symbology.MAXICODE:\n          return \"maxicode\";\n        case Symbology.CODE11:\n          return \"code11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"databar-limited\";\n        case Symbology.CODE25:\n          return \"code25\";\n        case Symbology.MICRO_PDF417:\n          return \"micropdf417\";\n        case Symbology.RM4SCC:\n          return \"rm4scc\";\n        case Symbology.KIX:\n          return \"kix\";\n        case Symbology.DOTCODE:\n          return \"dotcode\";\n        default:\n          return \"unknown\";\n      }\n    }\n    // tslint:enable:no-unnecessary-qualifier\n  }\n}\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// tslint:disable:no-string-literal\nimport { ImageSettings } from \"../imageSettings\";\nimport { Parser } from \"../parser\";\n\n// TODO: Find a nice way to use typescript WebWorker lib/types just for worker files\n/**\n * @hidden\n */\ndeclare const importScripts: (...urls: string[]) => void;\n/**\n * @hidden\n */\ndeclare const postMessage: (message: any, transfer?: any[] | undefined) => void;\n\n/**\n * @hidden\n */\ntype FileSystemType = {};\n\n/**\n * @hidden\n */\ndeclare const Module: {\n  HEAPU8: Uint8Array;\n  asm: any;\n  lengthBytesUTF8(str: string): number;\n  UTF8ToString(ptr: number): string;\n  stringToUTF8(str: string, outPtr: number, maxBytesToWrite: number): void;\n  _malloc(size: number): number;\n  _free(ptr: number): void;\n  callMain(): void;\n};\n\n/**\n * @hidden\n */\ndeclare namespace FS {\n  function syncfs(populate: boolean, callback: (e: any) => any): void;\n  function syncfs(callback: (e: any) => any, populate?: boolean): void;\n  function mount(fsType: FileSystemType, opts: any, mountpoint: string): any;\n  function mkdir(path: string, mode?: number): any;\n}\n\n/**\n * @hidden\n */\ndeclare const IDBFS: FileSystemType;\n\n/**\n * @hidden\n */\ndeclare type ScanWorkUnit = {\n  requestId: number;\n  data: ArrayBuffer;\n};\n\n/**\n * @hidden\n */\ndeclare type ParseWorkUnit = {\n  requestId: number;\n  dataFormat: Parser.DataFormat;\n  dataString: string;\n  options: string;\n};\n\n/**\n * @hidden\n */\n// tslint:disable-next-line:max-func-body-length\nfunction engineSDKWorkerFunction(): void {\n  let imageBufferPointer: number | undefined;\n  let licenseKey: string;\n  let settings: string;\n  let imageSettings: ImageSettings;\n  let wasmLoaded: boolean = false;\n  let scannerSettingsReady: boolean = false;\n  let scannerImageSettingsReady: boolean = false;\n  const scanQueue: ScanWorkUnit[] = [];\n  const parseQueue: ParseWorkUnit[] = [];\n  let contextAvailable: boolean = false;\n  let scanWorkSubmitted: boolean = false;\n  let parseWorkSubmitted: boolean = false;\n  let blurryDecodingEnabled: boolean = false;\n\n  function loadLibrary(deviceId: string, libraryLocation: string): void {\n    const customModule: any = {\n      locateFile: () => {\n        return `${libraryLocation}scandit-engine-sdk.wasm`;\n      },\n      arguments: [deviceId],\n      noInitialRun: true,\n      preRun: () => {\n        try {\n          FS.mkdir(\"/scandit_sync_folder\");\n        } catch (error) {\n          if (error.code !== \"EEXIST\") {\n            throw error;\n          }\n        }\n        FS.mount(IDBFS, {}, \"/scandit_sync_folder\");\n        FS.syncfs(true, () => {\n          Module.callMain();\n          wasmLoaded = true;\n          postMessage([\"status\", \"ready\"]);\n          workOnScanQueue();\n          workOnParseQueue();\n        });\n      }\n    };\n    (<any>self)[\"Module\"] = customModule;\n\n    if (typeof importScripts === \"function\") {\n      try {\n        importScripts(`${libraryLocation}scandit-engine-sdk.min.js`);\n      } catch (error) {\n        console.error(\n          `Couldn't retrieve Scandit SDK Engine library at ${libraryLocation}scandit-engine-sdk.min.js, ` +\n            \"did you configure the path for it correctly?\"\n        );\n      }\n    }\n  }\n\n  function createContext(): void {\n    if (contextAvailable || licenseKey == null || !wasmLoaded) {\n      return;\n    }\n\n    const licenseKeyLength: number = Module.lengthBytesUTF8(licenseKey) + 1;\n    const licenseKeyPointer: number = Module._malloc(licenseKeyLength);\n    Module.stringToUTF8(licenseKey, licenseKeyPointer, licenseKeyLength);\n    Module.asm._create_context(licenseKeyPointer);\n    Module._free(licenseKeyPointer);\n\n    contextAvailable = true;\n  }\n\n  function setupSettings(): void {\n    if (settings == null || !contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    scannerSettingsReady = false;\n\n    if (licenseKey == null) {\n      console.error(\"No license key found, the library must be set up before the scanning engine can be used\");\n\n      return;\n    }\n\n    const settingsLength: number = Module.lengthBytesUTF8(settings) + 1;\n    const settingsPointer: number = Module._malloc(settingsLength);\n    Module.stringToUTF8(settings, settingsPointer, settingsLength);\n    const resultPointer: number = Module.asm._scanner_settings_new_from_json(\n      settingsPointer,\n      blurryDecodingEnabled ? 1 : 0\n    );\n    Module._free(settingsPointer);\n\n    const result: string = Module.UTF8ToString(resultPointer);\n    if (result !== \"\") {\n      scannerSettingsReady = true;\n      console.debug(JSON.parse(result));\n    }\n  }\n\n  function setupImageSettings(): void {\n    if (imageSettings == null || !wasmLoaded) {\n      return;\n    }\n\n    scannerImageSettingsReady = false;\n\n    let channels: number;\n    // TODO: For now it's not possible to use imported variables as the worker doesn't have access at runtime\n    switch (imageSettings.format.valueOf()) {\n      case 0: // GRAY_8U\n        channels = 1;\n        break;\n      case 1: // RGB_8U\n        channels = 3;\n        break;\n      case 2: // RGBA_8U\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    Module.asm._scanner_image_settings_new(imageSettings.width, imageSettings.height, channels);\n    if (imageBufferPointer != null) {\n      Module._free(imageBufferPointer);\n      imageBufferPointer = undefined;\n    }\n    imageBufferPointer = Module._malloc(imageSettings.width * imageSettings.height * channels);\n\n    scannerImageSettingsReady = true;\n  }\n\n  function scanImage(imageData: ArrayBuffer): string {\n    Module.HEAPU8.set(new Uint8Array(imageData), imageBufferPointer);\n\n    return Module.UTF8ToString(Module.asm._scanner_scan(imageBufferPointer));\n  }\n\n  function parseString(dataFormat: Parser.DataFormat, dataString: string, options: string): string {\n    const dataStringLength: number = Module.lengthBytesUTF8(dataString) + 1;\n    const dataStringPointer: number = Module._malloc(dataStringLength);\n    Module.stringToUTF8(dataString, dataStringPointer, dataStringLength);\n    const optionsLength: number = Module.lengthBytesUTF8(options) + 1;\n    const optionsPointer: number = Module._malloc(optionsLength);\n    Module.stringToUTF8(options, optionsPointer, optionsLength);\n    const resultPointer: number = Module.asm._parser_parse_string(\n      dataFormat.valueOf(),\n      dataStringPointer,\n      dataStringLength - 1,\n      optionsPointer\n    );\n    Module._free(dataStringPointer);\n    Module._free(optionsPointer);\n\n    return Module.UTF8ToString(resultPointer);\n  }\n\n  function workOnScanQueue(): void {\n    if ((!scannerSettingsReady || !scannerImageSettingsReady) && scanQueue.length !== 0) {\n      createContext();\n      setupSettings();\n      setupImageSettings();\n    }\n\n    if (!scannerSettingsReady || !scannerImageSettingsReady) {\n      return;\n    }\n\n    let currentScanWorkUnit: ScanWorkUnit;\n    let resultData: string;\n    while (scanQueue.length !== 0) {\n      currentScanWorkUnit = <ScanWorkUnit>scanQueue.shift();\n      resultData = scanImage(currentScanWorkUnit.data);\n      const result: any = JSON.parse(resultData);\n      // Important! We send back data that is actually ignored by the receiver (currentScanWorkUnit.data).\n      // This is needed however because some browsers run out of memory due to no GC being run\n      // if this data is not send back (cleared) by the worker for some weird reason...\n      if (result.error != null) {\n        postMessage(\n          [\n            \"work-error\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              error: result.error\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else if (result.result != null) {\n        postMessage(\n          [\n            \"work-result\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              result: result.result\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else {\n        console.error(\"Unrecognized Scandit Engine result:\", result);\n        postMessage([\"\"], [currentScanWorkUnit.data]);\n      }\n    }\n  }\n\n  function workOnParseQueue(): void {\n    if (!contextAvailable && parseQueue.length !== 0) {\n      createContext();\n    }\n\n    if (!contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    let currentParseWorkUnit: ParseWorkUnit;\n    let resultData: string;\n    while (parseQueue.length !== 0) {\n      currentParseWorkUnit = <ParseWorkUnit>parseQueue.shift();\n      resultData = parseString(\n        currentParseWorkUnit.dataFormat,\n        currentParseWorkUnit.dataString,\n        currentParseWorkUnit.options\n      );\n      const result: any = JSON.parse(resultData);\n      if (result.error != null) {\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: result.error\n          }\n        ]);\n      } else if (result.result != null) {\n        postMessage([\n          \"parse-string-result\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            result: result.result\n          }\n        ]);\n      } else {\n        console.error(\"Unrecognized Scandit Parser result:\", result);\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: {\n              errorCode: -1,\n              errorMessage: \"Unknown Scandit Parser error\"\n            }\n          }\n        ]);\n      }\n    }\n  }\n\n  onmessage = e => {\n    // Setting settings triggers license verification and activation: delay until first frame processed\n    const data: any = e.data;\n    switch (data.type) {\n      case \"enable-blurry-decoding\":\n        blurryDecodingEnabled = true;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"load-library\":\n        loadLibrary(data.deviceId, data.libraryLocation);\n        break;\n      case \"license-key\":\n        licenseKey = data.licenseKey;\n        createContext();\n        if (parseWorkSubmitted) {\n          workOnParseQueue();\n        }\n        break;\n      case \"settings\":\n        settings = data.settings;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"image-settings\":\n        imageSettings = data.imageSettings;\n        if (scanWorkSubmitted) {\n          setupImageSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"work\":\n        scanWorkSubmitted = true;\n        scanQueue.push({\n          requestId: data.requestId,\n          data: data.data\n        });\n        workOnScanQueue();\n        break;\n      case \"parse-string\":\n        parseWorkSubmitted = true;\n        parseQueue.push({\n          requestId: data.requestId,\n          dataFormat: data.dataFormat,\n          dataString: data.dataString,\n          options: data.options\n        });\n        workOnParseQueue();\n        break;\n      default:\n        break;\n    }\n  };\n}\n\n/**\n * @hidden\n */\nexport const engineSDKWorker: Blob = new Blob([`(${engineSDKWorkerFunction.toString()})()`], {\n  type: \"text/javascript\"\n});\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n","/**\n * A symbology-specific configuration object.\n *\n * See https://docs.scandit.com/stable/c_api/symbologies.html for more details.\n */\nexport class SymbologySettings {\n  private enabled: boolean;\n  private colorInvertedEnabled: boolean;\n  private activeSymbolCounts: number[];\n  private extensions: Set<SymbologySettings.Extension>;\n  private checksums: Set<SymbologySettings.Checksum>;\n  private customExtensions: boolean;\n  private customChecksums: boolean;\n\n  /**\n   * Creates a SymbologySettings instance.\n   *\n   * @param enabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the symbology is enabled for recognition.\n   * @param colorInvertedEnabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether color inverted recognition is enabled.\n   * @param activeSymbolCounts\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology range)</div>\n   * The list of active symbol counts.\n   * @param extensions\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology extensions)</div>\n   * The list/set of enabled extensions.\n   * @param checksums\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology checksums)</div>\n   * The list/set of enabled checksums.\n   */\n  constructor({\n    enabled = false,\n    colorInvertedEnabled = false,\n    activeSymbolCounts = [],\n    extensions = null,\n    checksums = null\n  }: {\n    enabled?: boolean;\n    colorInvertedEnabled?: boolean;\n    activeSymbolCounts?: number[];\n    extensions?: SymbologySettings.Extension[] | Set<SymbologySettings.Extension>;\n    checksums?: SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>;\n  } = {}) {\n    this.enabled = enabled;\n    this.colorInvertedEnabled = colorInvertedEnabled;\n    this.activeSymbolCounts = activeSymbolCounts;\n    this.customExtensions = extensions != null;\n    this.customChecksums = checksums != null;\n    if (extensions == null) {\n      extensions = [];\n    }\n    if (checksums == null) {\n      checksums = [];\n    }\n    this.extensions = new Set(\n      Array.from(extensions).filter(e => {\n        return (\n          e in SymbologySettings.Extension || Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n        );\n      })\n    );\n    this.checksums = new Set(\n      Array.from(checksums).filter(c => {\n        return (\n          c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n        );\n      })\n    );\n  }\n\n  /**\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isEnabled(): boolean {\n    return this.enabled;\n  }\n\n  /**\n   * Enable or disable recognition of the symbology.\n   *\n   * @param enabled Whether the symbology is enabled for recognition.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setEnabled(enabled: boolean): SymbologySettings {\n    this.enabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether color inverted recognition is enabled.\n   */\n  public isColorInvertedEnabled(): boolean {\n    return this.colorInvertedEnabled;\n  }\n\n  /**\n   * Enable or disable recognition of inverted-color symbology (in addition to normal colors).\n   *\n   * @param enabled Whether color inverted recognition is enabled.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setColorInvertedEnabled(enabled: boolean): SymbologySettings {\n    this.colorInvertedEnabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom list of active symbol counts.\n   * If never set, an empty array is returned\n   * but the Scandit Engine library will use the default list for the symbology.\n   *\n   * @returns The list of active symbol counts.\n   */\n  public getActiveSymbolCounts(): number[] {\n    return this.activeSymbolCounts;\n  }\n\n  /**\n   * Set the list of active symbol counts.\n   *\n   * @param activeSymbolCounts The list of active symbol counts.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCounts(activeSymbolCounts: number[]): SymbologySettings {\n    this.activeSymbolCounts = activeSymbolCounts;\n\n    return this;\n  }\n\n  /**\n   * Set the range of active symbol counts.\n   *\n   * @param minCount The minimum accepted number of symbols.\n   * @param maxCount The minimum accepted number of symbols.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCountsRange(minCount: number, maxCount: number): SymbologySettings {\n    this.activeSymbolCounts = Array.from({ length: maxCount - minCount + 1 }, (_, k) => {\n      return k + minCount;\n    });\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of extensions.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default extension set for the symbology.\n   *\n   * @returns The set of enabled extensions.\n   */\n  public getEnabledExtensions(): Set<SymbologySettings.Extension> {\n    return this.extensions;\n  }\n\n  /**\n   * Enable an extension or list/set of extensions\n   *\n   * @param extension The single extension or list/set of extensions to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    this.customExtensions = true;\n    if (typeof extension === \"object\") {\n      this.extensions = new Set([\n        ...this.extensions,\n        ...Array.from(extension).filter(e => {\n          return (\n            e in SymbologySettings.Extension ||\n            Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        extension in SymbologySettings.Extension ||\n        Object.values(SymbologySettings.Extension).indexOf(extension.toLowerCase()) !== -1\n      ) {\n        this.extensions.add(extension);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable an extension or list/set of extensions.\n   *\n   * @param extension The single extension or list/set of extensions to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    if (typeof extension === \"object\") {\n      this.extensions = new Set(\n        [...this.extensions].filter(x => {\n          return extension instanceof Array ? extension.indexOf(x) === -1 : !extension.has(x);\n        })\n      );\n    } else {\n      this.extensions.delete(extension);\n    }\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of checksums.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default checksum set for the symbology.\n   *\n   * @returns The set of enabled checksums.\n   */\n  public getEnabledChecksums(): Set<SymbologySettings.Checksum> {\n    return this.checksums;\n  }\n\n  /**\n   * Enable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    this.customChecksums = true;\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set([\n        ...this.checksums,\n        ...Array.from(checksum).filter(c => {\n          return (\n            c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        checksum in SymbologySettings.Checksum ||\n        Object.values(SymbologySettings.Checksum).indexOf(checksum.toLowerCase()) !== -1\n      ) {\n        this.checksums.add(checksum);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set(\n        [...this.checksums].filter(x => {\n          return checksum instanceof Array ? checksum.indexOf(x) === -1 : !checksum.has(x);\n        })\n      );\n    } else {\n      this.checksums.delete(checksum);\n    }\n\n    return this;\n  }\n\n  protected toJSON(): object {\n    return {\n      enabled: this.enabled,\n      colorInvertedEnabled: this.colorInvertedEnabled,\n      activeSymbolCounts: this.activeSymbolCounts.length === 0 ? undefined : this.activeSymbolCounts,\n      extensions: this.customExtensions ? Array.from(this.extensions) : undefined,\n      checksums: this.customChecksums ? Array.from(this.checksums) : undefined\n    };\n  }\n}\n\n// istanbul ignore next\nexport namespace SymbologySettings {\n  /**\n   * Symbology extensions for particular functionalities, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Extension {\n    /**\n     * Improve scan performance when reading direct part marked (DPM) Data Matrix codes.\n     * Enabling this extension comes at the cost of increased frame processing times.\n     */\n    DIRECT_PART_MARKING_MODE = \"direct_part_marking_mode\",\n    /**\n     * Interpret the Code 39 / Code 93 code data using two symbols per output character to encode all ASCII characters.\n     */\n    FULL_ASCII = \"full_ascii\",\n    /**\n     * Enable scanning codes that have quiet zones (white area before and after the code) significantly smaller\n     * than what's allowed by the symbology specification.\n     */\n    RELAXED_SHARP_QUIET_ZONE_CHECK = \"relaxed_sharp_quiet_zone_check\",\n    /**\n     * Remove the leading zero digit from the result.\n     */\n    REMOVE_LEADING_ZERO = \"remove_leading_zero\",\n    /**\n     * Remove the leading zero digit from the result if the UPC-A representation extension \"RETURN_AS_UPCA\" is enabled.\n     */\n    REMOVE_LEADING_UPCA_ZERO = \"remove_leading_upca_zero\",\n    /**\n     * Transform the UPC-E result into its UPC-A representation.\n     */\n    RETURN_AS_UPCA = \"return_as_upca\",\n    /**\n     * Removes the leading FNC1 character that indicates a GS1 code.\n     */\n    STRIP_LEADING_FNC1 = \"strip_leading_fnc1\"\n  }\n\n  /**\n   * Checksum algorithms, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Checksum {\n    /**\n     * Modulo 10 checksum.\n     */\n    MOD_10 = \"mod10\",\n    /**\n     * Modulo 11 checksum.\n     */\n    MOD_11 = \"mod11\",\n    /**\n     * Modulo 16 checksum.\n     */\n    MOD_16 = \"mod16\",\n    /**\n     * Modulo 43 checksum.\n     */\n    MOD_43 = \"mod43\",\n    /**\n     * Modulo 47 checksum.\n     */\n    MOD_47 = \"mod47\",\n    /**\n     * Modulo 103 checksum.\n     */\n    MOD_103 = \"mod103\",\n    /**\n     * Two modulo 10 checksums.\n     */\n    MOD_1010 = \"mod1010\",\n    /**\n     * Modulo 11 and modulo 10 checksum.\n     */\n    MOD_1110 = \"mod1110\"\n  }\n}\n","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };","import { Barcode } from \"./barcode\";\nimport { SearchArea } from \"./searchArea\";\nimport { SymbologySettings } from \"./symbologySettings\";\n/**\n * A configuration object for scanning options.\n *\n * Modified ScanSettings need to be applied to a scanner via\n * [[BarcodePicker.applyScanSettings]] or [[Scanner.applyScanSettings]] to take effect.\n */\nexport class ScanSettings {\n  // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n  private symbologySettings: { [symbology: string]: SymbologySettings };\n  private codeDuplicateFilter: number;\n  private maxNumberOfCodesPerFrame: number;\n  private searchArea: SearchArea;\n\n  /**\n   * Creates a ScanSettings instance.\n   *\n   * @param enabledSymbologies <div class=\"tsd-signature-symbol\">Default =&nbsp;[]</div>\n   * The single symbology or list/set of symbologies\n   * that should be initialized as enabled for recognition.\n   * @param codeDuplicateFilter <div class=\"tsd-signature-symbol\">Default =&nbsp;0</div>\n   * The duplicate filter specifying how often a code can be scanned.\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   * When the same code (data/symbology) is scanned within the specified interval it is filtered out as a duplicate.\n   * @param maxNumberOfCodesPerFrame <div class=\"tsd-signature-symbol\">Default =&nbsp;1</div>\n   * The maximum number of barcodes to be recognized every frame.\n   * @param searchArea <div class=\"tsd-signature-symbol\">Default =&nbsp;{ x: 0, y: 0, width: 1.0, height: 1.0 }</div>\n   * The area of the image in which barcodes are searched.\n   */\n  constructor(\n    {\n      enabledSymbologies = [],\n      codeDuplicateFilter = 0,\n      maxNumberOfCodesPerFrame = 1,\n      searchArea = { x: 0, y: 0, width: 1.0, height: 1.0 }\n    }: {\n      enabledSymbologies?: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>;\n      codeDuplicateFilter?: number;\n      maxNumberOfCodesPerFrame?: number;\n      searchArea?: SearchArea;\n    } = {}\n  ) {\n    this.symbologySettings = {};\n    this.enableSymbologies(enabledSymbologies);\n    this.codeDuplicateFilter = codeDuplicateFilter;\n    this.maxNumberOfCodesPerFrame = maxNumberOfCodesPerFrame;\n    this.searchArea = searchArea;\n  }\n\n  /**\n   * @returns The configuration object as a JSON string.\n   */\n  public toJSONString(): string {\n    // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n    const symbologies: { [jsonSymbologyName: string]: SymbologySettings } = {};\n    Object.keys(this.symbologySettings).forEach(s => {\n      symbologies[Barcode.Symbology.toJSONName(<Barcode.Symbology>s)] = (<any>this.symbologySettings)[s];\n    });\n\n    const isFullSearchArea: boolean =\n      Math.round(this.searchArea.x * 100) === 0 &&\n      Math.round(this.searchArea.y * 100) === 0 &&\n      Math.round(this.searchArea.width * 100) === 100 &&\n      Math.round(this.searchArea.height * 100) === 100;\n\n    return JSON.stringify({\n      symbologies: symbologies,\n      codeDuplicateFilter: this.codeDuplicateFilter,\n      maxNumberOfCodesPerFrame: this.maxNumberOfCodesPerFrame,\n      searchArea: this.searchArea,\n      codeLocation1d: isFullSearchArea\n        ? undefined\n        : {\n            area: this.searchArea\n          },\n      codeLocation2d: isFullSearchArea\n        ? undefined\n        : {\n            area: this.searchArea\n          }\n    });\n  }\n\n  /**\n   * Get the configuration object for a symbology (which can then be modified).\n   *\n   * @param symbology The symbology for which to retrieve the configuration.\n   * @returns The symbology configuration object for the specified symbology.\n   */\n  public getSymbologySettings(symbology: Barcode.Symbology): SymbologySettings {\n    const ls: string = symbology.toLowerCase();\n    if (this.symbologySettings.hasOwnProperty(ls)) {\n      return this.symbologySettings[ls];\n    } else {\n      this.symbologySettings[ls] = new SymbologySettings();\n\n      return this.symbologySettings[ls];\n    }\n  }\n\n  /**\n   * Get the recognition enabled status for a symbology.\n   *\n   * @param symbology The symbology for which to retrieve the recognition enabled status.\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isSymbologyEnabled(symbology: Barcode.Symbology): boolean {\n    const ls: string = symbology.toLowerCase();\n\n    return this.symbologySettings.hasOwnProperty(ls) && this.symbologySettings[ls].isEnabled();\n  }\n\n  /**\n   * Enable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to enable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public enableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, true);\n  }\n\n  /**\n   * Disable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to disable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public disableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, false);\n  }\n\n  /**\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @returns The code duplicate filter value.\n   */\n  public getCodeDuplicateFilter(): number {\n    return this.codeDuplicateFilter;\n  }\n\n  /**\n   * Set the code duplicate filter value.\n   *\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @param durationMilliseconds The new value (-1, 0, or positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setCodeDuplicateFilter(durationMilliseconds: number): ScanSettings {\n    this.codeDuplicateFilter = durationMilliseconds;\n\n    return this;\n  }\n\n  /**\n   * @returns The maximum number of barcodes to be recognized every frame.\n   */\n  public getMaxNumberOfCodesPerFrame(): number {\n    return this.maxNumberOfCodesPerFrame;\n  }\n\n  /**\n   * Set the maximum number of barcodes to be recognized every frame.\n   *\n   * @param limit The new value (non-zero positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setMaxNumberOfCodesPerFrame(limit: number): ScanSettings {\n    this.maxNumberOfCodesPerFrame = limit;\n\n    return this;\n  }\n\n  /**\n   * @returns The area of the image in which barcodes are searched.\n   */\n  public getSearchArea(): SearchArea {\n    return this.searchArea;\n  }\n\n  /**\n   * Set the area of the image in which barcodes are searched.\n   *\n   * @param searchArea The new search area.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setSearchArea(searchArea: SearchArea): ScanSettings {\n    this.searchArea = searchArea;\n\n    return this;\n  }\n\n  private setSymbologiesEnabled(\n    symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>,\n    enabled: boolean\n  ): ScanSettings {\n    if (typeof symbology === \"object\") {\n      for (const s of symbology) {\n        const ls: string = s.toLowerCase();\n        if (s in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n          if (this.symbologySettings.hasOwnProperty(ls)) {\n            this.symbologySettings[ls].setEnabled(enabled);\n          } else {\n            this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n          }\n        }\n      }\n    } else {\n      const ls: string = symbology.toLowerCase();\n      if (symbology in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n        if (this.symbologySettings.hasOwnProperty(ls)) {\n          this.symbologySettings[ls].setEnabled(enabled);\n        } else {\n          this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n        }\n      }\n    }\n\n    return this;\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\n\nimport { engineSDKWorker } from \"./workers/engineSDKWorker\";\n\nimport { deviceId, scanditEngineLocation, userLicenseKey } from \"../index\";\nimport { Barcode } from \"./barcode\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { ParserField } from \"./parserField\";\nimport { ParserResult } from \"./parserResult\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A low-level scanner interacting with the external Scandit Engine library.\n * Used to set up scan / image settings and to process single image frames.\n *\n * The loading of the external Scandit Engine library can take some time, the [[onReady]] method\n * can be used to set up a listener function to be called when the library is loaded and the [[isReady]] method\n * can return the current status. The scanner will be ready to start scanning when the library is loaded.\n */\nexport class Scanner {\n  private scanSettings: ScanSettings;\n  private imageSettings: ImageSettings;\n  private engineSDKWorker: Worker;\n  private eventEmitter: EventEmitter;\n  private workerParseRequestId: number;\n  private workerScanRequestId: number;\n  private workerScanQueueLength: number;\n  private isReadyToWork: boolean;\n\n  /**\n   * Creates a Scanner instance.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * Before processing an image the relative settings must also have been set.\n   *\n   * If the library has not been correctly configured yet a <tt>LibraryNotConfiguredError</tt> error is thrown.\n   *\n   * If a browser is incompatible a <tt>UnsupportedBrowserError</tt> error is thrown.\n   *\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options.\n   * @param imageSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The configuration object to define the properties of an image to be scanned.\n   */\n  constructor({\n    scanSettings = new ScanSettings(),\n    imageSettings\n  }: {\n    scanSettings?: ScanSettings;\n    imageSettings?: ImageSettings;\n  } = {}) {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      throw unsupportedBrowserError;\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      throw new CustomError({\n        name: \"LibraryNotConfiguredError\",\n        message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n      });\n    }\n\n    this.isReadyToWork = false;\n    this.workerScanQueueLength = 0;\n\n    this.engineSDKWorker = new Worker(URL.createObjectURL(engineSDKWorker));\n    this.engineSDKWorker.onmessage = this.engineWokerOnMessage.bind(this);\n    this.engineSDKWorker.postMessage({\n      type: \"load-library\",\n      deviceId: deviceId,\n      libraryLocation: scanditEngineLocation\n    });\n\n    this.eventEmitter = new EventEmitter();\n    this.workerParseRequestId = 0;\n    this.workerScanRequestId = 0;\n\n    this.applyLicenseKey(userLicenseKey);\n    this.applyScanSettings(scanSettings);\n    if (imageSettings != null) {\n      this.applyImageSettings(imageSettings);\n    }\n  }\n\n  /**\n   * Stop the internal <tt>WebWorker</tt> and destroy the scanner itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the scanner anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    if (this.engineSDKWorker != null) {\n      this.engineSDKWorker.terminate();\n    }\n    this.eventEmitter.removeAllListeners();\n  }\n\n  /**\n   * Applies a new set of scan settings to the scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): Scanner {\n    this.scanSettings = scanSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"settings\",\n      settings: this.scanSettings.toJSONString()\n    });\n\n    return this;\n  }\n\n  /**\n   * Applies a new set of image settings to the scanner (replacing old settings).\n   *\n   * @param imageSettings The image configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyImageSettings(imageSettings: ImageSettings): Scanner {\n    this.imageSettings = imageSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"image-settings\",\n      imageSettings: this.imageSettings\n    });\n\n    return this;\n  }\n\n  /**\n   * Process a given image using the previously set scanner and image settings,\n   * recognizing codes and retrieving the result as a list of barcodes (if any).\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * Depending on the current image settings, given <i>imageData</i> and scanning execution, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>NoImageSettings</tt>\n   * - <tt>ImageSettingsDataMismatch</tt>\n   * - <tt>ScanditEngineError</tt>\n   *\n   * @param imageData The image data given as a byte array, complying with the previously set image settings.\n   * @returns A promise resolving to the [[ScanResult]] object.\n   */\n  public processImage(imageData: Uint8ClampedArray): Promise<ScanResult> {\n    if (this.imageSettings == null) {\n      return Promise.reject(\n        new CustomError({ name: \"NoImageSettings\", message: \"No image settings set up in the scanner\" })\n      );\n    }\n\n    let channels: number;\n    switch (this.imageSettings.format.valueOf()) {\n      case ImageSettings.Format.GRAY_8U:\n        channels = 1;\n        break;\n      case ImageSettings.Format.RGB_8U:\n        channels = 3;\n        break;\n      case ImageSettings.Format.RGBA_8U:\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    if (this.imageSettings.width * this.imageSettings.height * channels !== imageData.length) {\n      return Promise.reject(\n        new CustomError({\n          name: \"ImageSettingsDataMismatch\",\n          message: \"The provided image data doesn't match the previously set image settings\"\n        })\n      );\n    }\n\n    this.workerScanRequestId++;\n    this.workerScanQueueLength++;\n\n    return new Promise<ScanResult>((resolve, reject) => {\n      const workResultEvent: string = `work-result-${this.workerScanRequestId}`;\n      const workErrorEvent: string = `work-error-${this.workerScanRequestId}`;\n      this.eventEmitter.once(workResultEvent, result => {\n        this.eventEmitter.removeAllListeners(workErrorEvent);\n        resolve({ barcodes: result.map(Barcode.createFromWASMResult) });\n      });\n      this.eventEmitter.once(workErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(workResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage(\n        {\n          type: \"work\",\n          requestId: this.workerScanRequestId,\n          data: imageData.buffer\n        },\n        [imageData.buffer]\n      );\n    });\n  }\n\n  /**\n   * @returns Whether the scanner is currently busy processing an image.\n   */\n  public isBusyProcessing(): boolean {\n    return this.workerScanQueueLength !== 0;\n  }\n\n  /**\n   * @returns Whether the scanner has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the scanner can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[Scanner]] object.\n   */\n  public onReady(listener: () => void): Scanner {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return new Parser(this, dataFormat);\n  }\n\n  /**\n   * @hidden\n   *\n   * Process a given string using the Scandit Parser library,\n   * parsing the data in the given format and retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataFormat The format of the given data.\n   * @param dataString The string containing the data to be parsed.\n   * @param options Options for the specific data format parser.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataFormat: Parser.DataFormat, dataString: string, options?: any): Promise<ParserResult> {\n    this.workerParseRequestId++;\n\n    return new Promise<ParserResult>((resolve, reject) => {\n      const parseStringResultEvent: string = `parse-string-result-${this.workerParseRequestId}`;\n      const parseStringErrorEvent: string = `parse-string-error-${this.workerParseRequestId}`;\n      this.eventEmitter.once(parseStringResultEvent, result => {\n        this.eventEmitter.removeAllListeners(parseStringErrorEvent);\n        const parserResult: ParserResult = {\n          jsonString: result,\n          fields: [],\n          fieldsByName: {}\n        };\n        (<ParserField[]>JSON.parse(result)).forEach(parserField => {\n          parserResult.fields.push(parserField);\n          parserResult.fieldsByName[parserField.name] = parserField;\n        });\n        resolve(parserResult);\n      });\n      this.eventEmitter.once(parseStringErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(parseStringResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage({\n        type: \"parse-string\",\n        requestId: this.workerParseRequestId,\n        dataFormat: dataFormat,\n        dataString: dataString,\n        options: options == null ? \"{}\" : JSON.stringify(options)\n      });\n    });\n  }\n\n  private applyLicenseKey(licenseKey: string): Scanner {\n    this.engineSDKWorker.postMessage({\n      type: \"license-key\",\n      licenseKey: licenseKey\n    });\n\n    return this;\n  }\n\n  private engineWokerOnMessage(ev: MessageEvent): void {\n    const messageType: string | undefined = ev.data[0];\n    const messageData: any | undefined = ev.data[1];\n\n    if (messageType === \"status\") {\n      if (messageData === \"ready\") {\n        this.isReadyToWork = true;\n        this.eventEmitter.emit(\"ready\");\n      }\n    } else if (messageType === \"work-result\" && messageData != null) {\n      this.eventEmitter.emit(`work-result-${messageData.requestId}`, messageData.result);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"work-error\" && messageData != null) {\n      this.eventEmitter.emit(`work-error-${messageData.requestId}`, messageData.error);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"parse-string-result\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-result-${messageData.requestId}`, messageData.result);\n    } else if (messageType === \"parse-string-error\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-error-${messageData.requestId}`, messageData.error);\n    }\n  }\n}\n","/**\n * A configuration object to request custom capabilities when accessing a camera.\n */\nexport interface CameraSettings {\n  /**\n   * The preferred video fram resolution (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  readonly resolutionPreference: CameraSettings.ResolutionPreference;\n}\n\nexport namespace CameraSettings {\n  /**\n   * Video frame resolution request (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  export enum ResolutionPreference {\n    /**\n     * Resolution of around 1080p (or less).\n     */\n    FULL_HD,\n    /**\n     * Resolution of around 720p (or less).\n     */\n    HD\n  }\n}\n","/*! howler.js v2.0.9 | (c) 2013-2018, James Simpson of GoldFire Studios | MIT License | howlerjs.com */\n!function(){\"use strict\";var e=function(){this.init()};e.prototype={init:function(){var e=this||n;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent=\"canplaythrough\",e._navigator=\"undefined\"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.volume=u._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.muted=!!e||u._muted)}return t},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,\"\")]},_setup:function(){var e=this||n;if(e.state=e.ctx?e.ctx.state||\"running\":\"running\",e._autoSuspend(),!e.usingWebAudio)if(\"undefined\"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent=\"canplay\")}catch(n){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t=\"undefined\"!=typeof Audio?new Audio:null}catch(n){return e}if(!t||\"function\"!=typeof t.canPlayType)return e;var o=t.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),r=e._navigator&&e._navigator.userAgent.match(/OPR\\/([0-6].)/g),a=r&&parseInt(r[0].split(\"/\")[1],10)<33;return e._codecs={mp3:!(a||!o&&!t.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!t.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,\"\"),aac:!!t.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!t.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(t.canPlayType(\"audio/x-m4a;\")||t.canPlayType(\"audio/m4a;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(t.canPlayType(\"audio/x-mp4;\")||t.canPlayType(\"audio/mp4;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),webm:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),dolby:!!t.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(t.canPlayType(\"audio/x-flac;\")||t.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},e},_enableMobileAudio:function(){var e=this||n,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),o=!!(\"ontouchend\"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||o)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(){n._autoResume();var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),void 0===t.start?t.noteOn(0):t.start(0),\"function\"==typeof e.ctx.resume&&e.ctx.resume(),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener(\"touchstart\",r,!0),document.removeEventListener(\"touchend\",r,!0)}};return document.addEventListener(\"touchstart\",r,!0),document.addEventListener(\"touchend\",r,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var o=0;o<e._howls[t]._sounds.length;o++)if(!e._howls[t]._sounds[o]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state=\"suspending\",e.ctx.suspend().then(function(){e.state=\"suspended\",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return\"running\"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):\"suspended\"===e.state?(e.ctx.resume().then(function(){e.state=\"running\";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit(\"resume\")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):\"suspending\"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new e,t=function(e){var n=this;if(!e.src||0===e.src.length)return void console.error(\"An array of source files must be passed with any new Howl.\");n.init(e)};t.prototype={init:function(e){var t=this;return n.ctx||_(),t._autoplay=e.autoplay||!1,t._format=\"string\"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=\"boolean\"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=\"string\"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state=\"unloaded\",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,void 0!==n.ctx&&n.ctx&&n.mobileAutoEnable&&n._enableMobileAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:\"play\",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)return void e._emit(\"loaderror\",null,\"No audio support.\");\"string\"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,i;if(e._format&&e._format[r])u=e._format[r];else{if(\"string\"!=typeof(i=e._src[r])){e._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}u=/^data:audio\\/([^;,]+);/i.exec(i),u||(u=/\\.([^.]+)$/.exec(i.split(\"?\",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),u&&n.codecs(u)){t=e._src[r];break}}return t?(e._src=t,e._state=\"loading\",\"https:\"===window.location.protocol&&\"http:\"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&a(e),e):void e._emit(\"loaderror\",null,\"No codec support for selected audio sources.\")},play:function(e,t){var o=this,r=null;if(\"number\"==typeof e)r=e,e=null;else{if(\"string\"==typeof e&&\"loaded\"===o._state&&!o._sprite[e])return null;if(void 0===e){e=\"__default\";for(var a=0,u=0;u<o._sounds.length;u++)o._sounds[u]._paused&&!o._sounds[u]._ended&&(a++,r=o._sounds[u]._id);1===a?e=null:r=null}}var i=r?o._soundById(r):o._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite||\"__default\"),\"loaded\"!==o._state){i._sprite=e,i._ended=!1;var d=i._id;return o._queue.push({event:\"play\",action:function(){o.play(d)}}),d}if(r&&!i._paused)return t||o._loadQueue(\"play\"),i._id;o._webAudio&&n._autoResume();var _=Math.max(0,i._seek>0?i._seek:o._sprite[e][0]/1e3),s=Math.max(0,(o._sprite[e][0]+o._sprite[e][1])/1e3-_),l=1e3*s/Math.abs(i._rate);i._paused=!1,i._ended=!1,i._sprite=e,i._seek=_,i._start=o._sprite[e][0]/1e3,i._stop=(o._sprite[e][0]+o._sprite[e][1])/1e3,i._loop=!(!i._loop&&!o._sprite[e][2]);var c=i._node;if(o._webAudio){var f=function(){o._refreshBuffer(i);var e=i._muted||o._muted?0:i._volume;c.gain.setValueAtTime(e,n.ctx.currentTime),i._playStart=n.ctx.currentTime,void 0===c.bufferSource.start?i._loop?c.bufferSource.noteGrainOn(0,_,86400):c.bufferSource.noteGrainOn(0,_,s):i._loop?c.bufferSource.start(0,_,86400):c.bufferSource.start(0,_,s),l!==1/0&&(o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l)),t||setTimeout(function(){o._emit(\"play\",i._id)},0)};\"running\"===n.state?f():(o.once(\"resume\",f),o._clearTimer(i._id))}else{var p=function(){c.currentTime=_,c.muted=i._muted||o._muted||n._muted||c.muted,c.volume=i._volume*n.volume(),c.playbackRate=i._rate;try{var r=c.play();if(\"undefined\"!=typeof Promise&&r instanceof Promise){o._playLock=!0;var a=function(){o._playLock=!1,t||o._emit(\"play\",i._id)};r.then(a,a)}else t||o._emit(\"play\",i._id);if(c.paused)return void o._emit(\"playerror\",i._id,\"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.\");\"__default\"!==e?o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l):(o._endTimers[i._id]=function(){o._ended(i),c.removeEventListener(\"ended\",o._endTimers[i._id],!1)},c.addEventListener(\"ended\",o._endTimers[i._id],!1))}catch(e){o._emit(\"playerror\",i._id,e)}},m=window&&window.ejecta||!c.readyState&&n._navigator.isCocoonJS;if(c.readyState>=3||m)p();else{var v=function(){p(),c.removeEventListener(n._canPlayEvent,v,!1)};c.addEventListener(n._canPlayEvent,v,!1),o._clearTimer(i._id)}}return i._id},pause:function(e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"pause\",action:function(){n.pause(e)}}),n;for(var t=n._getSoundIds(e),o=0;o<t.length;o++){n._clearTimer(t[o]);var r=n._soundById(t[o]);if(r&&!r._paused&&(r._seek=n.seek(t[o]),r._rateSeek=0,r._paused=!0,n._stopFade(t[o]),r._node))if(n._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||n._emit(\"pause\",r?r._id:null)}return n},stop:function(e,n){var t=this;if(\"loaded\"!==t._state)return t._queue.push({event:\"stop\",action:function(){t.stop(e)}}),t;for(var o=t._getSoundIds(e),r=0;r<o.length;r++){t._clearTimer(o[r]);var a=t._soundById(o[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,t._stopFade(o[r]),a._node&&(t._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause())),n||t._emit(\"stop\",a._id))}return t},mute:function(e,t){var o=this;if(\"loaded\"!==o._state)return o._queue.push({event:\"mute\",action:function(){o.mute(e,t)}}),o;if(void 0===t){if(\"boolean\"!=typeof e)return o._muted;o._muted=e}for(var r=o._getSoundIds(t),a=0;a<r.length;a++){var u=o._soundById(r[a]);u&&(u._muted=e,u._interval&&o._stopFade(u._id),o._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,n.ctx.currentTime):u._node&&(u._node.muted=!!n._muted||e),o._emit(\"mute\",u._id))}return o},volume:function(){var e,t,o=this,r=arguments;if(0===r.length)return o._volume;if(1===r.length||2===r.length&&void 0===r[1]){o._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=t?o._soundById(t):o._sounds[0],a?a._volume:0;if(\"loaded\"!==o._state)return o._queue.push({event:\"volume\",action:function(){o.volume.apply(o,r)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)(a=o._soundById(t[u]))&&(a._volume=e,r[2]||o._stopFade(t[u]),o._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,n.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*n.volume()),o._emit(\"volume\",a._id));return o},fade:function(e,t,o,r){var a=this;if(\"loaded\"!==a._state)return a._queue.push({event:\"fade\",action:function(){a.fade(e,t,o,r)}}),a;a.volume(e,r);for(var u=a._getSoundIds(r),i=0;i<u.length;i++){var d=a._soundById(u[i]);if(d){if(r||a._stopFade(u[i]),a._webAudio&&!d._muted){var _=n.ctx.currentTime,s=_+o/1e3;d._volume=e,d._node.gain.setValueAtTime(e,_),d._node.gain.linearRampToValueAtTime(t,s)}a._startFadeInterval(d,e,t,o,u[i],void 0===r)}}return a},_startFadeInterval:function(e,n,t,o,r,a){var u=this,i=n,d=t-n,_=Math.abs(d/.01),s=Math.max(4,_>0?o/_:o),l=Date.now();e._fadeTo=t,e._interval=setInterval(function(){var r=(Date.now()-l)/o;l=Date.now(),i+=d*r,i=Math.max(0,i),i=Math.min(1,i),i=Math.round(100*i)/100,u._webAudio?e._volume=i:u.volume(i,e._id,!0),a&&(u._volume=i),(t<n&&i<=t||t>n&&i>=t)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,u.volume(t,e._id),u._emit(\"fade\",e._id))},s)},_stopFade:function(e){var t=this,o=t._soundById(e);return o&&o._interval&&(t._webAudio&&o._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(o._interval),o._interval=null,t.volume(o._fadeTo,e),o._fadeTo=null,t._emit(\"fade\",e)),t},loop:function(){var e,n,t,o=this,r=arguments;if(0===r.length)return o._loop;if(1===r.length){if(\"boolean\"!=typeof r[0])return!!(t=o._soundById(parseInt(r[0],10)))&&t._loop;e=r[0],o._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var a=o._getSoundIds(n),u=0;u<a.length;u++)(t=o._soundById(a[u]))&&(t._loop=e,o._webAudio&&t._node&&t._node.bufferSource&&(t._node.bufferSource.loop=e,e&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop)));return o},rate:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var i;if(\"number\"!=typeof e)return i=o._soundById(t),i?i._rate:o._rate;if(\"loaded\"!==o._state)return o._queue.push({event:\"rate\",action:function(){o.rate.apply(o,r)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var d=0;d<t.length;d++)if(i=o._soundById(t[d])){i._rateSeek=o.seek(t[d]),i._playStart=o._webAudio?n.ctx.currentTime:i._playStart,i._rate=e,o._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):i._node&&(i._node.playbackRate=e);var _=o.seek(t[d]),s=(o._sprite[i._sprite][0]+o._sprite[i._sprite][1])/1e3-_,l=1e3*s/Math.abs(i._rate);!o._endTimers[t[d]]&&i._paused||(o._clearTimer(t[d]),o._endTimers[t[d]]=setTimeout(o._ended.bind(o,i),l)),o._emit(\"rate\",i._id)}return o},seek:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):o._sounds.length&&(t=o._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return o;if(\"loaded\"!==o._state)return o._queue.push({event:\"seek\",action:function(){o.seek.apply(o,r)}}),o;var i=o._soundById(t);if(i){if(!(\"number\"==typeof e&&e>=0)){if(o._webAudio){var d=o.playing(t)?n.ctx.currentTime-i._playStart:0,_=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(_+d*Math.abs(i._rate))}return i._node.currentTime}var s=o.playing(t);if(s&&o.pause(t,!0),i._seek=e,i._ended=!1,o._clearTimer(t),s&&o.play(t,!0),!o._webAudio&&i._node&&(i._node.currentTime=e),s&&!o._webAudio){var l=function(){o._playLock?setTimeout(l,0):o._emit(\"seek\",t)};setTimeout(l,0)}else o._emit(\"seek\",t)}return o},playing:function(e){var n=this;if(\"number\"==typeof e){var t=n._soundById(e);return!!t&&!t._paused}for(var o=0;o<n._sounds.length;o++)if(!n._sounds[o]._paused)return!0;return!1},duration:function(e){var n=this,t=n._duration,o=n._soundById(e);return o&&(t=n._sprite[o._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,o=0;o<t.length;o++){if(t[o]._paused||e.stop(t[o]._id),!e._webAudio){/MSIE |Trident\\//.test(n._navigator&&n._navigator.userAgent)||(t[o]._node.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"),t[o]._node.removeEventListener(\"error\",t[o]._errorFn,!1),t[o]._node.removeEventListener(n._canPlayEvent,t[o]._loadFn,!1)}delete t[o]._node,e._clearTimer(t[o]._id);var a=n._howls.indexOf(e);a>=0&&n._howls.splice(a,1)}var u=!0;for(o=0;o<n._howls.length;o++)if(n._howls[o]._src===e._src){u=!1;break}return r&&u&&delete r[e._src],n.noAudio=!1,e._state=\"unloaded\",e._sounds=[],e=null,null},on:function(e,n,t,o){var r=this,a=r[\"_on\"+e];return\"function\"==typeof n&&a.push(o?{id:t,fn:n,once:o}:{id:t,fn:n}),r},off:function(e,n,t){var o=this,r=o[\"_on\"+e],a=0;if(\"number\"==typeof n&&(t=n,n=null),n||t)for(a=0;a<r.length;a++){var u=t===r[a].id;if(n===r[a].fn&&u||!n&&u){r.splice(a,1);break}}else if(e)o[\"_on\"+e]=[];else{var i=Object.keys(o);for(a=0;a<i.length;a++)0===i[a].indexOf(\"_on\")&&Array.isArray(o[i[a]])&&(o[i[a]]=[])}return o},once:function(e,n,t){var o=this;return o.on(e,n,t,1),o},_emit:function(e,n,t){for(var o=this,r=o[\"_on\"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==n&&\"load\"!==e||(setTimeout(function(e){e.call(this,n,t)}.bind(o,r[a].fn),0),r[a].once&&o.off(e,r[a].fn,r[a].id));return o._loadQueue(e),o},_loadQueue:function(e){var n=this;if(n._queue.length>0){var t=n._queue[0];t.event===e&&(n._queue.shift(),n._loadQueue()),e||t.action()}return n},_ended:function(e){var t=this,o=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[o][2]);if(t._emit(\"end\",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit(\"play\",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||r||t.stop(e._id),t},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(\"function\"!=typeof n._endTimers[e])clearTimeout(n._endTimers[e]);else{var t=n._soundById(e);t&&t._node&&t._node.removeEventListener(\"ended\",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,t=0;t<n._sounds.length;t++)if(e===n._sounds[t]._id)return n._sounds[t];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new o(e)},_drain:function(){var e=this,n=e._pool,t=0,o=0;if(!(e._sounds.length<n)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&t++;for(o=e._sounds.length-1;o>=0;o--){if(t<=n)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),t--)}}},_getSoundIds:function(e){var n=this;if(void 0===e){for(var t=[],o=0;o<n._sounds.length;o++)t.push(n._sounds[o]._id);return t}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=r[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),t},_cleanBuffer:function(e){var t=this;if(n._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,o=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(o,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener(\"error\",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload=\"auto\",e._node.volume=o*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit(\"loaderror\",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener(\"error\",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),\"loaded\"!==t._state&&(t._state=\"loaded\",t._emit(\"load\"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)}};var r={},a=function(e){var n=e._src;if(r[n])return e._duration=r[n].duration,void d(e);if(/^data:[^;]+;base64,/.test(n)){for(var t=atob(n.split(\",\")[1]),o=new Uint8Array(t.length),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);i(o.buffer,e)}else{var _=new XMLHttpRequest;_.open(\"GET\",n,!0),_.withCredentials=e._xhrWithCredentials,_.responseType=\"arraybuffer\",_.onload=function(){var n=(_.status+\"\")[0];if(\"0\"!==n&&\"2\"!==n&&\"3\"!==n)return void e._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+_.status+\".\");i(_.response,e)},_.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[n],e.load())},u(_)}},u=function(e){try{e.send()}catch(n){e.onerror()}},i=function(e,t){n.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(r[t._src]=e,d(t,e))},function(){t._emit(\"loaderror\",null,\"Decoding audio data failed.\")})},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue())},_=function(){try{\"undefined\"!=typeof AudioContext?n.ctx=new AudioContext:\"undefined\"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),o=t?parseInt(t[1],10):null;if(e&&o&&o<9){var r=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());(n._navigator&&n._navigator.standalone&&!r||n._navigator&&!n._navigator.standalone&&!r)&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:1,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()};\"function\"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:t}}),\"undefined\"!=typeof exports&&(exports.Howler=n,exports.Howl=t),\"undefined\"!=typeof window?(window.HowlerGlobal=e,window.Howler=n,window.Howl=t,window.Sound=o):\"undefined\"!=typeof global&&(global.HowlerGlobal=e,global.Howler=n,global.Howl=t,global.Sound=o)}();","// TODO: gracefully load assets from files inside build process\n\n/**\n * @hidden\n */\nexport const beepSound: string =\n  \"data:audio/mp3;base64,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\\\n4WkYO8cgBAIAxQQANlMUDB4LAkByw1k3LVZpl+pNlGNZem5stM2Wr6j1Z9AMMBYjily+nv/WqtU3SzFd\\\nqLW+g9ay+GvQb2oJMhV52tK+eZCvrd0BNqdIzFngHBYCQQIIaJ1PtUjVq//qP+ohdCZhgRJDlF/////z\\\noi5C6lVAABQCoDYQD4ZCwVB9kTFKkiv9NQcExMLk3ipgtxrzPf8LZgdNYHsgYIPgbIgAEXEAwCgpAie4\\\nXVi5BaBlBUxSQfMO7yfQPFcsGReNjIgX0QvmASaIgQc3SJkgpqr+myNNNNJSSX/n1Hw/4CgwqkXN3qSM\\\nTVX//U2skkQuTq9JJEy/+ybvT6p1IjCCpfiL/+SuQupVQAAUAqA2EA+GQsFQfZExSpIr/TUHBMTC5N4q\\\nYLca8z3/C2YHTWB7IGCD4GyIABFxAMAoKQInuF1YuQWgZQVMUkHzDu8n0DxXLBkXjYyIF9EL5gEmiIEH\\\nN0iZIKaq/psjTTTSUkl/59R8P+AoMKpFzd6kjE1V//1NrJJELk6vSSRMv/sm70+qdSIwgqX4i//klMQU\\\n1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+7IAAA/wAABpBwAACAAADSDgAAEAAAGkAAAAIA\\\nAANIAAAARMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=\";\n\n/**\n * @hidden\n */\nexport const scanditLogoImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAAAhCAMAAAB9TZmqAAABgFBMVEVHcE\\\nyCgoL+/v6Kior///+FhYXW1tbn5+eAgIDp6en+/v6BgYH///////////+BgYH///////////+wsLCCgo\\\nL4+PiBgYH///+srKyAgID////s7OyCgoKBgYGDg4P///+BgYH6+vqBgYH////MzMz39/f///+BgYGbm5\\\nuDg4OMjIyBgYG+vr6QkJD///////+BgYGDg4P+/v7Hx8eOjo6BgYH09PT7+/v///////+MjIz9/f3///\\\n/////Y2Nj6+vrPz8+BgYH9/f3///+3t7f///+Ghob///+AgICDg4P///+IiIj///////+CgoL6+vqmpq\\\nb////////t7e3////////////b29vj4+PNzc3y8vLl5eXv7+/U1NTDw8O8vLyRkZH////x8fGJiYmZmZ\\\nnDw8Pf39/S0tLT09PCwsKfn5/4+PjV1dWlpaWwsLCjo6OsrKzj4+OZmZnCwsLq6uqurq7///+AgICfn5\\\n+Tk5OFhYXCwsLJycmYmJjU1NS/v79wPZvPAAAAdnRSTlMAcvoPxiTEAsby9L8p/eusNEoJBlEZ2Pb67n\\\nz25fVGOv1Eh+RW7oyC/ToXzkALzmqTe8BJHmf9Uu+n/B2Dnt7/+6MvEP2ZKrmzXHIx2dScYv6wkf3o3S\\\nL+/uDhqLbnuNrVV4u4ie7LNGlhweeUnrTsZOjkis/PjpWtfQAACfhJREFUaN7tmXlbGksWxtlMEwRUVj\\\nUgrSQqEAQccXdQQRUVVYxqoolqjGa9WW7uW25Xv/pUdxe9q2TM88zMM55/aE5V1/Lr03XeqrZYHuzBHu\\\nzB/vPmX+hzgdmcyh/sXrIx95LKPQ64/JoG5oaHHVztzya8Ssl0rV1PfO6A03YbR4xdzUBnblbgXphZm2\\\nhv+W0z9bW0+H7tjmL9d2w6VDPon7XX/CsuxR2fTcr1hervk+oWBM9KDa0bLqVys5pOn1vTrxfvG6SrCT\\\n3HpwNiS3O1Gzt/E8dN5RHVadNAsL6aXB9ch3/9zWyUdDF/Bqh8/ngm2Shpkp+QB49xEdJy3MbgW4UjaV\\\nQ42nola73ywDWt5XhKpIcWbP4h9F3CIOuOEOodiwNz4wvdDsDW/N/PMYPhb1GiGOMY82CiSeWWObYgXs\\\n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\";\n\n/**\n * @hidden\n */\nexport const laserActiveImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAwFBMVEVHcE\\\nxUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyN\\\nFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFVydJUyNFUyNFUyNFUyNH8/v5UyNFUyNFUyNFVydJUyNFUyN\\\nFUyNFVydJUyNFVydL3/f1YytNUyNFUyNFUyNHx+/ve9fbp+PnR8fNUyNGF2N9009q15+uW3ePD7O+l4+\\\ndv0dlv0dj///9Ujp4pAAAAP3RSTlMAiXJnBFsIARM5oA1+UKsuG5W3JEULBishQj5iAm0QkTQZ/h5MF3\\\nsnWISbSHb8plMFjfjv9Oeyua3Ww9/Nn4y/IgemAAAIrElEQVR42u2da1saOxCAq8jRVuql0qOVIgcvgH\\\nhBrBbUYv//vzpzySSTZBeWqo8fOm+E9Vv3eXxnOptNJh8+vD3rhvFC3lHR73/GmmEsxdKKVY+N3ONFN3\\\nOT8O+S/GMYnmXtid0rCJAy7b3nrPDyQn5dnk3DiFnaoeJ4Ife98ZnqTnTSPHZ38R0ezWPDMF6BeY6lse\\\nK0F+Ej3Vl1MJ1EZ78rmXrmBvxWTLcCO4axU8WUEsk2nIMhJsh6Et75HnQn10l1NB093xB9F9p4UsBBKX\\\nuGsQSlIuXSScSQ/Og8Ch9097aT66I6mo6S74i1c++mn7G/v4+fQrYNYymKPWLBEvEkOtD7LhoPvmN+R9\\\n3R9sR1UR1FR8n7/cqS/oejjI+G8UIyqbb9NQ4NtB6MJ99J99j2deU6q35AnrPDFew99FcY+MN8K6VpGH\\\nMpVecwQL5p/1h+dL6/Bwm+i9k92M6yY2IPrpPqaLqT2omrR7hk9l4ETvEHRuAzD8OogNNFgUpd8DeRhg\\\nYGACkPvqPuO5jc2XZM7SGxK9dRdRSdknNicIy+Ey/xyDMYDRR1dzGMaihrHKCUxweFhALpD8qj76Q71j\\\nLOdknt6y6xB9dZdRCddU4ibpSgdA606q2cWqtWq7VqfDWMUpwk8BVRd99xPHAYkP6oPPkOurPtVMlwan\\\neyU2KHZ1NxHVVvXqDm3uXC0GuR1Nrr+J7bODyr9IGByNUwYtr+wrYEgcClJCZ0FJD6YDz5Drqz7Vi3U2\\\noX2amKgcR+1nWuk+okelmOrmVWB6XxVi9xBHpFNHoNw0gpUkU8WsUfCYoQBLW2uA/Cj0aQ353tBydcyH\\\nAdQ8+na5TYsYg52GPXUXUwnbXW2TnC/atKbO+x47xxnrFiGBXIxEGbkoCQAHD2k/CgO2T3JtkOT6ldl9\\\nq17JtUxOz1xXXM6WC6N5qVVtm6B2ZfRmrnPo9Xxkxn3InYlWEYGudFDOjDpHEAyin7UXoQnnVn27mQod\\\nQusksVw0UMuj6CrM6mU7ZO/6ehIFNZ28uNXjudFUPNJxz8ZRgxw09eDbgEQCEdERwCSn+X+EF48B11B9\\\nuxkqFCZmNjk4t2/3xKFTsl9m9Ndh1N7zUa5eWHZO1Y7qFzW+7/GgZ+AVvXW1v0RR/DKMGZgldAFJKAcP\\\n7vDhP30fkG6I7ZnWynQoZS+9ev/ISKz6euioHEDkWMdx1UJ8Wdz+NOqEZU1vaJW9ntxBZ+5nzhYRgJJE\\\nYBKhQoAjL3wXr0nXRH20+bnNpdHQNPqCQ7VzGS2C9GXnUQncQe+nyNZcjsegZMZ1NgMp0Aj8Av5AF5Qu\\\n6RH8wdcctcBY49v42/m6CC8oN8YXnu2CSyivwi01A5dO8RJZxMp+jl8/Pzee+yXasPJLV3pWj3slMVgx\\\nV78xTyunN93KG8HWoqjKkZfKZb06A6u462P4DtTyT7Pdn+g3S/I9tvyfYrHInpJPvxbzP+79Qc//BBdd\\\nEdPLm9cvmRZCfd78t0d7ZP2fbn3mq7VcfU7uqYWPYjnnekKmYAiV1cZ9W5MnGmo+jadQotSuwPvySxR6\\\n4H1dl2dh1/LLMbLHyku8/sV2z6rU/tJPvTvbhO1cSjtx2E5NzeoNT++SLUMaWy1yPZOZ+L7VtTlP3ndP\\\nqFbJ9M0irmKVQxktddYpfMTrofp5ndMNlF9WNnep7ZXWIH2x+C7uT6Y5zaWfZvy8o+lPIF8/oW6z5F3S\\\nec2UNiDxX7vS7Z7+6KqhjU3TK7kVTsKrOz7XeuaM/KGK5iojpmSmU7uT43s0c1Oz2fNs7P8elUlewzrG\\\nJwkO6+Yp/oil1ndl2ySxnjXD9OUrv9vU12pzqNUMWEZ9TwiPoUinYpYySzu0dUKmNKa3Y9G0MTj5doO0\\\n/G4BzMDAZ+fZrRXEw0FePLmHQu5l5l9rRmvzLZjeLUfhW7ns3GJM+nfj5mqlzHB9Ti2Zh8nr2l5tnjF/\\\n67qL9+PxomJYd6ziZ6bVQwz24Y5XPt2SQ7jvDGiebZr7Np9irz7Okb1IvsDeqKjNIXqJ3s/elQvWOS6R\\\nz1psneoRrlL1D16yN+gxpeoPplBLslb1BXy9+ghrUx3cK1Mb2CtTGN4oWMWv6Ol1/nfnkvRStkeJmMrZ\\\nExooUxTo4E8kjWioXFYdHSsEZj0dqYSqseLwuQNY9h0WMjW0Yz9sTrHnnFY0fu3jCcCR2vc77ocbwyzt\\\nf/hmWPbtVjbf6qR1nP3o3Xs9fdevaa3yeithz5bRpxMMT6Fy1o53vlj61tN+I17JEX2Xr282SDh9/TIb\\\ns5eD37YDRvPXvpTqV6vcI+Jdou5f1XWzr0fwL5ZiW+a9uZY0T7lBpzNioFsfVOJdr9WXGnkt+DulG+B7\\\nVk+3eyZa+m4qCdbEBVwWCbT41Ke1H1/tOgdbtoE6reg3qa7kHd1HtQo+4Ce2l3gfLeAoO4X0YSBfWstU\\\nAr7Bo3jMXtBdiatMGA7i5Qj3pshO4C4rokdtVdwPeNOYv7xnD7o6W6xnzWoTBIWsdwRFjrGGNBw5ikT4\\\nYyelDaN+ZU+sYcUp+k4r4xlTqCHc7radcsagiWBINvCGYdwYxqHcFO855g1BWMWs2VtwRTHcHQ9aOoI9\\\njcXo/S3NEP/3tOHBSuRV4WGNbq0ajW7DFr+Mg9F2Oy5qfS6/Eg9HpUib2ki+8ed/HtL27iK91PS9ugWh\\\ntf4zW6+H7MO/lux518ky6+2vWsZ3VRf/ZqzdnD70l39m1rz268eoN2TML9/Vi90J/9ZE5/9kUnbyx77g\\\nYOfdqGHbxhvPLRGycFZ2+EkzfO+LQZOXnjZi0/Z6boTKVFJyrJLy84UcmOVDJefqhSctDYnDOVotPy3G\\\nGQ1Q7LO8JhZ+UZ731cHoqojsuT0/Ju1uYeDpmfg/pmp6DaMajGWx2EOvcc1OTg32oHXN+89HxrO+DaeN\\\nMjrqsd7M5Huxfy/Y9ZM4wlWVoyZ+mHd2LdMF7Ma5j4P+hE04Z78rHKAAAAAElFTkSuQmCC\";\n\n/**\n * @hidden\n */\nexport const laserPausedImage: string =\n  \"data:image/png;base64,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\";\n\n/**\n * @hidden\n */\nexport const switchCameraImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTI2LjE0IDhjLTEuNjc1IDAtMy4yMy44MzItNC4xNiAyLjIyN2wtMi\\\n4yMTggMy4zMjhhMS4wMDMgMS4wMDMgMCAwIDEtLjgzMi40NDVIMTh2LTJjMC0xLjEwMi0uODk4LTItMi\\\n0yaC02Yy0xLjEwMiAwLTIgLjg5OC0yIDJ2Mkg1Yy0xLjY1MiAwLTMgMS4zNDgtMyAzdjM2YzAgMS42NT\\\nIgMS4zNDggMyAzIDNoNTRjMS42NTIgMCAzLTEuMzQ4IDMtM1YxN2MwLTEuNjUyLTEuMzQ4LTMtMy0zaC\\\n0zdi0xYzAtMS4xMDItLjg5OC0yLTItMmgtMmMtMS4xMDIgMC0yIC44OTgtMiAydjFoLTQuOTM4YS45OT\\\ncuOTk3IDAgMCAxLS44MjgtLjQ0MWwtMi4yNTQtMy4zNTJBNS4wMDEgNS4wMDEgMCAwIDAgMzcuODI4ID\\\nh6bTAgMmgxMS42ODhjMSAwIDEuOTM0LjQ5NiAyLjQ5MiAxLjMyNGwyLjI1NCAzLjM1MkEyLjk5OCAyLj\\\nk5OCAwIDAgMCA0NS4wNjMgMTZINTljLjU1IDAgMSAuNDUgMSAxdjM2YzAgLjU1LS40NSAxLTEgMUg1Yy\\\n0uNTUgMC0xLS40NS0xLTFWMTdjMC0uNTUuNDUtMSAxLTFoMTMuOTNjMS4wMDQgMCAxLjkzNy0uNSAyLj\\\nQ5Ni0xLjMzNmwyLjIxOS0zLjMyOEEyLjk5OCAyLjk5OCAwIDAgMSAyNi4xNCAxMHpNMTAgMTJoNnYyaC\\\n02em00MiAxaDJ2MWgtMnptLTIwIDVjLTUuMjkgMC0xMC4yNDYgMi44MzYtMTIuOTM0IDcuMzk4YS45OT\\\nYuOTk2IDAgMCAwIC4zNTYgMS4zNjguOTk3Ljk5NyAwIDAgMCAxLjM2Ny0uMzU2QTEzLjA2NSAxMy4wNj\\\nUgMCAwIDEgMzIgMjBjNy4xNjggMCAxMyA1LjgzMiAxMyAxMyAwIC4xODgtLjAxNi4zNzUtLjAyMy41Nj\\\nNsLTIuMjctMi4yN2ExIDEgMCAxIDAtMS40MTQgMS40MTRsNCA0Yy4xOTUuMTk1LjQ1LjI5My43MDcuMj\\\nkzYS45OTMuOTkzIDAgMCAwIC43MDctLjI5M2w0LTRhMSAxIDAgMSAwLTEuNDE0LTEuNDE0bC0yLjMyID\\\nIuMzE2Yy4wMTEtLjIwMy4wMjctLjQwNi4wMjctLjYwOSAwLTguMjctNi43My0xNS0xNS0xNXpNMTggMj\\\nlhMSAxIDAgMCAwLS43MDcuMjkzbC00IDRhMSAxIDAgMSAwIDEuNDE0IDEuNDE0bDIuMzEzLTIuMzE2Yy\\\n0uMDA4LjIwMy0uMDIuNDA2LS4wMi42MDkgMCA4LjI3IDYuNzMgMTUgMTUgMTUgNS4zNjcgMCAxMC4zNi\\\n0yLjg5OCAxMy4wMjctNy41NjNhLjk5OS45OTkgMCAxIDAtMS43MzQtLjk5MkExMy4wNDIgMTMuMDQyID\\\nAgMCAxIDMyIDQ2Yy03LjE2OCAwLTEzLTUuODMyLTEzLTEzIDAtLjE4OC4wMTItLjM3OS4wMi0uNTY2bD\\\nIuMjczIDIuMjczYy4xOTUuMTk1LjQ1LjI5My43MDcuMjkzYTEgMSAwIDAgMCAuNzA3LTEuNzA3bC00LT\\\nRBMSAxIDAgMCAwIDE4IDI5em05IDJjLS41NTUgMC0xIC40NDUtMSAxdjJjMCAuNTU1LjQ0NSAxIDEgMS\\\nAuNTU1IDAgMS0uNDQ1IDEtMXYtMmMwLS41NTUtLjQ0NS0xLTEtMXptNSAwYy0uNTU1IDAtMSAuNDQ1LT\\\nEgMXYyYzAgLjU1NS40NDUgMSAxIDEgLjU1NSAwIDEtLjQ0NSAxLTF2LTJjMC0uNTU1LS40NDUtMS0xLT\\\nF6bTUgMGMtLjU1NSAwLTEgLjQ0NS0xIDF2MmMwIC41NTUuNDQ1IDEgMSAxIC41NTUgMCAxLS40NDUgMS\\\n0xdi0yYzAtLjU1NS0uNDQ1LTEtMS0xeiIvPjwvc3ZnPg==\";\n\n/**\n * @hidden\n */\nexport const toggleTorchImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTMwLjkzOCAxYy0uNDQ2LjAyLTEgLjIzLTEuMzEzLjY1NmExLjMwMi\\\nAxLjMwMiAwIDAgMC0uMDYzLjA5NGwtNi43OCAxMi4wNjMtLjA2My4wOTNjLS41NTUuNzg1LS43MjcgMS\\\n43My0uNTk0IDIuNjU2bC0yMC41IDIyLjU2My0uMDMxLjAzMWMtMS4wNyAxLjIxOS0uNjY0IDMuMDEyLj\\\nQ2OCA0LjE1N2guMDMybDQuNTk0IDQuNTkzYy41Ny41NyAxLjI2NS45NSAyIDEuMDYzLjczNC4xMTMgMS\\\n41NDYtLjA1NSAyLjE1Ni0uNTk0aC4wMzFsMjIuNTYzLTIwLjVjLjkzLjEyOSAxLjg3LS4wNDMgMi42NT\\\nYtLjU5NC4wMi0uMDE1LjA0My0uMDE1LjA2Mi0uMDMxbC4wNjMtLjAzMSAxMi4wMzEtNi43ODJjLjAzMS\\\n0uMDE5LjA2My0uMDM5LjA5NC0uMDYyLjQyMi0uMzEzLjYzNi0uODY3LjY1Ni0xLjMxMy4wMi0uNDQ1LS\\\n4wOTgtLjg0LS4yNS0xLjI1LS4zMDUtLjgyLS44MjgtMS42OS0xLjUzMS0yLjY4Ny0xLjQwNy0xLjk5Mi\\\n0zLjUxNi00LjM5LTUuNzUtNi42MjUtMi4yMzUtMi4yMzQtNC42MDItNC4zMTMtNi41OTQtNS43MTktLj\\\nk5Ni0uNzAzLTEuODY3LTEuMjI2LTIuNjg4LTEuNTMxLS40MS0uMTUyLS44MDQtLjI3LTEuMjUtLjI1em\\\n0uMjE4IDIuMDMxYy4wNzguMDEyLjE1My4wMjQuMzQ0LjA5NC41Mi4xOTEgMS4zLjYzMyAyLjIxOSAxLj\\\nI4MSAxLjgzNiAxLjI5NyA0LjE2OCAzLjM1NiA2LjM0MyA1LjUzMiAyLjE3NiAyLjE3NSA0LjIzNSA0Lj\\\nQ3NiA1LjUzMiA2LjMxMi42NDguOTE4IDEuMDkgMS43MyAxLjI4MSAyLjI1LjA3LjE5MS4wODIuMjY2Lj\\\nA5NC4zNDRMMzUuMTI1IDI1LjUzYS45NDkuOTQ5IDAgMCAwLS4xMjUuMDk0Yy0uMzE2LjI0Mi0uODYuMz\\\nI4LTEuNDM4LjIxOWExLjA1NiAxLjA1NiAwIDAgMC0uMTg3LS4wNjMgMy4xMTMgMy4xMTMgMCAwIDEtMS\\\n40MzgtLjgxMmwtNi45MDYtNi45MDdjLS45NzYtLjk4NC0xLjEyOS0yLjQzNy0uNjU2LTMuMDYyYS41Mz\\\nIuNTMyIDAgMCAwIC4wOTQtLjA5NHptLTguMjE4IDE1LjU5NGMuMTk5LjI5Ny40My41ODYuNjg3Ljg0NG\\\nw2LjkwNiA2LjkwNmMuMjYyLjI2Mi41NDMuNDg4Ljg0NC42ODhMOS41MzEgNDYuOTA2Yy0uMDg2LjA3OC\\\n0uMjU0LjEzNy0uNTMxLjA5NC0uMjc3LS4wNDMtLjYyOS0uMjIzLS45MDYtLjVMMy41IDQxLjkwNmMtLj\\\nU1OS0uNTY2LS41NjMtMS4yNjEtLjQwNi0xLjQzN3ptLTIuODc1IDguMzEzYy0uNzcgMC0xLjU0My4yOT\\\nItMi4xMjUuODc1bC0yLjEyNSAyLjEyNWEzLjAyMyAzLjAyMyAwIDAgMCAwIDQuMjUgMy4wMjMgMy4wMj\\\nMgMCAwIDAgNC4yNSAwbDIuMTI1LTIuMTI2YTMuMDIzIDMuMDIzIDAgMCAwIDAtNC4yNSAzLjAwMiAzLj\\\nAwMiAwIDAgMC0yLjEyNS0uODc1em0wIDJjLjI1MyAwIC41MTkuMDgyLjcxOC4yOC4zOTkuNC4zOTkgMS\\\n4wNCAwIDEuNDM4bC0yLjEyNSAyLjEyNWExLjAxNCAxLjAxNCAwIDAgMS0xLjQzNyAwIDEuMDE0IDEuMD\\\nE0IDAgMCAxIDAtMS40MzdjLjQyMi0uNDIyIDEuNjk5LTEuNjk2IDIuMTI1LTIuMTI1LjE5OS0uMi40Nj\\\nUtLjI4Mi43MTgtLjI4MnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4K\";\n","import { switchCameraImage, toggleTorchImage } from \"./assets/base64assets\";\nimport { BarcodePicker } from \"./barcodePicker\";\nimport { Camera } from \"./camera\";\nimport { CameraAccess } from \"./cameraAccess\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\n\n/**\n * @hidden\n *\n * A barcode picker utility class used to handle camera interaction.\n */\nexport class BarcodePickerCameraManager {\n  private static readonly isIOSDevice: boolean = navigator.platform != null &&\n    navigator.platform !== \"\" &&\n    /iPad|iPhone|iPod/.test(navigator.platform);\n  private static readonly cameraAccessTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckIntervalMs: number = 50;\n  private static readonly getCapabilitiesTimeoutMs: number = 500;\n  private static readonly autofocusIntervalMs: number = 1500;\n  private static readonly manualToAutofocusResumeTimeoutMs: number = 5000;\n  private static readonly manualFocusRetryTimeoutMs: number = 100;\n  public activeCamera: Camera;\n  public activeCameraSettings: CameraSettings | undefined;\n  private selectedCamera: Camera | undefined;\n  private selectedCameraSettings: CameraSettings | undefined;\n\n  private mediaStream: MediaStream | undefined;\n  private mediaTrackCapabilities: any | undefined;\n  private postStreamInitializationListener: () => void = this.postStreamInitialization.bind(this);\n  private triggerManualFocusListener: () => void = this.triggerManualFocus.bind(this);\n  private cameraAccessTimeout: number;\n  private cameraMetadataCheckInterval: number;\n  private getCapabilitiesTimeout: number;\n  private autofocusInterval: number;\n  private manualToAutofocusResumeTimeout: number;\n  private manualFocusRetryTimeout: number;\n  private enableCameraSwitcher: boolean;\n  private enableTorchToggle: boolean;\n  private enableTapToFocus: boolean;\n  private torchEnabled: boolean;\n  private cameraSwitcherElement: HTMLImageElement;\n  private torchToggleElement: HTMLImageElement;\n\n  constructor(private barcodePicker: BarcodePicker) {\n    this.setupCameraSwitcher();\n    this.setupTorchToggle();\n  }\n\n  public setUIOptions(enableCameraSwitcher: boolean, enableTorchToggle: boolean, enableTapToFocus: boolean): void {\n    this.enableCameraSwitcher = enableCameraSwitcher;\n    this.enableTorchToggle = enableTorchToggle;\n    this.enableTapToFocus = enableTapToFocus;\n  }\n\n  public setSelectedCamera(camera?: Camera): void {\n    this.selectedCamera = camera;\n  }\n\n  public setSelectedCameraSettings(cameraSettings?: CameraSettings): void {\n    this.selectedCameraSettings = cameraSettings;\n  }\n\n  public setupCameras(): Promise<BarcodePicker> {\n    return CameraAccess.getCameras().then(cameras => {\n      if (this.enableCameraSwitcher && cameras.length > 1) {\n        this.cameraSwitcherElement.classList.remove(\"scandit-hidden\");\n      }\n\n      if (this.selectedCamera == null) {\n        let autoselectedCamera: Camera | undefined = cameras.find(currentCamera => {\n          return currentCamera.cameraType === Camera.Type.BACK;\n        });\n        if (autoselectedCamera === undefined) {\n          autoselectedCamera = cameras[0];\n        }\n        if (autoselectedCamera === undefined) {\n          return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n        }\n\n        return this.initializeCameraWithSettings(autoselectedCamera, this.selectedCameraSettings);\n      } else {\n        return this.initializeCameraWithSettings(this.selectedCamera, this.selectedCameraSettings);\n      }\n    });\n  }\n\n  public stopStream(): void {\n    if (this.activeCamera != null) {\n      this.activeCamera.currentResolution = undefined;\n    }\n\n    if (this.mediaStream != null) {\n      window.clearTimeout(this.cameraAccessTimeout);\n      window.clearInterval(this.cameraMetadataCheckInterval);\n      window.clearTimeout(this.getCapabilitiesTimeout);\n      window.clearTimeout(this.manualFocusRetryTimeout);\n      window.clearTimeout(this.manualToAutofocusResumeTimeout);\n      window.clearInterval(this.autofocusInterval);\n      this.mediaStream.getVideoTracks().forEach(track => {\n        track.stop();\n      });\n      this.mediaStream = undefined;\n      this.mediaTrackCapabilities = undefined;\n    }\n  }\n\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, cameraSettings);\n  }\n\n  public reinitializeCamera(): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, this.activeCameraSettings);\n  }\n\n  public initializeCameraWithSettings(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    this.activeCameraSettings = cameraSettings;\n    if (cameraSettings != null && cameraSettings.resolutionPreference === CameraSettings.ResolutionPreference.FULL_HD) {\n      return this.initializeCamera(camera);\n    } else {\n      return this.initializeCamera(camera, 3);\n    }\n  }\n\n  public setTorchEnabled(enabled: boolean): void {\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.torch) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        videoTracks[0].applyConstraints({ advanced: [<any>{ torch: enabled }] });\n      }\n    }\n  }\n\n  private triggerManualFocus(event?: Event): void {\n    if (event != null) {\n      event.preventDefault();\n    }\n    window.clearTimeout(this.manualFocusRetryTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (focusModeCapability instanceof Array && focusModeCapability.indexOf(\"single-shot\") !== -1) {\n        if (focusModeCapability.indexOf(\"continuous\") !== -1 && focusModeCapability.indexOf(\"manual\") !== -1) {\n          this.triggerFocusMode(\"manual\")\n            .then(() => {\n              this.triggerFocusMode(\"single-shot\");\n              // Sometimes the previous call fails silently,\n              // so we retrigger it shortly afterwards anyways just to be sure. This has no negative consequences.\n              this.manualFocusRetryTimeout = window.setTimeout(() => {\n                this.triggerFocusMode(\"single-shot\");\n              }, BarcodePickerCameraManager.manualFocusRetryTimeoutMs);\n            })\n            .catch(() => {\n              // Ignored\n            });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.triggerFocusMode(\"continuous\");\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        } else if (focusModeCapability.indexOf(\"continuous\") === -1) {\n          window.clearInterval(this.autofocusInterval);\n\n          this.triggerFocusMode(\"single-shot\").catch(() => {\n            // Ignored\n          });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.autofocusInterval = window.setInterval(\n              this.triggerAutoFocus.bind(this),\n              BarcodePickerCameraManager.autofocusIntervalMs\n            );\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        }\n      }\n    }\n  }\n\n  private postStreamInitialization(): void {\n    window.clearTimeout(this.getCapabilitiesTimeout);\n    this.getCapabilitiesTimeout = window.setTimeout(() => {\n      this.storeStreamCapabilities();\n      this.setupAutofocus();\n      if (\n        this.enableTorchToggle &&\n        this.mediaStream != null &&\n        this.mediaTrackCapabilities != null &&\n        this.mediaTrackCapabilities.torch\n      ) {\n        this.torchToggleElement.classList.remove(\"scandit-hidden\");\n      }\n    }, BarcodePickerCameraManager.getCapabilitiesTimeoutMs);\n  }\n\n  private storeStreamCapabilities(): void {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].getCapabilities === \"function\") {\n        this.mediaTrackCapabilities = videoTracks[0].getCapabilities();\n      }\n    }\n  }\n\n  private setupAutofocus(): void {\n    window.clearTimeout(this.manualFocusRetryTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (\n        focusModeCapability instanceof Array &&\n        focusModeCapability.indexOf(\"continuous\") === -1 &&\n        focusModeCapability.indexOf(\"single-shot\") !== -1\n      ) {\n        window.clearInterval(this.autofocusInterval);\n        this.autofocusInterval = window.setInterval(\n          this.triggerAutoFocus.bind(this),\n          BarcodePickerCameraManager.autofocusIntervalMs\n        );\n      }\n    }\n  }\n\n  private triggerAutoFocus(): void {\n    this.triggerFocusMode(\"single-shot\").catch(() => {\n      // Ignored\n    });\n  }\n\n  private triggerFocusMode(focusMode: string): Promise<void> {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        return videoTracks[0].applyConstraints({ advanced: [<any>{ focusMode }] });\n      }\n    }\n\n    return Promise.reject(undefined);\n  }\n\n  private initializeCamera(camera: Camera, resolutionFallbackLevel: number = 0): Promise<BarcodePicker> {\n    if (camera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    this.stopStream();\n    this.torchEnabled = false;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n\n    return new Promise((resolve, reject) => {\n      CameraAccess.accessCameraStream(resolutionFallbackLevel, camera)\n        .then(stream => {\n          // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n          if (typeof stream.getTracks()[0].getSettings === \"function\") {\n            const mediaTrackSettings: MediaTrackSettings = stream.getTracks()[0].getSettings();\n            if (\n              mediaTrackSettings.width != null &&\n              mediaTrackSettings.height != null &&\n              (mediaTrackSettings.width === 2 || mediaTrackSettings.height === 2)\n            ) {\n              if (resolutionFallbackLevel === 6) {\n                return reject(\n                  new CustomError({ name: \"NotReadableError\", message: \"Could not initialize camera correctly\" })\n                );\n              } else {\n                return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n                  .then(() => {\n                    return resolve();\n                  })\n                  .catch(error => {\n                    return reject(error);\n                  });\n              }\n            }\n          }\n\n          this.mediaStream = stream;\n\n          // This will add the listener only once in the case of multiple calls, identical listeners are ignored\n          this.barcodePicker.videoElement.addEventListener(\"loadedmetadata\", this.postStreamInitializationListener);\n\n          if (this.enableTapToFocus) {\n            [\"touchstart\", \"mousedown\"].forEach(eventName => {\n              this.barcodePicker.videoElement.addEventListener(eventName, this.triggerManualFocusListener);\n            });\n          }\n\n          this.resolveInitializeCamera(camera, resolve, reject);\n\n          this.barcodePicker.videoElement.srcObject = stream;\n          this.barcodePicker.videoElement.load();\n          const playPromise: Promise<void> = this.barcodePicker.videoElement.play();\n\n          if (playPromise != null) {\n            playPromise.catch(() => {\n              // Can sometimes cause an incorrect rejection (all is good, ignore).\n            });\n          }\n        })\n        .catch(error => {\n          if (\n            error.name === \"PermissionDeniedError\" ||\n            error.name === \"PermissionDismissedError\" ||\n            error.name === \"NotAllowedError\" ||\n            error.name === \"NotFoundError\" ||\n            error.name === \"AbortError\"\n          ) {\n            // Camera is not accessible at all\n            return reject(error);\n          }\n          if (resolutionFallbackLevel < 6) {\n            return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n              .then(mediaStream => {\n                return resolve(mediaStream);\n              })\n              .catch(error2 => {\n                return reject(error2);\n              });\n          } else {\n            return reject(error);\n          }\n        });\n    });\n  }\n\n  private resolveInitializeCamera(\n    camera: Camera,\n    resolve: (value: BarcodePicker) => void,\n    reject: (reason?: any) => void\n  ): void {\n    const cameraNotReadableError: Error = new CustomError({\n      name: \"NotReadableError\",\n      message: \"Could not initialize camera correctly\"\n    });\n\n    this.cameraAccessTimeout = window.setTimeout(() => {\n      this.stopStream();\n      reject(cameraNotReadableError);\n    }, BarcodePickerCameraManager.cameraAccessTimeoutMs);\n\n    if (BarcodePickerCameraManager.isIOSDevice) {\n      // iOS camera access should always work but can fail to call \"later\" video callbacks, so we check loadstart\n      this.barcodePicker.videoElement.onloadstart = () => {\n        (<any>this.barcodePicker.videoElement).onloadstart = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        this.activeCamera = camera;\n        this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n        resolve(this.barcodePicker);\n      };\n    } else {\n      this.barcodePicker.videoElement.onloadeddata = () => {\n        (<any>this.barcodePicker.videoElement).onloadeddata = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n        // Also detect failed camera access with no error but also no video stream provided\n        if (\n          this.barcodePicker.videoElement.videoWidth > 2 &&\n          this.barcodePicker.videoElement.videoHeight > 2 &&\n          this.barcodePicker.videoElement.currentTime > 0\n        ) {\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          return resolve(this.barcodePicker);\n        }\n\n        const cameraMetadataCheckStartTime: number = performance.now();\n\n        window.clearInterval(this.cameraMetadataCheckInterval);\n        this.cameraMetadataCheckInterval = window.setInterval(() => {\n          if (\n            this.barcodePicker.videoElement.videoWidth === 2 ||\n            this.barcodePicker.videoElement.videoHeight === 2 ||\n            this.barcodePicker.videoElement.currentTime === 0\n          ) {\n            if (\n              performance.now() - cameraMetadataCheckStartTime >\n              BarcodePickerCameraManager.cameraMetadataCheckTimeoutMs\n            ) {\n              window.clearInterval(this.cameraMetadataCheckInterval);\n              this.stopStream();\n\n              return reject(cameraNotReadableError);\n            }\n\n            return;\n          }\n\n          window.clearInterval(this.cameraMetadataCheckInterval);\n\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          this.barcodePicker.videoElement.dispatchEvent(new Event(\"canplay\"));\n\n          return resolve(this.barcodePicker);\n        }, BarcodePickerCameraManager.cameraMetadataCheckIntervalMs);\n      };\n    }\n  }\n\n  private setupCameraSwitcher(): void {\n    this.cameraSwitcherElement = document.createElement(\"img\");\n    this.cameraSwitcherElement.src = switchCameraImage;\n    this.cameraSwitcherElement.className = BarcodePicker.cameraSwitcherElementClassName;\n    this.cameraSwitcherElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.cameraSwitcherElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.cameraSwitcherElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        CameraAccess.getCameras()\n          .then(cameras => {\n            const newCameraIndex: number =\n              (cameras.findIndex(camera => {\n                return camera.deviceId === (this.activeCamera == null ? camera.deviceId : this.activeCamera.deviceId);\n              }) +\n                1) %\n              cameras.length;\n            this.initializeCameraWithSettings(cameras[newCameraIndex], this.activeCameraSettings).catch(error => {\n              console.error(error);\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      });\n    });\n  }\n\n  private setupTorchToggle(): void {\n    this.torchToggleElement = document.createElement(\"img\");\n    this.torchToggleElement.src = toggleTorchImage;\n    this.torchToggleElement.className = BarcodePicker.torchToggleElementClassName;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.torchToggleElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.torchToggleElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        this.torchEnabled = !this.torchEnabled;\n        this.setTorchEnabled(this.torchEnabled);\n      });\n    });\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\nimport { Howl, Howler } from \"howler/dist/howler.core.min.js\";\n\nimport { beepSound, laserActiveImage, laserPausedImage, scanditLogoImage } from \"./assets/base64assets\";\n\nimport { userLicenseKey } from \"../index\";\nimport { BarcodePickerCameraManager } from \"./barcodePickerCameraManager\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { Scanner } from \"./scanner\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A barcode picker element used to get and show camera input and perform scanning operations.\n *\n * The barcode picker will automatically fit and scale inside the given <i>originElement</i>.\n *\n * Each barcode picker internally contains a [[Scanner]] object with its own WebWorker thread running a\n * separate copy of the external Scandit Engine library. To optimize loading times and performance it's\n * recommended to reuse the same picker and to already create the picker in advance (hidden) and just\n * display it when needed whenever possible.\n *\n * As the loading of the external Scandit Engine library can take some time the picker always starts inactive\n * (but showing GUI and video) and then activates, if not paused, as soon as the library is ready to scan.\n * The [[onReady]] method can be used to set up a listener function to be called when the library is loaded.\n *\n * You are not allowed to hide the Scandit logo present in the corner of the GUI.\n */\nexport class BarcodePicker {\n  /**\n   * @hidden\n   */\n  public static readonly grandParentElementClassName: string = \"scandit scandit-container\";\n  /**\n   * @hidden\n   */\n  public static readonly parentElementClassName: string = \"scandit scandit-barcode-picker\";\n  /**\n   * @hidden\n   */\n  public static readonly videoElementClassName: string = \"scandit-video\";\n  /**\n   * @hidden\n   */\n  public static readonly scanditLogoImageElementClassName: string = \"scandit-logo\";\n  /**\n   * @hidden\n   */\n  public static readonly laserImageElementClassName: string = \"scandit-laser\";\n  /**\n   * @hidden\n   */\n  public static readonly viewfinderElementClassName: string = \"scandit-viewfinder\";\n  /**\n   * @hidden\n   */\n  public static readonly cameraSwitcherElementClassName: string = \"scandit-camera-switcher\";\n  /**\n   * @hidden\n   */\n  public static readonly torchToggleElementClassName: string = \"scandit-torch-toggle\";\n\n  /**\n   * @hidden\n   */\n  public readonly grandParentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly parentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly videoElement: HTMLVideoElement;\n  /**\n   * @hidden\n   */\n  public readonly laserActiveImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly laserPausedImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly viewfinderElement: HTMLDivElement;\n\n  private cameraManager: BarcodePickerCameraManager;\n  private visible: boolean;\n  private playSoundOnScan: boolean;\n  private vibrateOnScan: boolean;\n  private scanningPaused: boolean;\n  private guiStyle: BarcodePicker.GuiStyle;\n  private eventEmitter: EventEmitter;\n  private scanner: Scanner;\n  private mirrorImage: boolean;\n  private videoImageCanvasContext: CanvasRenderingContext2D;\n  private fatalError: Error;\n  private beepSound: Howl;\n  private vibrateFunction: (pattern: number | number[]) => boolean;\n  private latestVideoTimeProcessed: number;\n  private resizeInterval: number;\n  private lastKnownOriginElementWidth: number;\n  private lastKnownOriginElementHeight: number;\n  private destroyed: boolean;\n  private isReadyToWork: boolean;\n  private cameraAccess: boolean;\n\n  private constructor(\n    private originElement: HTMLElement,\n    {\n      visible,\n      playSoundOnScan,\n      vibrateOnScan,\n      scanningPaused,\n      guiStyle,\n      scanSettings\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      guiStyle?: BarcodePicker.GuiStyle;\n      scanSettings?: ScanSettings;\n    } = {}\n  ) {\n    this.isReadyToWork = false;\n    this.destroyed = false;\n    this.scanningPaused = scanningPaused;\n\n    Howler.autoSuspend = false;\n    this.beepSound = new Howl({\n      src: beepSound\n    });\n\n    this.vibrateFunction =\n      <any>navigator.vibrate ||\n      (<any>navigator).webkitVibrate ||\n      (<any>navigator).mozVibrate ||\n      (<any>navigator).msVibrate;\n\n    this.eventEmitter = new EventEmitter();\n\n    this.grandParentElement = document.createElement(\"div\");\n    this.grandParentElement.className = BarcodePicker.grandParentElementClassName;\n    this.originElement.appendChild(this.grandParentElement);\n    this.parentElement = document.createElement(\"div\");\n    this.parentElement.className = BarcodePicker.parentElementClassName;\n    this.grandParentElement.appendChild(this.parentElement);\n\n    this.videoElement = document.createElement(\"video\");\n    this.setupVideoElement(this.videoElement);\n\n    this.setupVideoImageCanvasElement(document.createElement(\"canvas\"));\n\n    this.setVisible(visible);\n    this.setPlaySoundOnScanEnabled(playSoundOnScan);\n    this.setVibrateOnScanEnabled(vibrateOnScan);\n\n    this.scanner = new Scanner({ scanSettings: scanSettings });\n    this.scanner.onReady(() => {\n      this.isReadyToWork = true;\n      this.eventEmitter.emit(\"ready\");\n    });\n\n    window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n    this.resizeInterval = window.setInterval(() => {\n      this.resizeIfNeeded();\n    }, 250);\n\n    this.laserActiveImageElement = document.createElement(\"img\");\n    this.laserPausedImageElement = document.createElement(\"img\");\n    this.viewfinderElement = document.createElement(\"div\");\n    this.setupAssets();\n    this.setGuiStyle(guiStyle);\n\n    this.setupGlobalListeners();\n\n    this.cameraManager = new BarcodePickerCameraManager(this);\n  }\n\n  /**\n   * Creates a BarcodePicker instance, creating the needed HTML in the given origin element.\n   * If the <tt>accessCamera</tt> is enabled (active by default) the available cameras are accessed\n   * and a camera access permission is requested to the user if needed.\n   * This object expects that at least a camera is available. The active camera is accessed and kept active during the\n   * lifetime of the picker (also when hidden or scanning is paused), and is only released when [[destroy]] is called.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * Depending on parameters, device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>LibraryNotConfiguredError</tt>\n   * - <tt>NoOriginElementError</tt>\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param originElement The HTMLElement inside which all the necessary elements for the picker will be added.\n   * @param visible <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether the picker starts in a visible state.\n   * @param playSoundOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether a sound is played on barcode scanned (iOS requires user input).\n   * @param vibrateOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the device vibrates on barcode scanned (only Chrome & Firefox, requires user input).\n   * @param scanningPaused <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the picker starts in a paused scanning state.\n   * @param guiStyle <div class=\"tsd-signature-symbol\">Default =&nbsp;GuiStyle.LASER</div>\n   * The GUI style for the picker.\n   * @param enableCameraSwitcher <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to switch between different cameras (when available).\n   * @param enableTorchToggle <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to toggle device torch on/off (when available, only Chrome).\n   * @param enableTapToFocus <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to trigger a manual focus of the camera when clicking/tapping on the video (when available, only Chrome).\n   * @param accessCamera <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to immediately access the camera (and requesting user permissions if needed) on picker creation.\n   * @param camera <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera to be used for video input, if not specified the back or only camera will be used.\n   * @param cameraSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera options used when accessing the camera, by default HD resolution is used.\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options (All symbologies disabled by default).\n   * @returns A promise resolving to the created ready [[BarcodePicker]] object.\n   */\n  public static create(\n    originElement: HTMLElement,\n    {\n      visible = true,\n      playSoundOnScan = false,\n      vibrateOnScan = false,\n      scanningPaused = false,\n      /**\n       * @hidden\n       * @deprecated\n       */\n      uiStyle,\n      guiStyle = uiStyle != null ? uiStyle : BarcodePicker.GuiStyle.LASER,\n      scanSettings = new ScanSettings(),\n      enableCameraSwitcher = true,\n      enableTorchToggle = true,\n      enableTapToFocus = true,\n      accessCamera = true,\n      camera,\n      cameraSettings\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      uiStyle?: BarcodePicker.GuiStyle;\n      guiStyle?: BarcodePicker.GuiStyle;\n      scanSettings?: ScanSettings;\n      enableCameraSwitcher?: boolean;\n      enableTorchToggle?: boolean;\n      enableTapToFocus?: boolean;\n      accessCamera?: boolean;\n      camera?: Camera;\n      cameraSettings?: CameraSettings;\n    } = {}\n  ): Promise<BarcodePicker> {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      return Promise.reject(unsupportedBrowserError);\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      return Promise.reject(\n        new CustomError({\n          name: \"LibraryNotConfiguredError\",\n          message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n        })\n      );\n    }\n    if (!(originElement instanceof HTMLElement)) {\n      return Promise.reject(\n        new CustomError({\n          name: \"NoOriginElementError\",\n          message: \"A valid origin HTML element must be given\"\n        })\n      );\n    }\n\n    const barcodePicker: BarcodePicker = new BarcodePicker(originElement, {\n      visible,\n      playSoundOnScan,\n      vibrateOnScan,\n      scanningPaused,\n      guiStyle,\n      scanSettings\n    });\n\n    barcodePicker.cameraManager.setUIOptions(enableCameraSwitcher, enableTorchToggle, enableTapToFocus);\n    barcodePicker.cameraManager.setSelectedCamera(camera);\n    barcodePicker.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n    barcodePicker.cameraAccess = accessCamera;\n\n    if (accessCamera) {\n      return barcodePicker.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(barcodePicker);\n  }\n\n  /**\n   * Stop scanning and displaying video output, remove HTML elements added to the page,\n   * destroy the internal [[Scanner]] and destroy the barcode picker itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the picker anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    this.pauseScanning();\n    this.destroyed = true;\n    this.scanner.destroy();\n    this.eventEmitter.removeAllListeners();\n    window.clearInterval(this.resizeInterval);\n    this.removeGlobalListeners();\n    this.cameraManager.stopStream();\n    this.grandParentElement.remove();\n    this.originElement.classList.remove(\"scandit-hidden\");\n  }\n\n  /**\n   * Applies a new set of scan settings to the internal scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): BarcodePicker {\n    this.scanner.applyScanSettings(scanSettings);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the scanning is currently paused.\n   */\n  public isScanningPaused(): boolean {\n    return this.scanningPaused;\n  }\n\n  /**\n   * Pause the recognition of codes in the input image, video from the camera is still shown.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public pauseScanning(): BarcodePicker {\n    this.scanningPaused = true;\n    if (this.scanner.isReady()) {\n      this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.add(\"paused\");\n    }\n\n    return this;\n  }\n\n  /**\n   * Resume the recognition of codes in the input image.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public resumeScanning(): BarcodePicker {\n    this.scanningPaused = false;\n    if (this.cameraManager.activeCamera != null && this.scanner.isReady()) {\n      this.laserPausedImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserActiveImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.remove(\"paused\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns The currently active camera.\n   */\n  public getActiveCamera(): Camera | undefined {\n    return this.cameraManager.activeCamera;\n  }\n\n  /**\n   * Select a camera to be used for video input.\n   *\n   * If camera access is enabled, the camera is enabled and accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param camera The new camera to be used.\n   * @param cameraSettings The camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is set\n   * (and accessed, if camera access is currently enabled).\n   */\n  public setActiveCamera(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCamera(camera);\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.initializeCameraWithSettings(camera, cameraSettings);\n  }\n\n  /**\n   * Try to apply new settings to the currently used camera for video input,\n   * if no settings are passed the default ones are set.\n   *\n   * If camera access is enabled, the camera is updated and accessed with the new settings.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param cameraSettings The new camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is updated\n   * (and accessed, if camera access is currently enabled).\n   */\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.applyCameraSettings(cameraSettings);\n  }\n\n  /**\n   * @returns Whether the picker is in a visible state or not.\n   */\n  public isVisible(): boolean {\n    return this.visible;\n  }\n\n  /**\n   * Enable or disable picker visibility.\n   *\n   * @param visible Whether the picker is in a visible state or not.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVisible(visible: boolean): BarcodePicker {\n    this.visible = visible;\n    if (visible) {\n      this.originElement.classList.remove(\"scandit-hidden\");\n    } else {\n      this.originElement.classList.add(\"scandit-hidden\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the camera video is mirrored along the vertical axis.\n   */\n  public isMirrorImageEnabled(): boolean {\n    return this.mirrorImage;\n  }\n\n  /**\n   * Enable or disable camera video mirroring along the vertical axis.\n   *\n   * @param enabled Whether the camera video is mirrored along the vertical axis.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setMirrorImageEnabled(enabled: boolean): BarcodePicker {\n    this.mirrorImage = enabled;\n    if (enabled) {\n      this.videoElement.classList.add(\"mirrored\");\n    } else {\n      this.videoElement.classList.remove(\"mirrored\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether a sound should be played on barcode recognition (iOS requires user input).\n   */\n  public isPlaySoundOnScanEnabled(): boolean {\n    return this.playSoundOnScan;\n  }\n\n  /**\n   * Enable or disable playing a sound on barcode recognition (iOS requires user input).\n   *\n   * @param enabled Whether a sound should be played on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setPlaySoundOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.playSoundOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the device should vibrate on barcode recognition (only Chrome & Firefox, requires user input).\n   */\n  public isVibrateOnScanEnabled(): boolean {\n    return this.vibrateOnScan;\n  }\n\n  /**\n   * Enable or disable vibrating the device on barcode recognition (only Chrome & Firefox, requires user input).\n   *\n   * @param enabled Whether the device should vibrate on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVibrateOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.vibrateOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * Enable or disable the torch/flashlight of the device (when available, only Chrome).\n   * Changing active camera or camera settings will cause the torch to become disabled.\n   *\n   * A button on the [[BarcodePicker]] GUI to let the user toggle this functionality can also be set\n   * on creation via the <tt>enableTorchToggle</tt> option (enabled by default, when available).\n   *\n   * @param enabled Whether the torch should be enabled or disabled.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setTorchEnabled(enabled: boolean): BarcodePicker {\n    this.cameraManager.setTorchEnabled(enabled);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the barcode picker has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the barcode picker can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onReady(listener: () => void): BarcodePicker {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan\" event, fired when new barcodes\n   * are recognized in the image frame. The returned barcodes are affected\n   * by the [[ScanSettings.setCodeDuplicateFilter]] option.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with a [[ScanResult]] object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScan(listener: (scanResult: ScanResult) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan\");\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan error\" event, fired when an error occurs\n   * during scanning initialization and execution. The barcode picker will be automatically paused when this happens.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with an <tt>ScanditEngineError</tt> object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScanError(listener: (error: Error) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan-error\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan-error\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan error\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan-error\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan error\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan-error\");\n\n    return this;\n  }\n\n  /**\n   * Set the GUI style for the picker.\n   *\n   * @param guiStyle The new GUI style to be applied.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setGuiStyle(guiStyle: BarcodePicker.GuiStyle): BarcodePicker {\n    this.guiStyle = guiStyle;\n\n    switch (this.guiStyle) {\n      case BarcodePicker.GuiStyle.NONE:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.LASER:\n        this.laserActiveImageElement.classList.remove(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.remove(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.VIEWFINDER:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.remove(\"scandit-hidden\");\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * Access the currently set or default camera, requesting user permissions if needed.\n   * This method is meant to be used after the picker has been initialized with disabled camera access\n   * (<i>cameraAccess</i>=false). Calling this doesn't do anything if the camera has already been accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is accessed.\n   */\n  public accessCamera(): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraAccess = true;\n\n      return this.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(this);\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return this.scanner.createParserForFormat(dataFormat);\n  }\n\n  private resizeIfNeeded(): void {\n    if (\n      this.videoElement.videoHeight < 1 ||\n      this.originElement.clientHeight < 1 ||\n      (this.lastKnownOriginElementWidth === this.originElement.clientWidth &&\n        this.lastKnownOriginElementHeight === this.originElement.clientHeight)\n    ) {\n      return;\n    }\n\n    this.parentElement.style.maxWidth = null;\n    this.parentElement.style.maxHeight = null;\n\n    const videoRatio: number = this.videoElement.videoWidth / this.videoElement.videoHeight;\n    let width: number = this.originElement.clientWidth;\n    let height: number = this.originElement.clientHeight;\n\n    if (videoRatio > this.originElement.clientWidth / this.originElement.clientHeight) {\n      height = width / videoRatio;\n    } else {\n      width = height * videoRatio;\n    }\n\n    this.lastKnownOriginElementWidth = this.originElement.clientWidth;\n    this.lastKnownOriginElementHeight = this.originElement.clientHeight;\n\n    this.parentElement.style.maxWidth = `${Math.ceil(width)}px`;\n    this.parentElement.style.maxHeight = `${Math.ceil(height)}px`;\n  }\n\n  private setupVideoElement(videoElement: HTMLVideoElement): void {\n    videoElement.setAttribute(\"autoplay\", \"autoplay\");\n    videoElement.setAttribute(\"playsinline\", \"true\");\n    videoElement.setAttribute(\"muted\", \"muted\");\n    videoElement.className = BarcodePicker.videoElementClassName;\n\n    videoElement.addEventListener(\"canplay\", () => {\n      if (this.cameraManager.activeCamera != null) {\n        // Retrigger resize\n        this.lastKnownOriginElementWidth = 0;\n        this.lastKnownOriginElementHeight = 0;\n\n        this.cameraManager.activeCamera.currentResolution = {\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight\n        };\n        this.videoImageCanvasContext.canvas.width = this.cameraManager.activeCamera.currentResolution.width;\n        this.videoImageCanvasContext.canvas.height = this.cameraManager.activeCamera.currentResolution.height;\n\n        this.scanner.applyImageSettings({\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight,\n          format: ImageSettings.Format.RGBA_8U\n        });\n      }\n    });\n\n    this.parentElement.appendChild(videoElement);\n  }\n\n  private setupVideoImageCanvasElement(videoImageCanvasElement: HTMLCanvasElement): void {\n    const canvasContext: CanvasRenderingContext2D | null = videoImageCanvasElement.getContext(\"2d\");\n    if (canvasContext != null) {\n      this.videoImageCanvasContext = canvasContext;\n    }\n  }\n\n  private flashLaser(): void {\n    this.laserActiveImageElement.classList.remove(\"scandit-flash-color\");\n    // tslint:disable-next-line:no-unused-expression\n    this.laserActiveImageElement.offsetHeight; // Trigger reflow to restart animation\n    this.laserActiveImageElement.classList.add(\"scandit-flash-color\");\n  }\n\n  private flashViewfinder(): void {\n    this.viewfinderElement.classList.remove(\"scandit-flash-white\");\n    // tslint:disable-next-line:no-unused-expression\n    this.viewfinderElement.offsetHeight; // Trigger reflow to restart animation\n    this.viewfinderElement.classList.add(\"scandit-flash-white\");\n  }\n\n  private setupAssets(): void {\n    const scanditLogoImageElement: HTMLImageElement = document.createElement(\"img\");\n    scanditLogoImageElement.src = scanditLogoImage;\n    scanditLogoImageElement.className = BarcodePicker.scanditLogoImageElementClassName;\n    this.parentElement.appendChild(scanditLogoImageElement);\n\n    this.laserActiveImageElement.src = laserActiveImage;\n    this.laserActiveImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserActiveImageElement);\n\n    this.laserPausedImageElement.src = laserPausedImage;\n    this.laserPausedImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserPausedImageElement);\n\n    this.viewfinderElement.className = BarcodePicker.viewfinderElementClassName;\n    this.parentElement.appendChild(this.viewfinderElement);\n\n    // Show inactive GUI, as for now the scanner isn't ready yet\n    this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n    this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n    this.viewfinderElement.classList.add(\"paused\");\n  }\n\n  private checkAndRecoverPlayback(): void {\n    if (this.videoElement != null && this.videoElement.srcObject != null) {\n      if (!this.videoElement.srcObject.active) {\n        this.cameraManager.reinitializeCamera().catch(error => {\n          this.fatalError = error;\n          console.error(error);\n        });\n      } else {\n        const playPromise: Promise<void> = this.videoElement.play();\n\n        if (playPromise != null) {\n          playPromise.catch(() => {\n            // Can sometimes cause an incorrect rejection (all is good, ignore).\n          });\n        }\n      }\n    }\n  }\n\n  private setupGlobalListeners(): void {\n    document.addEventListener(\"visibilitychange\", this.checkAndRecoverPlayback.bind(this));\n  }\n\n  private removeGlobalListeners(): void {\n    document.removeEventListener(\"visibilitychange\", this.checkAndRecoverPlayback.bind(this));\n  }\n\n  private videoProcessing(): void {\n    if (this.destroyed) {\n      return;\n    }\n\n    if (\n      this.cameraManager.activeCamera == null ||\n      this.cameraManager.activeCamera.currentResolution == null ||\n      this.fatalError != null ||\n      this.scanningPaused ||\n      !this.scanner.isReady() ||\n      this.scanner.isBusyProcessing() ||\n      this.latestVideoTimeProcessed === this.videoElement.currentTime\n    ) {\n      window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n      return;\n    }\n\n    if (this.latestVideoTimeProcessed == null) {\n      // Show active GUI if needed, as now it's the moment the scanner is ready and used for the first time\n      this.resumeScanning();\n    }\n\n    this.latestVideoTimeProcessed = this.videoElement.currentTime;\n\n    this.videoImageCanvasContext.drawImage(this.videoElement, 0, 0);\n    try {\n      const imageData: Uint8ClampedArray = this.videoImageCanvasContext.getImageData(\n        0,\n        0,\n        this.videoImageCanvasContext.canvas.width,\n        this.videoImageCanvasContext.canvas.height\n      ).data;\n      this.scanner\n        .processImage(imageData)\n        .then(scanResult => {\n          if (!this.scanningPaused) {\n            if (scanResult.barcodes.length !== 0) {\n              if (this.guiStyle === BarcodePicker.GuiStyle.LASER) {\n                this.flashLaser();\n              } else if (this.guiStyle === BarcodePicker.GuiStyle.VIEWFINDER) {\n                this.flashViewfinder();\n              }\n              if (this.playSoundOnScan) {\n                this.beepSound.play();\n              }\n              if (this.vibrateOnScan && this.vibrateFunction != null) {\n                this.vibrateFunction.call(navigator, 300);\n              }\n\n              this.eventEmitter.emit(\"scan\", scanResult);\n            }\n          }\n        })\n        .catch(scanError => {\n          if (!this.scanningPaused) {\n            this.pauseScanning();\n            this.eventEmitter.emit(\"scan-error\", scanError);\n          }\n        });\n    } catch (error) {\n      this.fatalError = error;\n      console.error(error);\n    }\n\n    window.requestAnimationFrame(this.videoProcessing.bind(this));\n  }\n}\n\n// istanbul ignore next\nexport namespace BarcodePicker {\n  /**\n   * GUI style to be used by a barcode picker, used to hint barcode placement in the frame.\n   */\n  export enum GuiStyle {\n    /**\n     * No GUI is shown to indicate where the barcode should be placed.\n     * Be aware that the Scandit logo continues to be displayed as showing it is part of the license agreement.\n     */\n    NONE = 0,\n    /**\n     * @hidden\n     * @deprecated\n     */\n    SCANLINE = 1,\n    /**\n     * A laser line is shown.\n     */\n    LASER = 1,\n    /**\n     * A rectangular viewfinder with rounded corners is shown.\n     */\n    VIEWFINDER = 2\n  }\n\n  /**\n   * @hidden\n   * @deprecated\n   */\n  export import UIStyle = GuiStyle;\n}\n","import \"webrtc-adapter\";\n\nimport { BrowserHelper } from \"./lib/browserHelper\";\nimport { CameraAccess } from \"./lib/cameraAccess\";\nimport { CustomError } from \"./lib/customError\";\nimport { ImageSettings } from \"./lib/imageSettings\";\nimport { Scanner } from \"./lib/scanner\";\n\nimport \"./styles/styles.scss\";\n\nexport * from \"./lib/barcode\";\nexport * from \"./lib/barcodeEncodingRange\";\nexport * from \"./lib/barcodePicker\";\nexport * from \"./lib/browserHelper\";\nexport * from \"./lib/camera\";\nexport * from \"./lib/cameraAccess\";\nexport * from \"./lib/cameraSettings\";\nexport * from \"./lib/customError\";\nexport * from \"./lib/imageSettings\";\nexport * from \"./lib/point\";\nexport * from \"./lib/quadrilateral\";\nexport * from \"./lib/parser\";\nexport * from \"./lib/parserField\";\nexport * from \"./lib/parserResult\";\nexport * from \"./lib/scanResult\";\nexport * from \"./lib/scanner\";\nexport * from \"./lib/scanSettings\";\nexport * from \"./lib/searchArea\";\nexport * from \"./lib/symbologySettings\";\n\n/**\n * @hidden\n */\nexport let deviceId: string = BrowserHelper.getDeviceId();\n/**\n * @hidden\n */\nexport let userLicenseKey: string;\n/**\n * @hidden\n */\nexport let scanditEngineLocation: string;\n\n/**\n * Initialize and configure the Scandit Barcode Scanner SDK library. This function must be called as first thing\n * before using any other function of the library.\n *\n * Depending on parameters, device features and user permissions for camera access, any of the following errors\n * could be the rejected result of the returned promise:\n * - <tt>NoLicenseKeyError</tt>\n * - <tt>UnsupportedBrowserError</tt>\n * - <tt>PermissionDeniedError</tt>\n * - <tt>NotAllowedError</tt>\n * - <tt>NotFoundError</tt>\n * - <tt>AbortError</tt>\n * - <tt>NotReadableError</tt>\n * - <tt>InternalError</tt>\n *\n * If the external Scandit Engine library is not loaded now, it can later be loaded via [[loadEngineLibrary]],\n * or it will be downloaded and prepared automatically when needed by other objects/functions.\n *\n * If the cameras are not accessed now, they can later be loaded via [[CameraAccess.getCameras]],\n * or they will be accessed automatically when needed by other objects/functions.\n *\n * @param licenseKey The Scandit license key to be used by the library.\n * @param engineLocation <div class=\"tsd-signature-symbol\">Default =&nbsp;\"/\"</div>\n * The location of the folder containing the external scandit-engine-sdk.min.js and\n * scandit-engine-sdk.wasm files (external Scandit Engine library).\n * By default they are retrieved from the root of the web application.\n * Can be a full URL to folder or an absolute folder path.\n * @param preloadEngineLibrary <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly download and prepare the external Scandit Engine library with this call.\n * @param preloadCameras <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly request access (if needed) and access available cameras with this call.\n * @returns A promise resolving when the library has loaded and the available cameras are loaded (if selected).\n */\nexport function configure(\n  licenseKey: string,\n  {\n    engineLocation = \"/\",\n    preloadEngineLibrary = false,\n    preloadCameras = false\n  }: {\n    engineLocation?: string;\n    preloadEngineLibrary?: boolean;\n    preloadCameras?: boolean;\n  } = {}\n): Promise<void> {\n  const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n  if (unsupportedBrowserError != null) {\n    return Promise.reject(unsupportedBrowserError);\n  }\n\n  if (licenseKey == null || licenseKey.trim() === \"\") {\n    return Promise.reject(new CustomError({ name: \"NoLicenseKeyError\", message: \"No license key provided\" }));\n  }\n  userLicenseKey = licenseKey;\n\n  engineLocation += engineLocation.slice(-1) === \"/\" ? \"\" : \"/\";\n  if (/^https?:\\/\\//.test(engineLocation)) {\n    scanditEngineLocation = `${engineLocation}`;\n  } else {\n    engineLocation = engineLocation\n      .split(\"/\")\n      .filter(s => {\n        return s.length > 0;\n      })\n      .join(\"/\");\n    if (engineLocation === \"\") {\n      engineLocation = \"/\";\n    } else {\n      engineLocation = `/${engineLocation}/`;\n    }\n    scanditEngineLocation = `${location.origin}${engineLocation}`;\n  }\n\n  const promises: Promise<any>[] = [];\n\n  if (preloadEngineLibrary) {\n    promises.push(loadEngineLibrary());\n  }\n\n  if (preloadCameras) {\n    promises.push(CameraAccess.getCameras());\n  }\n\n  return Promise.all(promises)\n    .then(() => {\n      return;\n    })\n    .catch(error => {\n      return Promise.reject(error);\n    });\n}\n\n/**\n * Download and prepare in memory the external Scandit Engine library.\n * If this method isn't called manually the library will be automatically loaded the first\n * time it's required by another of this library's components.\n *\n * @returns A promise resolving when the external Scandit Engine library has been loaded and is ready.\n */\nexport function loadEngineLibrary(): Promise<void> {\n  try {\n    const scanner: Scanner = new Scanner();\n    scanner.applyImageSettings({ width: 2, height: 2, format: ImageSettings.Format.GRAY_8U });\n\n    return scanner.processImage(new Uint8ClampedArray(4)).then(() => {\n      return;\n    });\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n"],"names":["ceil","Math","floor","it","isNaN","undefined","TypeError","global","module","window","self","Function","__g","core","version","__e","fn","that","length","aFunction","a","call","b","c","apply","arguments","isObject","exec","e","require$$0","Object","defineProperty","get","document","is","createElement","require$$1","require$$2","S","val","toString","valueOf","dP","O","P","Attributes","anObject","toPrimitive","IE8_DOM_DEFINE","value","bitmap","enumerable","configurable","writable","object","key","f","createDesc","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","exports","expProto","target","ctx","C","this","virtual","R","hide","U","hasOwnProperty","slice","propertyIsEnumerable","cof","split","IObject","defined","min","toInteger","max","store","id","px","random","concat","shared","uid","arrayIndexOf","$this","el","fromIndex","toIObject","toLength","index","toAbsoluteIndex","IE_PROTO","names","i","result","has","push","keys","$keys","enumBugKeys","defineProperties","Properties","getKeys","documentElement","Empty","createDict","iframeDocument","iframe","style","display","appendChild","src","contentWindow","open","write","lt","close","create","dPs","Symbol","USE_SYMBOL","def","TAG","tag","stat","prototype","IteratorPrototype","Constructor","NAME","next","descriptor","setToStringTag","ObjectProto","getPrototypeOf","toObject","constructor","ITERATOR","BUGGY","returnThis","Base","DEFAULT","IS_SET","FORCED","$iterCreate","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","Iterators","values","redefine","$at","pos","s","String","l","charCodeAt","charAt","iterated","_t","_i","point","done","Array","_k","step","Arguments","TO_STRING_TAG","DOMIterables","Collection","defer","channel","port","ARG","T","tryGet","callee","forbiddenField","iterator","ret","ArrayProto","getIteratorMethod","classof","BREAK","RETURN","iterable","iterFn","getIterFn","isArrayIter","SPECIES","D","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","run","listener","event","data","args","invoke","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","cel","html","removeChild","setTimeout","set","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","Promise","isNode","resolve","reject","promise","$$resolve","$$reject","v","x","promiseCapability","newPromiseCapability","safe","KEY","DESCRIPTORS","SAFE_CLOSING","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","skipClosing","arr","iter","task","microtask","head","last","notify","flush","parent","domain","exit","enter","toggle","node","createTextNode","observe","characterData","then","$Promise","empty","newPromiseCapabilityModule","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","console","unhandled","isUnhandled","perform","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","anInstance","err","require$$3","onFulfilled","onRejected","speciesConstructor","catch","require$$4","require$$5","require$$6","r","capability","promiseResolve","require$$7","all","remaining","forOf","$index","alreadyCalled","race","finally","onFinally","isFunction","try","callbackfn","default","__esModule","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","match","parseInt","wrapPeerConnectionEvent","eventNameToWrap","RTCPeerConnection","nativeAddEventListener","nativeEventName","cb","wrappedCallback","_eventMap","nativeRemoveEventListener","removeEventListener","unwrappedCb","disableLog","bool","Error","disableWarnings","log","deprecated","oldMethod","newMethod","warn","detectBrowser","navigator","browser","mozGetUserMedia","userAgent","webkitGetUserMedia","mediaDevices","logging","utils","shimGetUserMedia","browserDetails","constraintsToChrome_","mandatory","optional","cc","forEach","ideal","exact","oldname_","prefix","toUpperCase","oc","mix","advanced","shimConstraints_","constraints","func","JSON","parse","stringify","audio","remap","obj","video","face","facingMode","matches","getSupportedFacingModeLies","getSupportedConstraints","enumerateDevices","devices","dev","filter","d","find","some","label","toLowerCase","indexOf","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","message","constraint","constraintName","getUserMedia","onSuccess","onError","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","map","device","groupId","echoCancellation","frameRate","height","width","origGetUserMedia","bind","cs","stream","getAudioTracks","getVideoTracks","getTracks","track","stop","DOMException","shimMediaStream","MediaStream","webkitMediaStream","shimOnTrack","transceiver","receiver","_ontrack","origSetRemoteDescription","setRemoteDescription","pc","_ontrackpoly","te","getReceivers","Event","streams","dispatchEvent","shimGetSendersWithDtmf","shimSenderWithDtmf","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","origAddTrack","addTrack","sender","origRemoveTrack","removeTrack","idx","splice","origAddStream","addStream","origRemoveStream","removeStream","RTCRtpSender","origGetSenders","senders","shimSourceObject","URL","HTMLMediaElement","_srcObject","revokeObjectURL","createObjectURL","shimAddTrackRemoveTrackWithNative","getLocalStreams","_shimmedLocalStreams","streamId","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","replaceInternalStreamId","description","sdp","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","signalingState","t","oldStream","method","nativeMethod","desc","origSetLocalDescription","setLocalDescription","replaceExternalStreamId","origLocalDescription","getOwnPropertyDescriptor","streamid","shimPeerConnection","webkitRTCPeerConnection","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","generateCertificate","OrigPeerConnection","iceServers","newIceServers","server","urls","url","origGetStats","getStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","report","standardStats","timestamp","localcandidate","remotecandidate","makeMapStats","stats","Map","opts","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","SDPUtils","generateIdentifier","substr","localCName","splitLines","blob","trim","line","splitSections","part","matchPrefix","parseCandidate","parts","candidate","foundation","substring","component","protocol","priority","ip","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","join","parseIceOptions","parseRtpMap","parsed","payloadType","shift","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","params","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","getIceParameters","password","writeIceParameters","parseRtpParameters","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","planB","generateSessionId","writeSessionBoilerplate","sessId","sessVer","writeMediaSection","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseMLine","fmt","dtlsRole","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","action","offer","answer","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","remoteCandidate","addRemoteCandidate","RTCIceGatherer","origMSTEnabled","ev","enabled","RTCDtmfSender","edgeVersion","config","_eventTarget","createDocumentFragment","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","localDescription","remoteDescription","iceConnectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","hasTurn","isString","filterIceServers","_iceGatherers","iceCandidatePoolSize","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_emitGatheringStateChange","getConfiguration","getRemoteStreams","_createTransceiver","hasBundleTransport","recvEncodingParameters","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","clonedStream","clone","clonedTrack","_createIceGatherer","sdpMLineIndex","candidates","bufferCandidates","end","state","_gather","onlocalcandidate","evt","sdpMid","cand","sections","complete","every","RTCIceTransport","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","send","recv","encodings","p","receive","isIceLite","isDatachannel","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","receiverList","iceOptions","rejected","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","RTCRtpReceiver","getCapabilities","isNewTrack","sid","item","trackEvent","newState","states","new","closed","connecting","checking","connected","completed","disconnected","failed","createOffer","offerOptions","numAudioTracks","numVideoTracks","offerToReceiveAudio","offerToReceiveVideo","getLocalCandidates","createAnswer","mediaSectionsInOffer","localTrack","candidateString","promises","results","res","inboundrtp","outboundrtp","candidatepair","shimRTCPeerConnection","shimReplaceTrack","replaceTrack","setTrack","InternalError","NotSupportedError","SecurityError","The operation is insecure.","getUserMedia_","constraintsToFF37_","require","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","assign","shimRemoveStream","shimLocalStreamsAPI","_localStreams","getStreamById","_remoteStreams","_addTrack","tracks","shimRemoteStreamsAPI","_onaddstream","_onaddstreampoly","shimCallbacksAPI","failureCallback","options","withCallback","errcb","shimRTCIceServerUrls","shimTrackEventTransceiver","RTCTransceiver","shimCreateOfferLegacy","origCreateOffer","audioTransceiver","getTransceivers","setDirection","addTransceiver","videoTransceiver","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","toJSON","shimCreateObjectURL","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","srcObject","nativeSetAttribute","setAttribute","shimMaxMessageSize","RTCSctpTransport","_sctp","remoteIsFirefox","canSendMaxMessageSize","mLine","maxMessageSize","isFirefox","getRemoteFirefoxVersion","canSendMMS","remoteMMS","getMaxMessageSize","Number","POSITIVE_INFINITY","sctp","shimSendThrowTypeError","origCreateDataChannel","createDataChannel","dataChannel","origDataChannelSend","size","byteLength","dependencies","shimChrome","shimFirefox","shimEdge","shimSafari","adapterFactory","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","adapter","browserShim","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","$Symbol","wksExt","getOwnPropertySymbols","isArray","arg","hiddenKeys","getOwnPropertyNames","gOPN","windowNames","getWindowNames","gOPD","pIE","$GOPD","$DP","gOPNExt","$JSON","_stringify","HIDDEN","wks","TO_PRIMITIVE","isEnum","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","$fails","_create","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","getSymbols","gOPS","symbols","enumKeys","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","E","es6Symbols","wellKnownSymbols","k","wksDefine","for","keyFor","useSetter","useSimple","replacer","$replacer","_iterator2","_interopRequireDefault","_iterator","_symbol2","_symbol","_typeof","check","setPrototypeOf","test","buggy","__proto__","exp","fails","$getPrototypeOf","instance","_typeof3","_typeof2","ReferenceError","$Object","Type","Camera","Format","ImageSettings","CameraAccess","backCameraKeywords","BrowserHelper","_setPrototypeOf2","_setPrototypeOf","_create2","subClass","superClass","CustomError","Worker","WebAssembly","Blob","storedDeviceId","cookieMatch","cookie","cookieValue","pop","getCookieValue","date","randomDeviceId","Date","setTime","getTime","expirationDays","toUTCString","unsupportedBrowserError","checkBrowserCompatibility","cameras","videoDevice","lowercaseLabel","keyword","BACK","FRONT","camera","cameraType","resolutionFallbackLevel","getUserMediaParams","DataFormat","Parser","CompositeFlag","Symbology","Barcode","_defineProperty2","_defineProperty","props","protoProps","staticProps","Events","addListener","emitter","context","once","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","listeners","handlers","ee","listenerCount","a1","a2","a3","a4","a5","len","removeListener","on","removeAllListeners","off","prefixed","engineSDKWorker","imageBufferPointer","licenseKey","settings","imageSettings","wasmLoaded","scannerSettingsReady","scannerImageSettingsReady","scanQueue","parseQueue","contextAvailable","scanWorkSubmitted","parseWorkSubmitted","blurryDecodingEnabled","licenseKeyLength","Module","lengthBytesUTF8","licenseKeyPointer","_malloc","stringToUTF8","asm","_create_context","_free","settingsLength","settingsPointer","resultPointer","_scanner_settings_new_from_json","UTF8ToString","debug","channels","format","_scanner_image_settings_new","dataFormat","dataString","dataStringLength","dataStringPointer","optionsLength","optionsPointer","_parser_parse_string","imageData","currentScanWorkUnit","resultData","HEAPU8","Uint8Array","_scanner_scan","requestId","currentParseWorkUnit","parseString","libraryLocation","customModule","mkdir","code","mount","IDBFS","syncfs","callMain","decodedData","decodeURIComponent","escape","fromCharCode","rawData","symbology","location","y","compositeFlag","isGs1DataCarrier","encodingArray","EAN13","EAN8","UPCA","UPCE","CODE128","CODE39","CODE93","INTERLEAVED_2_OF_5","QR","DATA_MATRIX","PDF417","MSI_PLESSEY","GS1_DATABAR","GS1_DATABAR_EXPANDED","CODABAR","AZTEC","TWO_DIGIT_ADD_ON","FIVE_DIGIT_ADD_ON","MAXICODE","CODE11","GS1_DATABAR_LIMITED","CODE25","MICRO_PDF417","RM4SCC","KIX","DOTCODE","scanner","dataRaw","$values","getIterator","from","arrayLike","aLen","mapfn","mapping","createProperty","_from2","_from","arr2","TYPE","SIZE","getEntry","entry","_f","n","getConstructor","IS_MAP","ADDER","_l","redefineAll","validate","prev","setStrong","$iterDefine","setSpecies","common","IS_WEAK","each","IS_ADDER","add","strong","of","A","mapFn","nextItem","Checksum","Extension","SymbologySettings","Set","colorInvertedEnabled","activeSymbolCounts","extensions","checksums","customExtensions","customChecksums","_Array$from","_Object$values","minCount","maxCount","_","checksum","enabledSymbologies","codeDuplicateFilter","maxNumberOfCodesPerFrame","searchArea","symbologySettings","enableSymbologies","symbologies","toJSONName","_this","isFullSearchArea","round","_JSON$stringify","ls","isEnabled","setSymbologiesEnabled","durationMilliseconds","limit","setEnabled","scanSettings","ScanSettings","userLicenseKey","isReadyToWork","workerScanQueueLength","engineWokerOnMessage","scanditEngineLocation","eventEmitter","workerParseRequestId","workerScanRequestId","applyLicenseKey","applyScanSettings","applyImageSettings","terminate","toJSONString","_Promise","GRAY_8U","RGB_8U","RGBA_8U","workResultEvent","workErrorEvent","barcodes","createFromWASMResult","errorCode","errorMessage","errorObject","buffer","parseStringResultEvent","_this2","parseStringErrorEvent","parserResult","fields","parserField","fieldsByName","messageType","messageData","ResolutionPreference","CameraSettings","init","_counter","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","mobileAutoEnable","_setup","volume","parseFloat","gain","setValueAtTime","currentTime","o","_webAudio","_getSoundIds","u","_soundById","_node","mute","muted","unload","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","canPlayType","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","_autoResume","createBufferSource","connect","destination","noteOn","resume","onended","disconnect","suspend","_sounds","_paused","_suspendTimer","clearTimeout","_resumeAfterSuspend","_emit","_autoplay","autoplay","_format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_xhrWithCredentials","xhrWithCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","play","load","_ended","_id","_inactiveSound","_loadQueue","_seek","abs","_start","_stop","_refreshBuffer","_playStart","bufferSource","noteGrainOn","_clearTimer","playbackRate","paused","m","ejecta","readyState","isCocoonJS","pause","seek","_rateSeek","_stopFade","noteOff","_cleanBuffer","duration","_interval","fade","linearRampToValueAtTime","_startFadeInterval","_fadeTo","setInterval","clearInterval","cancelScheduledValues","loopStart","loopEnd","playing","_errorFn","_loadFn","ended","_drain","reset","_panner","_parent","createGain","createGainNode","_errorListener","_loadListener","__default","atob","XMLHttpRequest","withCredentials","responseType","status","decodeAudioData","AudioContext","webkitAudioContext","platform","appVersion","standalone","HowlerGlobal","Howler","Howl","Sound","beepSound","BarcodePicker","GuiStyle","barcodePicker","postStreamInitialization","triggerManualFocus","setupCameraSwitcher","setupTorchToggle","enableCameraSwitcher","enableTorchToggle","enableTapToFocus","selectedCamera","cameraSettings","selectedCameraSettings","getCameras","cameraSwitcherElement","classList","remove","autoselectedCamera","currentCamera","initializeCameraWithSettings","activeCamera","currentResolution","mediaStream","cameraAccessTimeout","cameraMetadataCheckInterval","getCapabilitiesTimeout","manualFocusRetryTimeout","manualToAutofocusResumeTimeout","autofocusInterval","mediaTrackCapabilities","activeCameraSettings","resolutionPreference","FULL_HD","initializeCamera","torch","videoTracks","preventDefault","focusModeCapability","focusMode","triggerFocusMode","BarcodePickerCameraManager","manualFocusRetryTimeoutMs","manualToAutofocusResumeTimeoutMs","triggerAutoFocus","autofocusIntervalMs","storeStreamCapabilities","setupAutofocus","_this3","torchToggleElement","getCapabilitiesTimeoutMs","stopStream","torchEnabled","accessCameraStream","mediaTrackSettings","_this4","videoElement","postStreamInitializationListener","eventName","triggerManualFocusListener","resolveInitializeCamera","playPromise","error2","cameraNotReadableError","cameraAccessTimeoutMs","isIOSDevice","onloadstart","_this5","setMirrorImageEnabled","onloadeddata","videoWidth","videoHeight","cameraMetadataCheckStartTime","performance","cameraMetadataCheckTimeoutMs","cameraMetadataCheckIntervalMs","className","cameraSwitcherElementClassName","parentElement","newCameraIndex","findIndex","_this6","torchToggleElementClassName","_this7","setTorchEnabled","originElement","visible","playSoundOnScan","vibrateOnScan","scanningPaused","guiStyle","destroyed","vibrateFunction","vibrate","webkitVibrate","mozVibrate","msVibrate","grandParentElement","grandParentElementClassName","parentElementClassName","setupVideoElement","setupVideoImageCanvasElement","setVisible","setPlaySoundOnScanEnabled","setVibrateOnScanEnabled","Scanner","onReady","requestAnimationFrame","videoProcessing","resizeInterval","resizeIfNeeded","laserActiveImageElement","laserPausedImageElement","viewfinderElement","setupAssets","setGuiStyle","setupGlobalListeners","cameraManager","pauseScanning","destroy","removeGlobalListeners","isReady","cameraAccess","setSelectedCamera","setSelectedCameraSettings","applyCameraSettings","mirrorImage","NONE","LASER","VIEWFINDER","setupCameras","createParserForFormat","clientHeight","lastKnownOriginElementWidth","clientWidth","lastKnownOriginElementHeight","maxWidth","maxHeight","videoRatio","videoElementClassName","videoImageCanvasContext","canvas","videoImageCanvasElement","canvasContext","getContext","offsetHeight","scanditLogoImageElement","scanditLogoImageElementClassName","laserImageElementClassName","viewfinderElementClassName","active","reinitializeCamera","fatalError","checkAndRecoverPlayback","isBusyProcessing","latestVideoTimeProcessed","resumeScanning","drawImage","getImageData","processImage","scanResult","flashLaser","flashViewfinder","scanError","uiStyle","accessCamera","HTMLElement","setUIOptions","getDeviceId","Uint8ClampedArray","engineLocation","preloadEngineLibrary","preloadCameras","origin","loadEngineLibrary"],"mappings":"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"}