{"version":3,"file":"index.js","sources":["../../node_modules/core-js/library/modules/_to-integer.js","../../node_modules/core-js/library/modules/_defined.js","../../node_modules/core-js/library/modules/_string-at.js","../../node_modules/core-js/library/modules/_library.js","../../node_modules/core-js/library/modules/_global.js","../../node_modules/core-js/library/modules/_core.js","../../node_modules/core-js/library/modules/_a-function.js","../../node_modules/core-js/library/modules/_ctx.js","../../node_modules/core-js/library/modules/_is-object.js","../../node_modules/core-js/library/modules/_an-object.js","../../node_modules/core-js/library/modules/_fails.js","../../node_modules/core-js/library/modules/_descriptors.js","../../node_modules/core-js/library/modules/_dom-create.js","../../node_modules/core-js/library/modules/_ie8-dom-define.js","../../node_modules/core-js/library/modules/_to-primitive.js","../../node_modules/core-js/library/modules/_object-dp.js","../../node_modules/core-js/library/modules/_property-desc.js","../../node_modules/core-js/library/modules/_hide.js","../../node_modules/core-js/library/modules/_export.js","../../node_modules/core-js/library/modules/_redefine.js","../../node_modules/core-js/library/modules/_has.js","../../node_modules/core-js/library/modules/_iterators.js","../../node_modules/core-js/library/modules/_cof.js","../../node_modules/core-js/library/modules/_iobject.js","../../node_modules/core-js/library/modules/_to-iobject.js","../../node_modules/core-js/library/modules/_to-length.js","../../node_modules/core-js/library/modules/_to-absolute-index.js","../../node_modules/core-js/library/modules/_array-includes.js","../../node_modules/core-js/library/modules/_shared.js","../../node_modules/core-js/library/modules/_uid.js","../../node_modules/core-js/library/modules/_shared-key.js","../../node_modules/core-js/library/modules/_object-keys-internal.js","../../node_modules/core-js/library/modules/_enum-bug-keys.js","../../node_modules/core-js/library/modules/_object-keys.js","../../node_modules/core-js/library/modules/_object-dps.js","../../node_modules/core-js/library/modules/_html.js","../../node_modules/core-js/library/modules/_object-create.js","../../node_modules/core-js/library/modules/_wks.js","../../node_modules/core-js/library/modules/_set-to-string-tag.js","../../node_modules/core-js/library/modules/_iter-create.js","../../node_modules/core-js/library/modules/_to-object.js","../../node_modules/core-js/library/modules/_object-gpo.js","../../node_modules/core-js/library/modules/_iter-define.js","../../node_modules/core-js/library/modules/es6.string.iterator.js","../../node_modules/core-js/library/modules/_iter-step.js","../../node_modules/core-js/library/modules/es6.array.iterator.js","../../node_modules/core-js/library/modules/web.dom.iterable.js","../../node_modules/core-js/library/modules/_classof.js","../../node_modules/core-js/library/modules/_an-instance.js","../../node_modules/core-js/library/modules/_iter-call.js","../../node_modules/core-js/library/modules/_is-array-iter.js","../../node_modules/core-js/library/modules/core.get-iterator-method.js","../../node_modules/core-js/library/modules/_for-of.js","../../node_modules/core-js/library/modules/_species-constructor.js","../../node_modules/core-js/library/modules/_invoke.js","../../node_modules/core-js/library/modules/_task.js","../../node_modules/core-js/library/modules/_microtask.js","../../node_modules/core-js/library/modules/_new-promise-capability.js","../../node_modules/core-js/library/modules/_perform.js","../../node_modules/core-js/library/modules/_promise-resolve.js","../../node_modules/core-js/library/modules/_redefine-all.js","../../node_modules/core-js/library/modules/_set-species.js","../../node_modules/core-js/library/modules/_iter-detect.js","../../node_modules/core-js/library/modules/es6.promise.js","../../node_modules/core-js/library/modules/es7.promise.finally.js","../../node_modules/core-js/library/modules/es7.promise.try.js","../../node_modules/core-js/library/fn/promise.js","../../node_modules/babel-runtime/core-js/promise.js","../../node_modules/webrtc-adapter/src/js/utils.js","../../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../../node_modules/sdp/sdp.js","../../node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","../../node_modules/webrtc-adapter/src/js/edge/getusermedia.js","../../node_modules/webrtc-adapter/src/js/edge/edge_shim.js","../../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../../node_modules/webrtc-adapter/src/js/common_shim.js","../../node_modules/webrtc-adapter/src/js/adapter_factory.js","../../node_modules/webrtc-adapter/src/js/adapter_core.js","../../node_modules/core-js/library/modules/_wks-ext.js","../../node_modules/core-js/library/fn/symbol/iterator.js","../../node_modules/babel-runtime/core-js/symbol/iterator.js","../../node_modules/core-js/library/modules/_meta.js","../../node_modules/core-js/library/modules/_wks-define.js","../../node_modules/core-js/library/modules/_object-gops.js","../../node_modules/core-js/library/modules/_object-pie.js","../../node_modules/core-js/library/modules/_enum-keys.js","../../node_modules/core-js/library/modules/_is-array.js","../../node_modules/core-js/library/modules/_object-gopn.js","../../node_modules/core-js/library/modules/_object-gopn-ext.js","../../node_modules/core-js/library/modules/_object-gopd.js","../../node_modules/core-js/library/modules/es6.symbol.js","../../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../../node_modules/core-js/library/modules/es7.symbol.observable.js","../../node_modules/core-js/library/fn/symbol/index.js","../../node_modules/babel-runtime/core-js/symbol.js","../../node_modules/babel-runtime/helpers/typeof.js","../../node_modules/core-js/library/modules/_set-proto.js","../../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../../node_modules/core-js/library/fn/object/set-prototype-of.js","../../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../../node_modules/core-js/library/modules/_object-sap.js","../../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../../node_modules/core-js/library/fn/object/get-prototype-of.js","../../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../../node_modules/babel-runtime/helpers/classCallCheck.js","../../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../../node_modules/core-js/library/modules/es6.object.create.js","../../node_modules/core-js/library/fn/object/create.js","../../node_modules/babel-runtime/core-js/object/create.js","../../node_modules/babel-runtime/helpers/inherits.js","../../src/lib/customError.ts","../../src/lib/browserHelper.ts","../../src/lib/camera.ts","../../src/lib/cameraAccess.ts","../../src/lib/imageSettings.ts","../../node_modules/core-js/library/fn/json/stringify.js","../../node_modules/babel-runtime/core-js/json/stringify.js","../../node_modules/core-js/library/modules/es6.object.define-property.js","../../node_modules/core-js/library/fn/object/define-property.js","../../node_modules/babel-runtime/core-js/object/define-property.js","../../node_modules/babel-runtime/helpers/createClass.js","../../node_modules/eventemitter3/index.js","../../src/lib/workers/engineSDKWorker.ts","../../src/lib/barcode.ts","../../src/lib/parser.ts","../../node_modules/core-js/library/modules/_object-to-array.js","../../node_modules/core-js/library/modules/es7.object.values.js","../../node_modules/core-js/library/fn/object/values.js","../../node_modules/babel-runtime/core-js/object/values.js","../../node_modules/core-js/library/modules/core.get-iterator.js","../../node_modules/core-js/library/fn/get-iterator.js","../../node_modules/babel-runtime/core-js/get-iterator.js","../../node_modules/core-js/library/modules/es6.object.keys.js","../../node_modules/core-js/library/fn/object/keys.js","../../node_modules/babel-runtime/core-js/object/keys.js","../../node_modules/core-js/library/modules/_create-property.js","../../node_modules/core-js/library/modules/es6.array.from.js","../../node_modules/core-js/library/fn/array/from.js","../../node_modules/babel-runtime/core-js/array/from.js","../../node_modules/babel-runtime/helpers/toConsumableArray.js","../../node_modules/core-js/library/modules/_validate-collection.js","../../node_modules/core-js/library/modules/_collection-strong.js","../../node_modules/core-js/library/modules/_array-species-constructor.js","../../node_modules/core-js/library/modules/_array-species-create.js","../../node_modules/core-js/library/modules/_array-methods.js","../../node_modules/core-js/library/modules/_collection.js","../../node_modules/core-js/library/modules/es6.set.js","../../node_modules/core-js/library/modules/_array-from-iterable.js","../../node_modules/core-js/library/modules/_collection-to-json.js","../../node_modules/core-js/library/modules/es7.set.to-json.js","../../node_modules/core-js/library/modules/_set-collection-of.js","../../node_modules/core-js/library/modules/es7.set.of.js","../../node_modules/core-js/library/modules/_set-collection-from.js","../../node_modules/core-js/library/modules/es7.set.from.js","../../node_modules/core-js/library/fn/set.js","../../node_modules/babel-runtime/core-js/set.js","../../src/lib/symbologySettings.ts","../../src/lib/scanSettings.ts","../../src/lib/scanner.ts","../../node_modules/howler/dist/howler.core.min.js","../../src/lib/assets/base64assets.ts","../../src/lib/cameraSettings.ts","../../src/lib/barcodePickerCameraManager.ts","../../src/lib/barcodePicker.ts","../../src/index.ts"],"sourcesContent":["// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = true;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = require('./_hide');\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = {};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\n// Utility methods.\nmodule.exports = {\n  extractVersion: extractVersion,\n  wrapPeerConnectionEvent: wrapPeerConnectionEvent,\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    if (navigator.mozGetUserMedia) { // Firefox.\n      result.browser = 'firefox';\n      result.version = extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera.\n      // Version matches Chrome/WebRTC version.\n      result.browser = 'chrome';\n      result.version = extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n      result.browser = 'safari';\n      result.version = extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    } else if (!('RTCRtpTransceiver' in window)) {\n      utils.wrapPeerConnectionEvent(window, 'track', function(e) {\n        if (!e.transceiver) {\n          e.transceiver = {receiver: e.receiver};\n        }\n        return e;\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrackWithNative: function(window) {\n    // shim addTrack/removeTrack with native variants in order to make\n    // the interactions with legacy getLocalStreams behave as in other browsers.\n    // Keeps a mapping stream.id => [stream, rtpsenders...]\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams).map(function(streamId) {\n        return pc._shimmedLocalStreams[streamId][0];\n      });\n    };\n\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      var sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      var existingSenders = pc.getSenders();\n      origAddStream.apply(this, arguments);\n      var newSenders = pc.getSenders().filter(function(newSender) {\n        return existingSenders.indexOf(newSender) === -1;\n      });\n      this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(function(streamId) {\n          var idx = pc._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            pc._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (pc._shimmedLocalStreams[streamId].length === 1) {\n            delete pc._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 65) {\n      return this.shimAddTrackRemoveTrackWithNative(window);\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      pc._reverseStreams = pc._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return pc._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(pc._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var pc = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(pc, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var pc = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(pc, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var pc = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(pc, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return {\n    kind: mline[0].substr(2),\n    port: parseInt(mline[1], 10),\n    protocol: mline[2],\n    fmt: mline.slice(3).join(' ')\n  };\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  var RTCPeerConnection = function(config) {\n    var self = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          self[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.onicecandidate = null;\n    this.onaddstream = null;\n    this.ontrack = null;\n    this.onremovestream = null;\n    this.onsignalingstatechange = null;\n    this.oniceconnectionstatechange = null;\n    this.onicegatheringstatechange = null;\n    this.onnegotiationneeded = null;\n    this.ondatachannel = null;\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      var e = new Error('rtcpMuxPolicy \\'negotiate\\' is not supported');\n      e.name = 'NotSupportedError';\n      throw(e);\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers = new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        });\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onicegatheringstatechange === 'function') {\n      this.onicegatheringstatechange(event);\n    }\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (whih is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    this.transceivers.push(transceiver);\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var self = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        self.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        self.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var idx = this.localStreams.indexOf(stream);\n    if (idx > -1) {\n      this.localStreams.splice(idx, 1);\n      this._maybeFireNegotiationNeeded();\n    }\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var self = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].candidates = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (self.transceivers[sdpMLineIndex].candidates !== null) {\n        self.transceivers[sdpMLineIndex].candidates.push(event.candidate);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var self = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var candidates = this.transceivers[sdpMLineIndex].candidates;\n    this.transceivers[sdpMLineIndex].candidates = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (self.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        event.candidate.candidate = SDPUtils.writeCandidate(cand);\n      }\n\n      // update local description.\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      self.localDescription.sdp = sections.join('');\n      var complete = self.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (self.iceGatheringState !== 'gathering') {\n        self.iceGatheringState = 'gathering';\n        self._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        self.dispatchEvent(event);\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(event);\n        }\n      }\n      if (complete) {\n        self.dispatchEvent(new Event('icecandidate'));\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(new Event('icecandidate'));\n        }\n        self.iceGatheringState = 'complete';\n        self._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      candidates.forEach(function(candidate) {\n        var e = new Event('RTCIceGatherEvent');\n        e.candidate = candidate;\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var self = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      self._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      self._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      self._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      params.encodings = transceiver.recvEncodingParameters;\n      params.rtcp = {\n        cname: transceiver.rtcpParameters.cname,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set local ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        self.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        self._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = self.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n\n        if (!rejected && !transceiver.isDatachannel) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!self.usingBundle || sdpMLineIndex === 0) {\n            self._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          self._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    this.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-local-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n\n    // If a success callback was provided, emit ICE candidates after it\n    // has been executed. Otherwise, emit callback after the Promise is\n    // resolved.\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    return new Promise(function(resolve) {\n      if (cb) {\n        cb.apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set remote ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var streams = {};\n    this.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    this.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      this.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      this.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (kind === 'application' && protocol === 'DTLS/SCTP') {\n        self.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          isDatachannel: true\n        };\n        return;\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          self.transceivers[sdpMLineIndex]) {\n        self._disposeIceAndDtlsTransports(sdpMLineIndex);\n        self.transceivers[sdpMLineIndex].iceGatherer =\n            self.transceivers[0].iceGatherer;\n        self.transceivers[sdpMLineIndex].iceTransport =\n            self.transceivers[0].iceTransport;\n        self.transceivers[sdpMLineIndex].dtlsTransport =\n            self.transceivers[0].dtlsTransport;\n        if (self.transceivers[sdpMLineIndex].rtpSender) {\n          self.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n        if (self.transceivers[sdpMLineIndex].rtpReceiver) {\n          self.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex] ||\n            self._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            stream.addTrack(track);\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        self._transceive(self.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        self.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        self.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        self.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        self._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            streams[remoteMsid.stream].addTrack(track);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            streams.default.addTrack(track);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (this._dtlsRole === undefined) {\n      this._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    this.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-remote-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (self.remoteStreams.indexOf(stream) === -1) {\n          self.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            self.dispatchEvent(event);\n            if (typeof self.onaddstream === 'function') {\n              self.onaddstream(event);\n            }\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          var trackEvent = new Event('track');\n          trackEvent.track = track;\n          trackEvent.receiver = receiver;\n          trackEvent.transceiver = {receiver: receiver};\n          trackEvent.streams = [stream];\n          window.setTimeout(function() {\n            self.dispatchEvent(trackEvent);\n            if (typeof self.ontrack === 'function') {\n              self.ontrack(trackEvent);\n            }\n          });\n        });\n      }\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(self && self.transceivers)) {\n        return;\n      }\n      self.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return new Promise(function(resolve) {\n      if (args.length > 1 && typeof args[1] === 'function') {\n        args[1].apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onsignalingstatechange === 'function') {\n      this.onsignalingstatechange(event);\n    }\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var self = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (self.needNegotiation === false) {\n        return;\n      }\n      self.needNegotiation = false;\n      var event = new Event('negotiationneeded');\n      self.dispatchEvent(event);\n      if (typeof self.onnegotiationneeded === 'function') {\n        self.onnegotiationneeded(event);\n      }\n    }, 0);\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0 || states.checking > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0 || states.completed > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this.dispatchEvent(event);\n      if (typeof this.oniceconnectionstatechange === 'function') {\n        this.oniceconnectionstatechange(event);\n      }\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var self = this;\n    var args = arguments;\n\n    var offerOptions;\n    if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n      offerOptions = arguments[0];\n    } else if (arguments.length === 3) {\n      offerOptions = arguments[2];\n    }\n\n    var numAudioTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        this._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        this._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n            self.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (this._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, self._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && self.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !self.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var self = this;\n    var args = arguments;\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    if (this.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.splitSections(\n        this.remoteDescription.sdp).length - 1;\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.isDatachannel) {\n        sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n            'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, self._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var err;\n    var sections;\n    if (!candidate || candidate.candidate === '') {\n      for (var j = 0; j < this.transceivers.length; j++) {\n        if (this.transceivers[j].isDatachannel) {\n          continue;\n        }\n        this.transceivers[j].iceTransport.addRemoteCandidate({});\n        sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n        sections[j + 1] += 'a=end-of-candidates\\r\\n';\n        this.remoteDescription.sdp = sections.join('');\n        if (this.usingBundle) {\n          break;\n        }\n      }\n    } else if (!(candidate.sdpMLineIndex !== undefined || candidate.sdpMid)) {\n      throw new TypeError('sdpMLineIndex or sdpMid required');\n    } else if (!this.remoteDescription) {\n      err = new Error('Can not add ICE candidate without ' +\n          'a remote description');\n      err.name = 'InvalidStateError';\n    } else {\n      var sdpMLineIndex = candidate.sdpMLineIndex;\n      if (candidate.sdpMid) {\n        for (var i = 0; i < this.transceivers.length; i++) {\n          if (this.transceivers[i].mid === candidate.sdpMid) {\n            sdpMLineIndex = i;\n            break;\n          }\n        }\n      }\n      var transceiver = this.transceivers[sdpMLineIndex];\n      if (transceiver) {\n        if (transceiver.isDatachannel) {\n          return Promise.resolve();\n        }\n        var cand = Object.keys(candidate.candidate).length > 0 ?\n            SDPUtils.parseCandidate(candidate.candidate) : {};\n        // Ignore Chrome's invalid candidates since Edge does not like them.\n        if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n          return Promise.resolve();\n        }\n        // Ignore RTCP candidates, we assume RTCP-MUX.\n        if (cand.component && cand.component !== 1) {\n          return Promise.resolve();\n        }\n        // when using bundle, avoid adding candidates to the wrong\n        // ice transport. And avoid adding candidates added in the SDP.\n        if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n            transceiver.iceTransport !== this.transceivers[0].iceTransport)) {\n          if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n            err = new Error('Can not add ICE candidate');\n            err.name = 'OperationError';\n          }\n        }\n\n        if (!err) {\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[sdpMLineIndex + 1] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      } else {\n        err = new Error('Can not add ICE candidate');\n        err.name = 'OperationError';\n      }\n    }\n    var args = arguments;\n    return new Promise(function(resolve, reject) {\n      if (err) {\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [err]);\n        }\n        reject(err);\n      } else {\n        if (args.length > 1 && typeof args[1] === 'function') {\n          args[1].apply(null);\n        }\n        resolve();\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function() {\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    var fixStatsType = function(stat) {\n      return {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      }[stat.type] || stat.type;\n    };\n    return new Promise(function(resolve) {\n      // shim getStats with maplike support\n      var results = new Map();\n      Promise.all(promises).then(function(res) {\n        res.forEach(function(result) {\n          Object.keys(result).forEach(function(id) {\n            result[id].type = fixStatsType(result[id]);\n            results.set(id, result[id]);\n          });\n        });\n        if (cb) {\n          cb.apply(null, results);\n        }\n        resolve(results);\n      });\n    });\n  };\n  return RTCPeerConnection;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  },\n\n  shimRemoveStream: function(window) {\n    if (!window.RTCPeerConnection ||\n        'removeStream' in window.RTCPeerConnection.prototype) {\n      return;\n    }\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(function(sender) {\n        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n          pc.removeTrack(sender);\n        }\n      });\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var pc = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(pc, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        return _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var pc = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            pc.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          var pc = this;\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(function(stream) {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              var event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimCreateOfferLegacy: function(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {\n      var pc = this;\n      if (offerOptions) {\n        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'audio';\n        });\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          pc.addTransceiver('audio');\n        }\n\n        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'video';\n        });\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            videoTransceiver.setDirection('sendonly');\n          } else if (videoTransceiver.direction === 'recvonly') {\n            videoTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          pc.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(pc, arguments);\n    };\n  }\n};\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar utils = require('./utils');\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    utils.wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  },\n\n  shimMaxMessageSize: function(window) {\n    if (window.RTCSctpTransport || !window.RTCPeerConnection) {\n      return;\n    }\n    var browserDetails = utils.detectBrowser(window);\n\n    if (!('sctp' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n        get: function() {\n          return typeof this._sctp === 'undefined' ? null : this._sctp;\n        }\n      });\n    }\n\n    var sctpInDescription = function(description) {\n      var sections = SDPUtils.splitSections(description.sdp);\n      sections.shift();\n      return sections.some(function(mediaSection) {\n        var mLine = SDPUtils.parseMLine(mediaSection);\n        return mLine && mLine.kind === 'application'\n            && mLine.protocol.indexOf('SCTP') !== -1;\n      });\n    };\n\n    var getRemoteFirefoxVersion = function(description) {\n      // TODO: Is there a better solution for detecting Firefox?\n      var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n      if (match === null || match.length < 2) {\n        return -1;\n      }\n      var version = parseInt(match[1], 10);\n      // Test for NaN (yes, this is ugly)\n      return version !== version ? -1 : version;\n    };\n\n    var getCanSendMaxMessageSize = function(remoteIsFirefox) {\n      // Every implementation we know can send at least 64 KiB.\n      // Note: Although Chrome is technically able to send up to 256 KiB, the\n      //       data does not reach the other peer reliably.\n      //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n      var canSendMaxMessageSize = 65536;\n      if (browserDetails.browser === 'firefox') {\n        if (browserDetails.version < 57) {\n          if (remoteIsFirefox === -1) {\n            // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n            // fragmentation.\n            canSendMaxMessageSize = 16384;\n          } else {\n            // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n            // messages. Thus, supporting ~2 GiB when sending.\n            canSendMaxMessageSize = 2147483637;\n          }\n        } else {\n          // Currently, all FF >= 57 will reset the remote maximum message size\n          // to the default value when a data channel is created at a later\n          // stage. :(\n          // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n          canSendMaxMessageSize =\n            browserDetails.version === 57 ? 65535 : 65536;\n        }\n      }\n      return canSendMaxMessageSize;\n    };\n\n    var getMaxMessageSize = function(description, remoteIsFirefox) {\n      // Note: 65536 bytes is the default value from the SDP spec. Also,\n      //       every implementation we know supports receiving 65536 bytes.\n      var maxMessageSize = 65536;\n\n      // FF 57 has a slightly incorrect default remote max message size, so\n      // we need to adjust it here to avoid a failure when sending.\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n      if (browserDetails.browser === 'firefox'\n           && browserDetails.version === 57) {\n        maxMessageSize = 65535;\n      }\n\n      var match = SDPUtils.matchPrefix(description.sdp, 'a=max-message-size:');\n      if (match.length > 0) {\n        maxMessageSize = parseInt(match[0].substr(19), 10);\n      } else if (browserDetails.browser === 'firefox' &&\n                  remoteIsFirefox !== -1) {\n        // If the maximum message size is not present in the remote SDP and\n        // both local and remote are Firefox, the remote peer can receive\n        // ~2 GiB.\n        maxMessageSize = 2147483637;\n      }\n      return maxMessageSize;\n    };\n\n    var origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n      var pc = this;\n      pc._sctp = null;\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        var maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        var sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get: function() {\n            return maxMessageSize;\n          }\n        });\n        pc._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  },\n\n  shimSendThrowTypeError: function(window) {\n    // Note: Although Firefox >= 57 has a native implementation, the maximum\n    //       message size can be reset for all data channels at a later stage.\n    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n    var origCreateDataChannel =\n      window.RTCPeerConnection.prototype.createDataChannel;\n    window.RTCPeerConnection.prototype.createDataChannel = function() {\n      var pc = this;\n      var dataChannel = origCreateDataChannel.apply(pc, arguments);\n      var origDataChannelSend = dataChannel.send;\n\n      // Patch 'send' method\n      dataChannel.send = function() {\n        var dc = this;\n        var data = arguments[0];\n        var length = data.length || data.size || data.byteLength;\n        if (length > pc.sctp.maxMessageSize) {\n          throw new DOMException('Message too large (can send a maximum of ' +\n            pc.sctp.maxMessageSize + ' bytes)', 'TypeError');\n        }\n        return origDataChannelSend.apply(dc, arguments);\n      };\n\n      return dataChannel;\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = require('./utils');\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimCreateOfferLegacy(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n","exports.f = require('./_wks');\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","/**\n * @hidden\n */\nexport class CustomError extends Error {\n  constructor(\n    {\n      name = \"\",\n      message = \"\"\n    }: {\n      name?: string;\n      message?: string;\n    } = {}\n  ) {\n    super(message);\n    Object.setPrototypeOf(this, CustomError.prototype);\n    this.name = name;\n  }\n}\n","import { CustomError } from \"./customError\";\n\n/**\n * @hidden\n */\nexport namespace BrowserHelper {\n  /**\n   * @returns The first matching error indicating a missing browser feature, or undefined.\n   */\n  export function checkBrowserCompatibility(): Error | undefined {\n    if (window.navigator.mediaDevices == null || typeof window.navigator.mediaDevices.getUserMedia !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Media devices are not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Worker\") || typeof (<any>window).Worker !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Web Worker is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"WebAssembly\") || typeof (<any>window).WebAssembly !== \"object\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"WebAssembly is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Blob\") || typeof (<any>window).Blob !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Blob object is not supported on this OS / Browser\"\n      });\n    }\n\n    if (\n      !window.hasOwnProperty(\"URL\") ||\n      (typeof (<any>window).URL !== \"function\" && typeof (<any>window).URL !== \"object\") ||\n      typeof (<any>window).URL.createObjectURL !== \"function\"\n    ) {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"URL object is not supported on this OS / Browser\"\n      });\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Get a value from a cookie.\n   *\n   * @param key The key for the cookie for which to get the value.\n   * @returns The cookie value for the given key, empty string if not found.\n   */\n  function getCookieValue(key: string): string {\n    const cookieMatch: RegExpMatchArray | null = document.cookie.match(`(^|;)\\\\s*${key}\\\\s*=\\\\s*([^;]+)`);\n\n    if (cookieMatch == null) {\n      return \"\";\n    } else {\n      const cookieValue: string | undefined = cookieMatch.pop();\n\n      // istanbul ignore next\n      return cookieValue == null ? \"\" : cookieValue;\n    }\n  }\n\n  /**\n   * Store a value in a cookie.\n   *\n   * @param key The key for the cookie.\n   * @param value The value of the cookie.\n   * @param expirationDays The amount of days after which the cookie will expire.\n   */\n  function setCookieValue(key: string, value: string, expirationDays: number): void {\n    const date: Date = new Date();\n    date.setTime(date.getTime() + expirationDays * 24 * 60 * 60 * 1000);\n    document.cookie = `${key}=${value};expires=${date.toUTCString()}`;\n  }\n\n  /**\n   * Get a device id for the current browser, when available it's retrieved from a cookie,\n   * when not it's randomly generated and stored in a cookie to be retrieved by later calls.\n   *\n   * @returns The device id for the current browser.\n   */\n  export function getDeviceId(): string {\n    const cookieKey: string = \"scandit-device-id\";\n    const storedDeviceId: string = getCookieValue(cookieKey);\n    if (storedDeviceId !== \"\") {\n      return storedDeviceId;\n    }\n    const hexCharacters: string = \"0123456789abcdef\";\n    let randomDeviceId: string = \"\";\n    for (let i: number = 0; i < 40; ++i) {\n      // tslint:disable-next-line:insecure-random\n      randomDeviceId += hexCharacters.charAt(Math.floor(Math.random() * 16));\n    }\n    setCookieValue(cookieKey, randomDeviceId, 3650);\n\n    return randomDeviceId;\n  }\n}\n","/**\n * A camera for video input available to be used on the device.\n */\nexport interface Camera {\n  /**\n   * The unique identifier for the device, can change between page loads.\n   */\n  readonly deviceId: string;\n  /**\n   * The label describing the device.\n   */\n  readonly label: string;\n  /**\n   * The type of camera, back or front (not guaranteed to be correct, depending on the device).\n   */\n  readonly cameraType: Camera.Type;\n  /**\n   * The current video resolution if and when the camera is in use, given as width and height in pixels.\n   */\n  currentResolution?: { width: number; height: number };\n}\n\nexport namespace Camera {\n  /**\n   * Camera type (not guaranteed to be correct, depending on the device).\n   */\n  export enum Type {\n    /**\n     * Front facing camera.\n     */\n    FRONT,\n    /**\n     * Back facing camera.\n     */\n    BACK\n  }\n}\n","import { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CustomError } from \"./customError\";\n\n/**\n * A helper object to interact with cameras.\n */\nexport namespace CameraAccess {\n  /**\n   * @hidden\n   *\n   * Handle localized camera labels. Supported languages:\n   * English, German, French, Spanish (spain), Portuguese (brasil), Portuguese (portugal), Italian,\n   * Chinese (simplified), Chinese (traditional), Japanese, Russian, Turkish, Dutch, Arabic, Thai, Swedish,\n   * Danish, Vietnamese, Norwegian, Polish, Finnish, Indonesian, Hebrew, Greek, Romanian, Hungarian, Czech,\n   * Catalan, Slovak, Ukraininan, Croatian, Malay, Hindi.\n   */\n  const backCameraKeywords: string[] = [\n    \"rear\",\n    \"back\",\n    \"rück\",\n    \"arrière\",\n    \"trasera\",\n    \"trás\",\n    \"traseira\",\n    \"posteriore\",\n    \"后面\",\n    \"後面\",\n    \"背面\",\n    \"后置\", // alternative\n    \"後置\", // alternative\n    \"背置\", // alternative\n    \"задней\",\n    \"الخلفية\",\n    \"후\",\n    \"arka\",\n    \"achterzijde\",\n    \"หลัง\",\n    \"baksidan\",\n    \"bagside\",\n    \"sau\",\n    \"bak\",\n    \"tylny\",\n    \"takakamera\",\n    \"belakang\",\n    \"אחורית\",\n    \"πίσω\",\n    \"spate\",\n    \"hátsó\",\n    \"zadní\",\n    \"darrere\",\n    \"zadná\",\n    \"задня\",\n    \"stražnja\",\n    \"belakang\",\n    \"बैक\"\n  ];\n\n  /**\n   * @hidden\n   */\n  export let cameras: Camera[];\n\n  /**\n   * Get a list of cameras (if any) available on the device, a camera access permission is requested to the user\n   * the first time this method is called if needed. Subsequent calls return a cached list of cameras.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   *\n   * @returns A promise resolving to the array of available [[Camera]] objects (could be empty).\n   */\n  export function getCameras(): Promise<Camera[]> {\n    return new Promise((resolve, reject) => {\n      const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n      if (unsupportedBrowserError != null) {\n        return reject(unsupportedBrowserError);\n      }\n      if (cameras != null) {\n        return resolve(cameras);\n      }\n\n      navigator.mediaDevices\n        .getUserMedia({\n          video: true,\n          audio: false\n        })\n        .then(stream => {\n          return enumerateDevices()\n            .then(devices => {\n              stream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              cameras = devices\n                .filter(device => {\n                  return device.kind === \"videoinput\";\n                })\n                .map(videoDevice => {\n                  const label: string = videoDevice.label != null ? videoDevice.label : \"\";\n                  const lowercaseLabel: string = label.toLowerCase();\n\n                  return {\n                    deviceId: videoDevice.deviceId,\n                    label: label,\n                    cameraType: backCameraKeywords.some(keyword => {\n                      return lowercaseLabel.indexOf(keyword) !== -1;\n                    })\n                      ? Camera.Type.BACK\n                      : Camera.Type.FRONT\n                  };\n                });\n              if (\n                cameras.length > 1 &&\n                !cameras.some(camera => {\n                  return camera.cameraType === Camera.Type.BACK;\n                })\n              ) {\n                const camera: Camera = cameras.slice(-1)[0];\n                cameras[cameras.length - 1] = {\n                  deviceId: camera.deviceId,\n                  label: camera.label,\n                  cameraType: Camera.Type.BACK\n                };\n              }\n\n              return resolve(cameras);\n            })\n            .catch(error => {\n              stream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              return reject(error);\n            });\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  }\n\n  /**\n   * @hidden\n   *\n   * Try to access a given camera for video input at the given resolution level.\n   *\n   * @param resolutionFallbackLevel The number representing the wanted resolution, from 0 to 6,\n   * resulting in higher to lower video resolutions.\n   * @param camera The camera to try to access for video input.\n   * @returns A promise resolving to the <tt>MediaStream</tt> object coming from the accessed camera.\n   */\n  export function accessCameraStream(resolutionFallbackLevel: number, camera?: Camera): Promise<MediaStream> {\n    const getUserMediaParams: any = {\n      audio: false,\n      video: {}\n    };\n    if (resolutionFallbackLevel === 0) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1400,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1440,\n          max: 1440\n        }\n      };\n    } else if (resolutionFallbackLevel === 1) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1200,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1200,\n          max: 1200\n        }\n      };\n    } else if (resolutionFallbackLevel === 2) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1080,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1080,\n          max: 1080\n        }\n      };\n    } else if (resolutionFallbackLevel === 3) {\n      getUserMediaParams.video = {\n        width: {\n          min: 960,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 960,\n          max: 960\n        }\n      };\n    } else if (resolutionFallbackLevel === 4) {\n      getUserMediaParams.video = {\n        width: {\n          min: 720,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 768\n        }\n      };\n    } else if (resolutionFallbackLevel === 5) {\n      getUserMediaParams.video = {\n        width: {\n          min: 640,\n          ideal: 960,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 720\n        }\n      };\n    }\n\n    if (camera === undefined) {\n      getUserMediaParams.video = true;\n    } else {\n      getUserMediaParams.video.deviceId = {\n        exact: camera.deviceId\n      };\n    }\n\n    return navigator.mediaDevices.getUserMedia(getUserMediaParams);\n  }\n\n  /**\n   * @hidden\n   *\n   * Get a list of available devices in a cross-browser compatible way.\n   *\n   * @returns A promise resolving to the <tt>MediaDeviceInfo</tt> array of all available devices.\n   */\n  function enumerateDevices(): Promise<MediaDeviceInfo[]> {\n    if (typeof (<any>window.navigator).enumerateDevices === \"function\") {\n      return (<any>window.navigator).enumerateDevices();\n    } else if (\n      typeof (<any>window.navigator).mediaDevices === \"object\" &&\n      typeof (<any>window.navigator).mediaDevices.enumerateDevices === \"function\"\n    ) {\n      return window.navigator.mediaDevices.enumerateDevices();\n    } else {\n      return new Promise((resolve, reject) => {\n        try {\n          (<any>window).MediaStreamTrack.getSources((devices: MediaDeviceInfo[]) => {\n            resolve(\n              devices\n                .filter(device => {\n                  return device.kind.toLowerCase() === \"video\" || device.kind.toLowerCase() === \"videoinput\";\n                })\n                .map(device => {\n                  return {\n                    deviceId: device.deviceId != null ? device.deviceId : \"\",\n                    groupId: device.groupId,\n                    kind: <MediaDeviceKind>\"videoinput\",\n                    label: device.label\n                  };\n                })\n            );\n          });\n        } catch (error) {\n          reject(\n            new CustomError({\n              name: \"UnsupportedBrowserError\",\n              message: \"Media devices are not supported on this OS / Browser\"\n            })\n          );\n        }\n      });\n    }\n  }\n}\n","/**\n * A configuration object to define the properties of an image to be scanned.\n */\nexport interface ImageSettings {\n  /**\n   * The width of the image (columns of pixels).\n   */\n  readonly width: number;\n  /**\n   * The height of the image (rows of pixels).\n   */\n  readonly height: number;\n  /**\n   * The format of the pixel data, meaning the mapping of array bytes to image pixels.\n   */\n  readonly format: ImageSettings.Format;\n}\n\nexport namespace ImageSettings {\n  // Warning: the values of Format are important as the engine web worker relies on them without type checking.\n  /**\n   * Image bytes format/layout.\n   */\n  export enum Format {\n    /**\n     * Single-channel 8-bit gray scale image.\n     */\n    GRAY_8U = 0,\n    /**\n     * RGB image with 8 bits per color channel.\n     */\n    RGB_8U = 1,\n    /**\n     * RGBA image with 8 bits per color channel.\n     */\n    RGBA_8U = 2\n  }\n}\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// tslint:disable:no-string-literal\nimport { ImageSettings } from \"../imageSettings\";\nimport { Parser } from \"../parser\";\n\n// TODO: Find a nice way to use typescript WebWorker lib/types just for worker files\n/**\n * @hidden\n */\ndeclare const importScripts: (...urls: string[]) => void;\n/**\n * @hidden\n */\ndeclare const postMessage: (message: any, transfer?: any[] | undefined) => void;\n\n/**\n * @hidden\n */\ntype FileSystemType = {};\n\n/**\n * @hidden\n */\ndeclare const Module: {\n  HEAPU8: Uint8Array;\n  asm: any;\n  lengthBytesUTF8(str: string): number;\n  UTF8ToString(ptr: number): string;\n  stringToUTF8(str: string, outPtr: number, maxBytesToWrite: number): void;\n  _malloc(size: number): number;\n  _free(ptr: number): void;\n  callMain(): void;\n};\n\n/**\n * @hidden\n */\ndeclare namespace FS {\n  function syncfs(populate: boolean, callback: (e: any) => any): void;\n  function syncfs(callback: (e: any) => any, populate?: boolean): void;\n  function mount(fsType: FileSystemType, opts: any, mountpoint: string): any;\n  function mkdir(path: string, mode?: number): any;\n}\n\n/**\n * @hidden\n */\ndeclare const IDBFS: FileSystemType;\n\n/**\n * @hidden\n */\ndeclare type ScanWorkUnit = {\n  requestId: number;\n  data: ArrayBuffer;\n};\n\n/**\n * @hidden\n */\ndeclare type ParseWorkUnit = {\n  requestId: number;\n  dataFormat: Parser.DataFormat;\n  dataString: string;\n  options: string;\n};\n\n/**\n * @hidden\n */\n// tslint:disable-next-line:max-func-body-length\nfunction engineSDKWorkerFunction(): void {\n  let imageBufferPointer: number | undefined;\n  let licenseKey: string;\n  let settings: string;\n  let imageSettings: ImageSettings;\n  let wasmLoaded: boolean = false;\n  let scannerSettingsReady: boolean = false;\n  let scannerImageSettingsReady: boolean = false;\n  const scanQueue: ScanWorkUnit[] = [];\n  const parseQueue: ParseWorkUnit[] = [];\n  let contextAvailable: boolean = false;\n  let scanWorkSubmitted: boolean = false;\n  let parseWorkSubmitted: boolean = false;\n  let blurryDecodingEnabled: boolean = false;\n\n  function loadLibrary(deviceId: string, libraryLocation: string): void {\n    const customModule: any = {\n      locateFile: () => {\n        return `${libraryLocation}scandit-engine-sdk.wasm`;\n      },\n      arguments: [deviceId],\n      noInitialRun: true,\n      preRun: () => {\n        try {\n          FS.mkdir(\"/scandit_sync_folder\");\n        } catch (error) {\n          if (error.code !== \"EEXIST\") {\n            throw error;\n          }\n        }\n        FS.mount(IDBFS, {}, \"/scandit_sync_folder\");\n        FS.syncfs(true, () => {\n          Module.callMain();\n          wasmLoaded = true;\n          postMessage([\"status\", \"ready\"]);\n          workOnScanQueue();\n          workOnParseQueue();\n        });\n      }\n    };\n    (<any>self)[\"Module\"] = customModule;\n\n    if (typeof importScripts === \"function\") {\n      try {\n        importScripts(`${libraryLocation}scandit-engine-sdk.min.js`);\n      } catch (error) {\n        console.error(\n          `Couldn't retrieve Scandit SDK Engine library at ${libraryLocation}scandit-engine-sdk.min.js, ` +\n            \"did you configure the path for it correctly?\"\n        );\n      }\n    }\n  }\n\n  function createContext(): void {\n    if (contextAvailable || licenseKey == null || !wasmLoaded) {\n      return;\n    }\n\n    const licenseKeyLength: number = Module.lengthBytesUTF8(licenseKey) + 1;\n    const licenseKeyPointer: number = Module._malloc(licenseKeyLength);\n    Module.stringToUTF8(licenseKey, licenseKeyPointer, licenseKeyLength);\n    Module.asm._create_context(licenseKeyPointer);\n    Module._free(licenseKeyPointer);\n\n    contextAvailable = true;\n  }\n\n  function setupSettings(): void {\n    if (settings == null || !contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    scannerSettingsReady = false;\n\n    if (licenseKey == null) {\n      console.error(\"No license key found, the library must be set up before the scanning engine can be used\");\n\n      return;\n    }\n\n    const settingsLength: number = Module.lengthBytesUTF8(settings) + 1;\n    const settingsPointer: number = Module._malloc(settingsLength);\n    Module.stringToUTF8(settings, settingsPointer, settingsLength);\n    const resultPointer: number = Module.asm._scanner_settings_new_from_json(\n      settingsPointer,\n      blurryDecodingEnabled ? 1 : 0\n    );\n    Module._free(settingsPointer);\n\n    const result: string = Module.UTF8ToString(resultPointer);\n    if (result !== \"\") {\n      scannerSettingsReady = true;\n      console.debug(JSON.parse(result));\n    }\n  }\n\n  function setupImageSettings(): void {\n    if (imageSettings == null || !wasmLoaded) {\n      return;\n    }\n\n    scannerImageSettingsReady = false;\n\n    let channels: number;\n    // TODO: For now it's not possible to use imported variables as the worker doesn't have access at runtime\n    switch (imageSettings.format.valueOf()) {\n      case 0: // GRAY_8U\n        channels = 1;\n        break;\n      case 1: // RGB_8U\n        channels = 3;\n        break;\n      case 2: // RGBA_8U\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    Module.asm._scanner_image_settings_new(imageSettings.width, imageSettings.height, channels);\n    if (imageBufferPointer != null) {\n      Module._free(imageBufferPointer);\n      imageBufferPointer = undefined;\n    }\n    imageBufferPointer = Module._malloc(imageSettings.width * imageSettings.height * channels);\n\n    scannerImageSettingsReady = true;\n  }\n\n  function scanImage(imageData: ArrayBuffer): string {\n    Module.HEAPU8.set(new Uint8Array(imageData), imageBufferPointer);\n\n    return Module.UTF8ToString(Module.asm._scanner_scan(imageBufferPointer));\n  }\n\n  function parseString(dataFormat: Parser.DataFormat, dataString: string, options: string): string {\n    const dataStringLength: number = Module.lengthBytesUTF8(dataString) + 1;\n    const dataStringPointer: number = Module._malloc(dataStringLength);\n    Module.stringToUTF8(dataString, dataStringPointer, dataStringLength);\n    const optionsLength: number = Module.lengthBytesUTF8(options) + 1;\n    const optionsPointer: number = Module._malloc(optionsLength);\n    Module.stringToUTF8(options, optionsPointer, optionsLength);\n    const resultPointer: number = Module.asm._parser_parse_string(\n      dataFormat.valueOf(),\n      dataStringPointer,\n      dataStringLength - 1,\n      optionsPointer\n    );\n    Module._free(dataStringPointer);\n    Module._free(optionsPointer);\n\n    return Module.UTF8ToString(resultPointer);\n  }\n\n  function workOnScanQueue(): void {\n    if ((!scannerSettingsReady || !scannerImageSettingsReady) && scanQueue.length !== 0) {\n      createContext();\n      setupSettings();\n      setupImageSettings();\n    }\n\n    if (!scannerSettingsReady || !scannerImageSettingsReady) {\n      return;\n    }\n\n    let currentScanWorkUnit: ScanWorkUnit;\n    let resultData: string;\n    while (scanQueue.length !== 0) {\n      currentScanWorkUnit = <ScanWorkUnit>scanQueue.shift();\n      resultData = scanImage(currentScanWorkUnit.data);\n      const result: any = JSON.parse(resultData);\n      // Important! We send back data that is actually ignored by the receiver (currentScanWorkUnit.data).\n      // This is needed however because some browsers run out of memory due to no GC being run\n      // if this data is not send back (cleared) by the worker for some weird reason...\n      if (result.error != null) {\n        postMessage(\n          [\n            \"work-error\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              error: result.error\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else if (result.result != null) {\n        postMessage(\n          [\n            \"work-result\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              result: result.result\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else {\n        console.error(\"Unrecognized Scandit Engine result:\", result);\n        postMessage([\"\"], [currentScanWorkUnit.data]);\n      }\n    }\n  }\n\n  function workOnParseQueue(): void {\n    if (!contextAvailable && parseQueue.length !== 0) {\n      createContext();\n    }\n\n    if (!contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    let currentParseWorkUnit: ParseWorkUnit;\n    let resultData: string;\n    while (parseQueue.length !== 0) {\n      currentParseWorkUnit = <ParseWorkUnit>parseQueue.shift();\n      resultData = parseString(\n        currentParseWorkUnit.dataFormat,\n        currentParseWorkUnit.dataString,\n        currentParseWorkUnit.options\n      );\n      const result: any = JSON.parse(resultData);\n      if (result.error != null) {\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: result.error\n          }\n        ]);\n      } else if (result.result != null) {\n        postMessage([\n          \"parse-string-result\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            result: result.result\n          }\n        ]);\n      } else {\n        console.error(\"Unrecognized Scandit Parser result:\", result);\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: {\n              errorCode: -1,\n              errorMessage: \"Unknown Scandit Parser error\"\n            }\n          }\n        ]);\n      }\n    }\n  }\n\n  onmessage = e => {\n    // Setting settings triggers license verification and activation: delay until first frame processed\n    const data: any = e.data;\n    switch (data.type) {\n      case \"enable-blurry-decoding\":\n        blurryDecodingEnabled = true;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"load-library\":\n        loadLibrary(data.deviceId, data.libraryLocation);\n        break;\n      case \"license-key\":\n        licenseKey = data.licenseKey;\n        createContext();\n        if (parseWorkSubmitted) {\n          workOnParseQueue();\n        }\n        break;\n      case \"settings\":\n        settings = data.settings;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"image-settings\":\n        imageSettings = data.imageSettings;\n        if (scanWorkSubmitted) {\n          setupImageSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"work\":\n        scanWorkSubmitted = true;\n        scanQueue.push({\n          requestId: data.requestId,\n          data: data.data\n        });\n        workOnScanQueue();\n        break;\n      case \"parse-string\":\n        parseWorkSubmitted = true;\n        parseQueue.push({\n          requestId: data.requestId,\n          dataFormat: data.dataFormat,\n          dataString: data.dataString,\n          options: data.options\n        });\n        workOnParseQueue();\n        break;\n      default:\n        break;\n    }\n  };\n}\n\n/**\n * @hidden\n */\nexport const engineSDKWorker: Blob = new Blob([`(${engineSDKWorkerFunction.toString()})()`], {\n  type: \"text/javascript\"\n});\n","import { BarcodeEncodingRange } from \"./barcodeEncodingRange\";\nimport { Quadrilateral } from \"./quadrilateral\";\n\n/**\n * A barcode result.\n */\nexport interface Barcode {\n  /**\n   * The symbology type.\n   */\n  readonly symbology: Barcode.Symbology;\n  /**\n   * The data encoded in the barcode interpreted as a UTF-8 string.\n   * If the raw data is not a valid UTF-8 string, this field will be an empty string.\n   */\n  readonly data: string;\n  /**\n   * The raw data encoded in the barcode, given as an array of bytes.\n   * To interpret this correctly you may have to use the information contained in encodingArray.\n   */\n  readonly rawData: Uint8Array;\n  /**\n   * The location of the barcode.\n   */\n  readonly location: Quadrilateral;\n  /**\n   * Whether the barcode is part of a composite code.\n   */\n  readonly compositeFlag: Barcode.CompositeFlag;\n  /**\n   * Whether the barcode is a GS1 data carrier.\n   */\n  readonly isGs1DataCarrier: boolean;\n  /**\n   * The data encoding of the data in the barcode, given as an array of encoding ranges.\n   */\n  readonly encodingArray: BarcodeEncodingRange[];\n}\n\nexport namespace Barcode {\n  // Deprecated but useful function for easy UTF-8 handling\n  /**\n   * @hidden\n   */\n  declare function escape(s: string): string;\n\n  /**\n   * @hidden\n   *\n   * Create a [[Barcode]] object from a partial object returned by the external Scandit Engine library.\n   * The <i>rawData</i> and <i>data</i> fields are computed and stored.\n   *\n   * @param result The barcode result coming from the external Scandit Engine library.\n   * @returns The generated [[Barcode]] object.\n   */\n  export function createFromWASMResult(result: any): Barcode {\n    let decodedData: string;\n    try {\n      decodedData = decodeURIComponent(escape(String.fromCharCode.apply(null, result.rawData)));\n    } catch (error) {\n      decodedData = \"\";\n    }\n\n    return {\n      symbology: result.symbology,\n      data: decodedData,\n      rawData: new Uint8Array(result.rawData),\n      location: {\n        topLeft: { x: result.location[0][0], y: result.location[0][1] },\n        topRight: { x: result.location[1][0], y: result.location[1][1] },\n        bottomRight: { x: result.location[2][0], y: result.location[2][1] },\n        bottomLeft: { x: result.location[3][0], y: result.location[3][1] }\n      },\n      compositeFlag: result.compositeFlag,\n      isGs1DataCarrier: result.isGs1DataCarrier,\n      encodingArray: result.encodingArray\n    };\n  }\n\n  /**\n   * Barcode symbology type.\n   */\n  export enum Symbology {\n    EAN13 = \"ean13\",\n    EAN8 = \"ean8\",\n    UPCA = \"upca\",\n    UPCE = \"upce\",\n    CODE128 = \"code128\",\n    CODE39 = \"code39\",\n    CODE93 = \"code93\",\n    INTERLEAVED_2_OF_5 = \"itf\",\n    QR = \"qr\",\n    DATA_MATRIX = \"data-matrix\",\n    PDF417 = \"pdf417\",\n    MSI_PLESSEY = \"msi-plessey\",\n    GS1_DATABAR = \"databar\",\n    GS1_DATABAR_EXPANDED = \"databar-expanded\",\n    CODABAR = \"codabar\",\n    AZTEC = \"aztec\",\n    TWO_DIGIT_ADD_ON = \"two-digit-add-on\",\n    FIVE_DIGIT_ADD_ON = \"five-digit-add-on\",\n    MAXICODE = \"maxicode\",\n    CODE11 = \"code11\",\n    GS1_DATABAR_LIMITED = \"databar-limited\",\n    CODE25 = \"code25\",\n    MICRO_PDF417 = \"micropdf417\",\n    RM4SCC = \"rm4scc\",\n    KIX = \"kix\",\n    DOTCODE = \"dotcode\"\n  }\n\n  /**\n   * Flags to hint that two codes form a composite code.\n   */\n  export enum CompositeFlag {\n    /**\n     * Code is not part of a composite code.\n     */\n    NONE = 0x0,\n    /**\n     * Code could be part of a composite code. This flag is set by linear (1D) symbologies that have\n     * no composite flag support but can be part of a composite code like the EAN/UPC symbology family.\n     */\n    UNKNOWN = 0x1,\n    /**\n     * Code is the linear component of a composite code. This flag can be set by GS1 DataBar or GS1-128 (Code 128).\n     */\n    LINKED = 0x2,\n    /**\n     * Code is a GS1 Composite Code Type A (CC - A).This flag can be set by MicroPDF417 codes.\n     */\n    GS1_A = 0x4,\n    /**\n     * Code is a GS1 Composite Code Type B (CC-B). This flag can be set by MicroPDF417 codes.\n     */\n    GS1_B = 0x8,\n    /**\n     * Code is a GS1 Composite Code Type C (CC-C). This flag can be set by PDF417 codes.\n     */\n    GS1_C = 0x10\n  }\n\n  // istanbul ignore next\n  export namespace Symbology {\n    // tslint:disable:no-unnecessary-qualifier\n    /**\n     * Get the humanized name of a symbology.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The humanized name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toHumanizedName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"EAN-13\";\n        case Symbology.EAN8:\n          return \"EAN-8\";\n        case Symbology.UPCA:\n          return \"UPC-A\";\n        case Symbology.UPCE:\n          return \"UPC-E\";\n        case Symbology.CODE128:\n          return \"Code 128\";\n        case Symbology.CODE39:\n          return \"Code 39\";\n        case Symbology.CODE93:\n          return \"Code 93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"Interleaved Two of Five\";\n        case Symbology.QR:\n          return \"QR\";\n        case Symbology.DATA_MATRIX:\n          return \"Data Matrix\";\n        case Symbology.PDF417:\n          return \"PDF417\";\n        case Symbology.MSI_PLESSEY:\n          return \"MSI-Plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"GS1 DataBar 14\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"GS1 DataBar Expanded\";\n        case Symbology.CODABAR:\n          return \"Codabar\";\n        case Symbology.AZTEC:\n          return \"Aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"Two-Digit Add-On\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"Five-Digit Add-On\";\n        case Symbology.MAXICODE:\n          return \"MaxiCode\";\n        case Symbology.CODE11:\n          return \"Code 11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"GS1 DataBar Limited\";\n        case Symbology.CODE25:\n          return \"Code 25\";\n        case Symbology.MICRO_PDF417:\n          return \"MicroPDF417\";\n        case Symbology.RM4SCC:\n          return \"RM4SCC\";\n        case Symbology.KIX:\n          return \"KIX\";\n        case Symbology.DOTCODE:\n          return \"DotCode\";\n        default:\n          return \"Unknown\";\n      }\n    }\n\n    /**\n     * Get the JSON key name of a symbology, used for JSON-formatted ScanSettings and Scandit Engine library.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The json key name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toJSONName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"ean13\";\n        case Symbology.EAN8:\n          return \"ean8\";\n        case Symbology.UPCA:\n          return \"upca\";\n        case Symbology.UPCE:\n          return \"upce\";\n        case Symbology.CODE128:\n          return \"code128\";\n        case Symbology.CODE39:\n          return \"code39\";\n        case Symbology.CODE93:\n          return \"code93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"itf\";\n        case Symbology.QR:\n          return \"qr\";\n        case Symbology.DATA_MATRIX:\n          return \"data-matrix\";\n        case Symbology.PDF417:\n          return \"pdf417\";\n        case Symbology.MSI_PLESSEY:\n          return \"msi-plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"databar\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"databar-expanded\";\n        case Symbology.CODABAR:\n          return \"codabar\";\n        case Symbology.AZTEC:\n          return \"aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"two-digit-add-on\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"five-digit-add-on\";\n        case Symbology.MAXICODE:\n          return \"maxicode\";\n        case Symbology.CODE11:\n          return \"code11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"databar-limited\";\n        case Symbology.CODE25:\n          return \"code25\";\n        case Symbology.MICRO_PDF417:\n          return \"micropdf417\";\n        case Symbology.RM4SCC:\n          return \"rm4scc\";\n        case Symbology.KIX:\n          return \"kix\";\n        case Symbology.DOTCODE:\n          return \"dotcode\";\n        default:\n          return \"unknown\";\n      }\n    }\n    // tslint:enable:no-unnecessary-qualifier\n  }\n}\n","import { ParserResult } from \"./parserResult\";\nimport { Scanner } from \"./scanner\";\n\n// Deprecated but useful function for easy UTF-8 handling\n/**\n * @hidden\n */\ndeclare function escape(s: string): string;\n\n/**\n * A data string parser.\n *\n * Parsers are capable of parsing one particular data format, which is passed to them during construction.\n *\n * The parser is created through [[BarcodePicker.createParserForFormat]] or [[Scanner.createParserForFormat]].\n * Note that you need to have a valid license with the parsing feature enabled to use the parser functionalities.\n *\n * For documentation on the available formats, check the official parser library documentation here:\n * https://docs.scandit.com/parser/formats.html.\n */\nexport class Parser {\n  private options: any;\n\n  /**\n   * @hidden\n   *\n   * @param scanner The [[Scanner]] object used to interact with the external Scandit library.\n   * @param dataFormat The data format for this parser.\n   */\n  constructor(private scanner: Scanner, private dataFormat: Parser.DataFormat) {}\n\n  /**\n   * Apply the option map to the parser, allowing the user to fine-tune the behaviour of the parser.\n   * Available options depend on the data format and are specified in the respective documentation.\n   *\n   * @param options The new options to be applied (replacing previous ones, if any).\n   */\n  public setOptions(options: object): void {\n    this.options = options;\n  }\n\n  /**\n   * Process the given raw data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataRaw The raw data to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseRawData(dataRaw: Uint8Array): Promise<ParserResult> {\n    let dataString: string;\n    try {\n      dataString = decodeURIComponent(escape(String.fromCharCode.apply(null, dataRaw)));\n    } catch (error) {\n      dataString = \"\";\n    }\n\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n\n  /**\n   * Process the given string data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataString The string to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataString: string): Promise<ParserResult> {\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n}\n\n// istanbul ignore next\nexport namespace Parser {\n  /**\n   * Data format of a string to be parsed into a set of key-value mappings by the Scandit Parser Library.\n   *\n   * See https://docs.scandit.com/parser/formats.html for more details.\n   */\n  export enum DataFormat {\n    /**\n     * GS1 Application Identifier (AI).\n     *\n     * See: http://www.gs1.org/docs/barcodes/GS1_General_Specifications.pdf.\n     */\n    GS1_AI = 1,\n    /**\n     * Health Industry Bar Code (HIBC).\n     *\n     * See: http://www.hibcc.org.\n     */\n    HIBC = 2,\n    /**\n     * AAMVA Driver License/Identification (DL/ID).\n     *\n     * See: http://www.aamva.org.\n     */\n    DLID = 3,\n    /**\n     * ICAO Machine Readable Travel Document (MRTD).\n     *\n     * See: https://www.icao.int.\n     */\n    MRTD = 4,\n    /**\n     * Swiss QR ISO 20022.\n     *\n     * See: https://www.paymentstandards.ch.\n     */\n    SWISSQR = 5\n  }\n}\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };","/**\n * A symbology-specific configuration object.\n *\n * See https://docs.scandit.com/stable/c_api/symbologies.html for more details.\n */\nexport class SymbologySettings {\n  private enabled: boolean;\n  private colorInvertedEnabled: boolean;\n  private activeSymbolCounts: number[];\n  private extensions: Set<SymbologySettings.Extension>;\n  private checksums: Set<SymbologySettings.Checksum>;\n  private customExtensions: boolean;\n  private customChecksums: boolean;\n\n  /**\n   * Creates a SymbologySettings instance.\n   *\n   * @param enabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the symbology is enabled for recognition.\n   * @param colorInvertedEnabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether color inverted recognition is enabled.\n   * @param activeSymbolCounts\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology range)</div>\n   * The list of active symbol counts.\n   * @param extensions\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology extensions)</div>\n   * The list/set of enabled extensions.\n   * @param checksums\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology checksums)</div>\n   * The list/set of enabled checksums.\n   */\n  constructor({\n    enabled = false,\n    colorInvertedEnabled = false,\n    activeSymbolCounts = [],\n    extensions = null,\n    checksums = null\n  }: {\n    enabled?: boolean;\n    colorInvertedEnabled?: boolean;\n    activeSymbolCounts?: number[];\n    extensions?: SymbologySettings.Extension[] | Set<SymbologySettings.Extension>;\n    checksums?: SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>;\n  } = {}) {\n    this.enabled = enabled;\n    this.colorInvertedEnabled = colorInvertedEnabled;\n    this.activeSymbolCounts = activeSymbolCounts;\n    this.customExtensions = extensions != null;\n    this.customChecksums = checksums != null;\n    if (extensions == null) {\n      extensions = [];\n    }\n    if (checksums == null) {\n      checksums = [];\n    }\n    this.extensions = new Set(\n      Array.from(extensions).filter(e => {\n        return (\n          e in SymbologySettings.Extension || Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n        );\n      })\n    );\n    this.checksums = new Set(\n      Array.from(checksums).filter(c => {\n        return (\n          c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n        );\n      })\n    );\n  }\n\n  /**\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isEnabled(): boolean {\n    return this.enabled;\n  }\n\n  /**\n   * Enable or disable recognition of the symbology.\n   *\n   * @param enabled Whether the symbology is enabled for recognition.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setEnabled(enabled: boolean): SymbologySettings {\n    this.enabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether color inverted recognition is enabled.\n   */\n  public isColorInvertedEnabled(): boolean {\n    return this.colorInvertedEnabled;\n  }\n\n  /**\n   * Enable or disable recognition of inverted-color symbology (in addition to normal colors).\n   *\n   * @param enabled Whether color inverted recognition is enabled.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setColorInvertedEnabled(enabled: boolean): SymbologySettings {\n    this.colorInvertedEnabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom list of active symbol counts.\n   * If never set, an empty array is returned\n   * but the Scandit Engine library will use the default list for the symbology.\n   *\n   * @returns The list of active symbol counts.\n   */\n  public getActiveSymbolCounts(): number[] {\n    return this.activeSymbolCounts;\n  }\n\n  /**\n   * Set the list of active symbol counts.\n   *\n   * @param activeSymbolCounts The list of active symbol counts.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCounts(activeSymbolCounts: number[]): SymbologySettings {\n    this.activeSymbolCounts = activeSymbolCounts;\n\n    return this;\n  }\n\n  /**\n   * Set the range of active symbol counts.\n   *\n   * @param minCount The minimum accepted number of symbols.\n   * @param maxCount The minimum accepted number of symbols.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCountsRange(minCount: number, maxCount: number): SymbologySettings {\n    this.activeSymbolCounts = Array.from({ length: maxCount - minCount + 1 }, (_, k) => {\n      return k + minCount;\n    });\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of extensions.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default extension set for the symbology.\n   *\n   * @returns The set of enabled extensions.\n   */\n  public getEnabledExtensions(): Set<SymbologySettings.Extension> {\n    return this.extensions;\n  }\n\n  /**\n   * Enable an extension or list/set of extensions\n   *\n   * @param extension The single extension or list/set of extensions to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    this.customExtensions = true;\n    if (typeof extension === \"object\") {\n      this.extensions = new Set([\n        ...this.extensions,\n        ...Array.from(extension).filter(e => {\n          return (\n            e in SymbologySettings.Extension ||\n            Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        extension in SymbologySettings.Extension ||\n        Object.values(SymbologySettings.Extension).indexOf(extension.toLowerCase()) !== -1\n      ) {\n        this.extensions.add(extension);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable an extension or list/set of extensions.\n   *\n   * @param extension The single extension or list/set of extensions to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    if (typeof extension === \"object\") {\n      this.extensions = new Set(\n        [...this.extensions].filter(x => {\n          return extension instanceof Array ? extension.indexOf(x) === -1 : !extension.has(x);\n        })\n      );\n    } else {\n      this.extensions.delete(extension);\n    }\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of checksums.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default checksum set for the symbology.\n   *\n   * @returns The set of enabled checksums.\n   */\n  public getEnabledChecksums(): Set<SymbologySettings.Checksum> {\n    return this.checksums;\n  }\n\n  /**\n   * Enable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    this.customChecksums = true;\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set([\n        ...this.checksums,\n        ...Array.from(checksum).filter(c => {\n          return (\n            c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        checksum in SymbologySettings.Checksum ||\n        Object.values(SymbologySettings.Checksum).indexOf(checksum.toLowerCase()) !== -1\n      ) {\n        this.checksums.add(checksum);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set(\n        [...this.checksums].filter(x => {\n          return checksum instanceof Array ? checksum.indexOf(x) === -1 : !checksum.has(x);\n        })\n      );\n    } else {\n      this.checksums.delete(checksum);\n    }\n\n    return this;\n  }\n\n  protected toJSON(): object {\n    return {\n      enabled: this.enabled,\n      colorInvertedEnabled: this.colorInvertedEnabled,\n      activeSymbolCounts: this.activeSymbolCounts.length === 0 ? undefined : this.activeSymbolCounts,\n      extensions: this.customExtensions ? Array.from(this.extensions) : undefined,\n      checksums: this.customChecksums ? Array.from(this.checksums) : undefined\n    };\n  }\n}\n\n// istanbul ignore next\nexport namespace SymbologySettings {\n  /**\n   * Symbology extensions for particular functionalities, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Extension {\n    /**\n     * Improve scan performance when reading direct part marked (DPM) Data Matrix codes.\n     * Enabling this extension comes at the cost of increased frame processing times.\n     */\n    DIRECT_PART_MARKING_MODE = \"direct_part_marking_mode\",\n    /**\n     * Interpret the Code 39 / Code 93 code data using two symbols per output character to encode all ASCII characters.\n     */\n    FULL_ASCII = \"full_ascii\",\n    /**\n     * Enable scanning codes that have quiet zones (white area before and after the code) significantly smaller\n     * than what's allowed by the symbology specification.\n     */\n    RELAXED_SHARP_QUIET_ZONE_CHECK = \"relaxed_sharp_quiet_zone_check\",\n    /**\n     * Remove the leading zero digit from the result.\n     */\n    REMOVE_LEADING_ZERO = \"remove_leading_zero\",\n    /**\n     * Remove the leading zero digit from the result if the UPC-A representation extension \"RETURN_AS_UPCA\" is enabled.\n     */\n    REMOVE_LEADING_UPCA_ZERO = \"remove_leading_upca_zero\",\n    /**\n     * Transform the UPC-E result into its UPC-A representation.\n     */\n    RETURN_AS_UPCA = \"return_as_upca\",\n    /**\n     * Removes the leading FNC1 character that indicates a GS1 code.\n     */\n    STRIP_LEADING_FNC1 = \"strip_leading_fnc1\"\n  }\n\n  /**\n   * Checksum algorithms, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Checksum {\n    /**\n     * Modulo 10 checksum.\n     */\n    MOD_10 = \"mod10\",\n    /**\n     * Modulo 11 checksum.\n     */\n    MOD_11 = \"mod11\",\n    /**\n     * Modulo 16 checksum.\n     */\n    MOD_16 = \"mod16\",\n    /**\n     * Modulo 43 checksum.\n     */\n    MOD_43 = \"mod43\",\n    /**\n     * Modulo 47 checksum.\n     */\n    MOD_47 = \"mod47\",\n    /**\n     * Modulo 103 checksum.\n     */\n    MOD_103 = \"mod103\",\n    /**\n     * Two modulo 10 checksums.\n     */\n    MOD_1010 = \"mod1010\",\n    /**\n     * Modulo 11 and modulo 10 checksum.\n     */\n    MOD_1110 = \"mod1110\"\n  }\n}\n","import { Barcode } from \"./barcode\";\nimport { SearchArea } from \"./searchArea\";\nimport { SymbologySettings } from \"./symbologySettings\";\n/**\n * A configuration object for scanning options.\n *\n * Modified ScanSettings need to be applied to a scanner via\n * [[BarcodePicker.applyScanSettings]] or [[Scanner.applyScanSettings]] to take effect.\n */\nexport class ScanSettings {\n  // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n  private symbologySettings: { [symbology: string]: SymbologySettings };\n  private codeDuplicateFilter: number;\n  private maxNumberOfCodesPerFrame: number;\n  private searchArea: SearchArea;\n\n  /**\n   * Creates a ScanSettings instance.\n   *\n   * @param enabledSymbologies <div class=\"tsd-signature-symbol\">Default =&nbsp;[]</div>\n   * The single symbology or list/set of symbologies\n   * that should be initialized as enabled for recognition.\n   * @param codeDuplicateFilter <div class=\"tsd-signature-symbol\">Default =&nbsp;0</div>\n   * The duplicate filter specifying how often a code can be scanned.\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   * When the same code (data/symbology) is scanned within the specified interval it is filtered out as a duplicate.\n   * @param maxNumberOfCodesPerFrame <div class=\"tsd-signature-symbol\">Default =&nbsp;1</div>\n   * The maximum number of barcodes to be recognized every frame.\n   * @param searchArea <div class=\"tsd-signature-symbol\">Default =&nbsp;{ x: 0, y: 0, width: 1.0, height: 1.0 }</div>\n   * The area of the image in which barcodes are searched.\n   */\n  constructor(\n    {\n      enabledSymbologies = [],\n      codeDuplicateFilter = 0,\n      maxNumberOfCodesPerFrame = 1,\n      searchArea = { x: 0, y: 0, width: 1.0, height: 1.0 }\n    }: {\n      enabledSymbologies?: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>;\n      codeDuplicateFilter?: number;\n      maxNumberOfCodesPerFrame?: number;\n      searchArea?: SearchArea;\n    } = {}\n  ) {\n    this.symbologySettings = {};\n    this.enableSymbologies(enabledSymbologies);\n    this.codeDuplicateFilter = codeDuplicateFilter;\n    this.maxNumberOfCodesPerFrame = maxNumberOfCodesPerFrame;\n    this.searchArea = searchArea;\n  }\n\n  /**\n   * @returns The configuration object as a JSON string.\n   */\n  public toJSONString(): string {\n    // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n    const symbologies: { [jsonSymbologyName: string]: SymbologySettings } = {};\n    Object.keys(this.symbologySettings).forEach(s => {\n      symbologies[Barcode.Symbology.toJSONName(<Barcode.Symbology>s)] = (<any>this.symbologySettings)[s];\n    });\n\n    const isFullSearchArea: boolean =\n      Math.round(this.searchArea.x * 100) === 0 &&\n      Math.round(this.searchArea.y * 100) === 0 &&\n      Math.round(this.searchArea.width * 100) === 100 &&\n      Math.round(this.searchArea.height * 100) === 100;\n\n    return JSON.stringify({\n      symbologies: symbologies,\n      codeDuplicateFilter: this.codeDuplicateFilter,\n      maxNumberOfCodesPerFrame: this.maxNumberOfCodesPerFrame,\n      searchArea: this.searchArea,\n      codeLocation1d: isFullSearchArea\n        ? undefined\n        : {\n            area: this.searchArea\n          },\n      codeLocation2d: isFullSearchArea\n        ? undefined\n        : {\n            area: this.searchArea\n          }\n    });\n  }\n\n  /**\n   * Get the configuration object for a symbology (which can then be modified).\n   *\n   * @param symbology The symbology for which to retrieve the configuration.\n   * @returns The symbology configuration object for the specified symbology.\n   */\n  public getSymbologySettings(symbology: Barcode.Symbology): SymbologySettings {\n    const ls: string = symbology.toLowerCase();\n    if (this.symbologySettings.hasOwnProperty(ls)) {\n      return this.symbologySettings[ls];\n    } else {\n      this.symbologySettings[ls] = new SymbologySettings();\n\n      return this.symbologySettings[ls];\n    }\n  }\n\n  /**\n   * Get the recognition enabled status for a symbology.\n   *\n   * @param symbology The symbology for which to retrieve the recognition enabled status.\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isSymbologyEnabled(symbology: Barcode.Symbology): boolean {\n    const ls: string = symbology.toLowerCase();\n\n    return this.symbologySettings.hasOwnProperty(ls) && this.symbologySettings[ls].isEnabled();\n  }\n\n  /**\n   * Enable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to enable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public enableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, true);\n  }\n\n  /**\n   * Disable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to disable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public disableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, false);\n  }\n\n  /**\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @returns The code duplicate filter value.\n   */\n  public getCodeDuplicateFilter(): number {\n    return this.codeDuplicateFilter;\n  }\n\n  /**\n   * Set the code duplicate filter value.\n   *\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @param durationMilliseconds The new value (-1, 0, or positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setCodeDuplicateFilter(durationMilliseconds: number): ScanSettings {\n    this.codeDuplicateFilter = durationMilliseconds;\n\n    return this;\n  }\n\n  /**\n   * @returns The maximum number of barcodes to be recognized every frame.\n   */\n  public getMaxNumberOfCodesPerFrame(): number {\n    return this.maxNumberOfCodesPerFrame;\n  }\n\n  /**\n   * Set the maximum number of barcodes to be recognized every frame.\n   *\n   * @param limit The new value (non-zero positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setMaxNumberOfCodesPerFrame(limit: number): ScanSettings {\n    this.maxNumberOfCodesPerFrame = limit;\n\n    return this;\n  }\n\n  /**\n   * @returns The area of the image in which barcodes are searched.\n   */\n  public getSearchArea(): SearchArea {\n    return this.searchArea;\n  }\n\n  /**\n   * Set the area of the image in which barcodes are searched.\n   *\n   * @param searchArea The new search area.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setSearchArea(searchArea: SearchArea): ScanSettings {\n    this.searchArea = searchArea;\n\n    return this;\n  }\n\n  private setSymbologiesEnabled(\n    symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>,\n    enabled: boolean\n  ): ScanSettings {\n    if (typeof symbology === \"object\") {\n      for (const s of symbology) {\n        const ls: string = s.toLowerCase();\n        if (s in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n          if (this.symbologySettings.hasOwnProperty(ls)) {\n            this.symbologySettings[ls].setEnabled(enabled);\n          } else {\n            this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n          }\n        }\n      }\n    } else {\n      const ls: string = symbology.toLowerCase();\n      if (symbology in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n        if (this.symbologySettings.hasOwnProperty(ls)) {\n          this.symbologySettings[ls].setEnabled(enabled);\n        } else {\n          this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n        }\n      }\n    }\n\n    return this;\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\n\nimport { engineSDKWorker } from \"./workers/engineSDKWorker\";\n\nimport { deviceId, scanditEngineLocation, userLicenseKey } from \"../index\";\nimport { Barcode } from \"./barcode\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { ParserField } from \"./parserField\";\nimport { ParserResult } from \"./parserResult\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A low-level scanner interacting with the external Scandit Engine library.\n * Used to set up scan / image settings and to process single image frames.\n *\n * The loading of the external Scandit Engine library can take some time, the [[onReady]] method\n * can be used to set up a listener function to be called when the library is loaded and the [[isReady]] method\n * can return the current status. The scanner will be ready to start scanning when the library is loaded.\n */\nexport class Scanner {\n  private scanSettings: ScanSettings;\n  private imageSettings: ImageSettings;\n  private engineSDKWorker: Worker;\n  private eventEmitter: EventEmitter;\n  private workerParseRequestId: number;\n  private workerScanRequestId: number;\n  private workerScanQueueLength: number;\n  private isReadyToWork: boolean;\n\n  /**\n   * Creates a Scanner instance.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * Before processing an image the relative settings must also have been set.\n   *\n   * If the library has not been correctly configured yet a <tt>LibraryNotConfiguredError</tt> error is thrown.\n   *\n   * If a browser is incompatible a <tt>UnsupportedBrowserError</tt> error is thrown.\n   *\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options.\n   * @param imageSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The configuration object to define the properties of an image to be scanned.\n   */\n  constructor({\n    scanSettings = new ScanSettings(),\n    imageSettings\n  }: {\n    scanSettings?: ScanSettings;\n    imageSettings?: ImageSettings;\n  } = {}) {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      throw unsupportedBrowserError;\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      throw new CustomError({\n        name: \"LibraryNotConfiguredError\",\n        message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n      });\n    }\n\n    this.isReadyToWork = false;\n    this.workerScanQueueLength = 0;\n\n    this.engineSDKWorker = new Worker(URL.createObjectURL(engineSDKWorker));\n    this.engineSDKWorker.onmessage = this.engineWokerOnMessage.bind(this);\n    this.engineSDKWorker.postMessage({\n      type: \"load-library\",\n      deviceId: deviceId,\n      libraryLocation: scanditEngineLocation\n    });\n\n    this.eventEmitter = new EventEmitter();\n    this.workerParseRequestId = 0;\n    this.workerScanRequestId = 0;\n\n    this.applyLicenseKey(userLicenseKey);\n    this.applyScanSettings(scanSettings);\n    if (imageSettings != null) {\n      this.applyImageSettings(imageSettings);\n    }\n  }\n\n  /**\n   * Stop the internal <tt>WebWorker</tt> and destroy the scanner itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the scanner anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    if (this.engineSDKWorker != null) {\n      this.engineSDKWorker.terminate();\n    }\n    this.eventEmitter.removeAllListeners();\n  }\n\n  /**\n   * Applies a new set of scan settings to the scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): Scanner {\n    this.scanSettings = scanSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"settings\",\n      settings: this.scanSettings.toJSONString()\n    });\n\n    return this;\n  }\n\n  /**\n   * Applies a new set of image settings to the scanner (replacing old settings).\n   *\n   * @param imageSettings The image configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyImageSettings(imageSettings: ImageSettings): Scanner {\n    this.imageSettings = imageSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"image-settings\",\n      imageSettings: this.imageSettings\n    });\n\n    return this;\n  }\n\n  /**\n   * Process a given image using the previously set scanner and image settings,\n   * recognizing codes and retrieving the result as a list of barcodes (if any).\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * Depending on the current image settings, given <i>imageData</i> and scanning execution, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>NoImageSettings</tt>\n   * - <tt>ImageSettingsDataMismatch</tt>\n   * - <tt>ScanditEngineError</tt>\n   *\n   * @param imageData The image data given as a byte array, complying with the previously set image settings.\n   * @returns A promise resolving to the [[ScanResult]] object.\n   */\n  public processImage(imageData: Uint8ClampedArray): Promise<ScanResult> {\n    if (this.imageSettings == null) {\n      return Promise.reject(\n        new CustomError({ name: \"NoImageSettings\", message: \"No image settings set up in the scanner\" })\n      );\n    }\n\n    let channels: number;\n    switch (this.imageSettings.format.valueOf()) {\n      case ImageSettings.Format.GRAY_8U:\n        channels = 1;\n        break;\n      case ImageSettings.Format.RGB_8U:\n        channels = 3;\n        break;\n      case ImageSettings.Format.RGBA_8U:\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    if (this.imageSettings.width * this.imageSettings.height * channels !== imageData.length) {\n      return Promise.reject(\n        new CustomError({\n          name: \"ImageSettingsDataMismatch\",\n          message: \"The provided image data doesn't match the previously set image settings\"\n        })\n      );\n    }\n\n    this.workerScanRequestId++;\n    this.workerScanQueueLength++;\n\n    return new Promise<ScanResult>((resolve, reject) => {\n      const workResultEvent: string = `work-result-${this.workerScanRequestId}`;\n      const workErrorEvent: string = `work-error-${this.workerScanRequestId}`;\n      this.eventEmitter.once(workResultEvent, result => {\n        this.eventEmitter.removeAllListeners(workErrorEvent);\n        resolve({ barcodes: result.map(Barcode.createFromWASMResult) });\n      });\n      this.eventEmitter.once(workErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(workResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage(\n        {\n          type: \"work\",\n          requestId: this.workerScanRequestId,\n          data: imageData.buffer\n        },\n        [imageData.buffer]\n      );\n    });\n  }\n\n  /**\n   * @returns Whether the scanner is currently busy processing an image.\n   */\n  public isBusyProcessing(): boolean {\n    return this.workerScanQueueLength !== 0;\n  }\n\n  /**\n   * @returns Whether the scanner has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the scanner can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[Scanner]] object.\n   */\n  public onReady(listener: () => void): Scanner {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return new Parser(this, dataFormat);\n  }\n\n  /**\n   * @hidden\n   *\n   * Process a given string using the Scandit Parser library,\n   * parsing the data in the given format and retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataFormat The format of the given data.\n   * @param dataString The string containing the data to be parsed.\n   * @param options Options for the specific data format parser.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataFormat: Parser.DataFormat, dataString: string, options?: any): Promise<ParserResult> {\n    this.workerParseRequestId++;\n\n    return new Promise<ParserResult>((resolve, reject) => {\n      const parseStringResultEvent: string = `parse-string-result-${this.workerParseRequestId}`;\n      const parseStringErrorEvent: string = `parse-string-error-${this.workerParseRequestId}`;\n      this.eventEmitter.once(parseStringResultEvent, result => {\n        this.eventEmitter.removeAllListeners(parseStringErrorEvent);\n        const parserResult: ParserResult = {\n          jsonString: result,\n          fields: [],\n          fieldsByName: {}\n        };\n        (<ParserField[]>JSON.parse(result)).forEach(parserField => {\n          parserResult.fields.push(parserField);\n          parserResult.fieldsByName[parserField.name] = parserField;\n        });\n        resolve(parserResult);\n      });\n      this.eventEmitter.once(parseStringErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(parseStringResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage({\n        type: \"parse-string\",\n        requestId: this.workerParseRequestId,\n        dataFormat: dataFormat,\n        dataString: dataString,\n        options: options == null ? \"{}\" : JSON.stringify(options)\n      });\n    });\n  }\n\n  private applyLicenseKey(licenseKey: string): Scanner {\n    this.engineSDKWorker.postMessage({\n      type: \"license-key\",\n      licenseKey: licenseKey\n    });\n\n    return this;\n  }\n\n  private engineWokerOnMessage(ev: MessageEvent): void {\n    const messageType: string | undefined = ev.data[0];\n    const messageData: any | undefined = ev.data[1];\n\n    if (messageType === \"status\") {\n      if (messageData === \"ready\") {\n        this.isReadyToWork = true;\n        this.eventEmitter.emit(\"ready\");\n      }\n    } else if (messageType === \"work-result\" && messageData != null) {\n      this.eventEmitter.emit(`work-result-${messageData.requestId}`, messageData.result);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"work-error\" && messageData != null) {\n      this.eventEmitter.emit(`work-error-${messageData.requestId}`, messageData.error);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"parse-string-result\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-result-${messageData.requestId}`, messageData.result);\n    } else if (messageType === \"parse-string-error\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-error-${messageData.requestId}`, messageData.error);\n    }\n  }\n}\n","/*! howler.js v2.0.9 | (c) 2013-2018, James Simpson of GoldFire Studios | MIT License | howlerjs.com */\n!function(){\"use strict\";var e=function(){this.init()};e.prototype={init:function(){var e=this||n;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent=\"canplaythrough\",e._navigator=\"undefined\"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.volume=u._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.muted=!!e||u._muted)}return t},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,\"\")]},_setup:function(){var e=this||n;if(e.state=e.ctx?e.ctx.state||\"running\":\"running\",e._autoSuspend(),!e.usingWebAudio)if(\"undefined\"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent=\"canplay\")}catch(n){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t=\"undefined\"!=typeof Audio?new Audio:null}catch(n){return e}if(!t||\"function\"!=typeof t.canPlayType)return e;var o=t.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),r=e._navigator&&e._navigator.userAgent.match(/OPR\\/([0-6].)/g),a=r&&parseInt(r[0].split(\"/\")[1],10)<33;return e._codecs={mp3:!(a||!o&&!t.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!t.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,\"\"),aac:!!t.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!t.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(t.canPlayType(\"audio/x-m4a;\")||t.canPlayType(\"audio/m4a;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(t.canPlayType(\"audio/x-mp4;\")||t.canPlayType(\"audio/mp4;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),webm:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),dolby:!!t.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(t.canPlayType(\"audio/x-flac;\")||t.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},e},_enableMobileAudio:function(){var e=this||n,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),o=!!(\"ontouchend\"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||o)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(){n._autoResume();var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),void 0===t.start?t.noteOn(0):t.start(0),\"function\"==typeof e.ctx.resume&&e.ctx.resume(),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener(\"touchstart\",r,!0),document.removeEventListener(\"touchend\",r,!0)}};return document.addEventListener(\"touchstart\",r,!0),document.addEventListener(\"touchend\",r,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var o=0;o<e._howls[t]._sounds.length;o++)if(!e._howls[t]._sounds[o]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state=\"suspending\",e.ctx.suspend().then(function(){e.state=\"suspended\",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return\"running\"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):\"suspended\"===e.state?(e.ctx.resume().then(function(){e.state=\"running\";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit(\"resume\")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):\"suspending\"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new e,t=function(e){var n=this;if(!e.src||0===e.src.length)return void console.error(\"An array of source files must be passed with any new Howl.\");n.init(e)};t.prototype={init:function(e){var t=this;return n.ctx||_(),t._autoplay=e.autoplay||!1,t._format=\"string\"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=\"boolean\"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=\"string\"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state=\"unloaded\",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,void 0!==n.ctx&&n.ctx&&n.mobileAutoEnable&&n._enableMobileAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:\"play\",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)return void e._emit(\"loaderror\",null,\"No audio support.\");\"string\"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,i;if(e._format&&e._format[r])u=e._format[r];else{if(\"string\"!=typeof(i=e._src[r])){e._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}u=/^data:audio\\/([^;,]+);/i.exec(i),u||(u=/\\.([^.]+)$/.exec(i.split(\"?\",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),u&&n.codecs(u)){t=e._src[r];break}}return t?(e._src=t,e._state=\"loading\",\"https:\"===window.location.protocol&&\"http:\"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&a(e),e):void e._emit(\"loaderror\",null,\"No codec support for selected audio sources.\")},play:function(e,t){var o=this,r=null;if(\"number\"==typeof e)r=e,e=null;else{if(\"string\"==typeof e&&\"loaded\"===o._state&&!o._sprite[e])return null;if(void 0===e){e=\"__default\";for(var a=0,u=0;u<o._sounds.length;u++)o._sounds[u]._paused&&!o._sounds[u]._ended&&(a++,r=o._sounds[u]._id);1===a?e=null:r=null}}var i=r?o._soundById(r):o._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite||\"__default\"),\"loaded\"!==o._state){i._sprite=e,i._ended=!1;var d=i._id;return o._queue.push({event:\"play\",action:function(){o.play(d)}}),d}if(r&&!i._paused)return t||o._loadQueue(\"play\"),i._id;o._webAudio&&n._autoResume();var _=Math.max(0,i._seek>0?i._seek:o._sprite[e][0]/1e3),s=Math.max(0,(o._sprite[e][0]+o._sprite[e][1])/1e3-_),l=1e3*s/Math.abs(i._rate);i._paused=!1,i._ended=!1,i._sprite=e,i._seek=_,i._start=o._sprite[e][0]/1e3,i._stop=(o._sprite[e][0]+o._sprite[e][1])/1e3,i._loop=!(!i._loop&&!o._sprite[e][2]);var c=i._node;if(o._webAudio){var f=function(){o._refreshBuffer(i);var e=i._muted||o._muted?0:i._volume;c.gain.setValueAtTime(e,n.ctx.currentTime),i._playStart=n.ctx.currentTime,void 0===c.bufferSource.start?i._loop?c.bufferSource.noteGrainOn(0,_,86400):c.bufferSource.noteGrainOn(0,_,s):i._loop?c.bufferSource.start(0,_,86400):c.bufferSource.start(0,_,s),l!==1/0&&(o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l)),t||setTimeout(function(){o._emit(\"play\",i._id)},0)};\"running\"===n.state?f():(o.once(\"resume\",f),o._clearTimer(i._id))}else{var p=function(){c.currentTime=_,c.muted=i._muted||o._muted||n._muted||c.muted,c.volume=i._volume*n.volume(),c.playbackRate=i._rate;try{var r=c.play();if(\"undefined\"!=typeof Promise&&r instanceof Promise){o._playLock=!0;var a=function(){o._playLock=!1,t||o._emit(\"play\",i._id)};r.then(a,a)}else t||o._emit(\"play\",i._id);if(c.paused)return void o._emit(\"playerror\",i._id,\"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.\");\"__default\"!==e?o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l):(o._endTimers[i._id]=function(){o._ended(i),c.removeEventListener(\"ended\",o._endTimers[i._id],!1)},c.addEventListener(\"ended\",o._endTimers[i._id],!1))}catch(e){o._emit(\"playerror\",i._id,e)}},m=window&&window.ejecta||!c.readyState&&n._navigator.isCocoonJS;if(c.readyState>=3||m)p();else{var v=function(){p(),c.removeEventListener(n._canPlayEvent,v,!1)};c.addEventListener(n._canPlayEvent,v,!1),o._clearTimer(i._id)}}return i._id},pause:function(e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"pause\",action:function(){n.pause(e)}}),n;for(var t=n._getSoundIds(e),o=0;o<t.length;o++){n._clearTimer(t[o]);var r=n._soundById(t[o]);if(r&&!r._paused&&(r._seek=n.seek(t[o]),r._rateSeek=0,r._paused=!0,n._stopFade(t[o]),r._node))if(n._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||n._emit(\"pause\",r?r._id:null)}return n},stop:function(e,n){var t=this;if(\"loaded\"!==t._state)return t._queue.push({event:\"stop\",action:function(){t.stop(e)}}),t;for(var o=t._getSoundIds(e),r=0;r<o.length;r++){t._clearTimer(o[r]);var a=t._soundById(o[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,t._stopFade(o[r]),a._node&&(t._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause())),n||t._emit(\"stop\",a._id))}return t},mute:function(e,t){var o=this;if(\"loaded\"!==o._state)return o._queue.push({event:\"mute\",action:function(){o.mute(e,t)}}),o;if(void 0===t){if(\"boolean\"!=typeof e)return o._muted;o._muted=e}for(var r=o._getSoundIds(t),a=0;a<r.length;a++){var u=o._soundById(r[a]);u&&(u._muted=e,u._interval&&o._stopFade(u._id),o._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,n.ctx.currentTime):u._node&&(u._node.muted=!!n._muted||e),o._emit(\"mute\",u._id))}return o},volume:function(){var e,t,o=this,r=arguments;if(0===r.length)return o._volume;if(1===r.length||2===r.length&&void 0===r[1]){o._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=t?o._soundById(t):o._sounds[0],a?a._volume:0;if(\"loaded\"!==o._state)return o._queue.push({event:\"volume\",action:function(){o.volume.apply(o,r)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)(a=o._soundById(t[u]))&&(a._volume=e,r[2]||o._stopFade(t[u]),o._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,n.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*n.volume()),o._emit(\"volume\",a._id));return o},fade:function(e,t,o,r){var a=this;if(\"loaded\"!==a._state)return a._queue.push({event:\"fade\",action:function(){a.fade(e,t,o,r)}}),a;a.volume(e,r);for(var u=a._getSoundIds(r),i=0;i<u.length;i++){var d=a._soundById(u[i]);if(d){if(r||a._stopFade(u[i]),a._webAudio&&!d._muted){var _=n.ctx.currentTime,s=_+o/1e3;d._volume=e,d._node.gain.setValueAtTime(e,_),d._node.gain.linearRampToValueAtTime(t,s)}a._startFadeInterval(d,e,t,o,u[i],void 0===r)}}return a},_startFadeInterval:function(e,n,t,o,r,a){var u=this,i=n,d=t-n,_=Math.abs(d/.01),s=Math.max(4,_>0?o/_:o),l=Date.now();e._fadeTo=t,e._interval=setInterval(function(){var r=(Date.now()-l)/o;l=Date.now(),i+=d*r,i=Math.max(0,i),i=Math.min(1,i),i=Math.round(100*i)/100,u._webAudio?e._volume=i:u.volume(i,e._id,!0),a&&(u._volume=i),(t<n&&i<=t||t>n&&i>=t)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,u.volume(t,e._id),u._emit(\"fade\",e._id))},s)},_stopFade:function(e){var t=this,o=t._soundById(e);return o&&o._interval&&(t._webAudio&&o._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(o._interval),o._interval=null,t.volume(o._fadeTo,e),o._fadeTo=null,t._emit(\"fade\",e)),t},loop:function(){var e,n,t,o=this,r=arguments;if(0===r.length)return o._loop;if(1===r.length){if(\"boolean\"!=typeof r[0])return!!(t=o._soundById(parseInt(r[0],10)))&&t._loop;e=r[0],o._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var a=o._getSoundIds(n),u=0;u<a.length;u++)(t=o._soundById(a[u]))&&(t._loop=e,o._webAudio&&t._node&&t._node.bufferSource&&(t._node.bufferSource.loop=e,e&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop)));return o},rate:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var i;if(\"number\"!=typeof e)return i=o._soundById(t),i?i._rate:o._rate;if(\"loaded\"!==o._state)return o._queue.push({event:\"rate\",action:function(){o.rate.apply(o,r)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var d=0;d<t.length;d++)if(i=o._soundById(t[d])){i._rateSeek=o.seek(t[d]),i._playStart=o._webAudio?n.ctx.currentTime:i._playStart,i._rate=e,o._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):i._node&&(i._node.playbackRate=e);var _=o.seek(t[d]),s=(o._sprite[i._sprite][0]+o._sprite[i._sprite][1])/1e3-_,l=1e3*s/Math.abs(i._rate);!o._endTimers[t[d]]&&i._paused||(o._clearTimer(t[d]),o._endTimers[t[d]]=setTimeout(o._ended.bind(o,i),l)),o._emit(\"rate\",i._id)}return o},seek:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):o._sounds.length&&(t=o._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return o;if(\"loaded\"!==o._state)return o._queue.push({event:\"seek\",action:function(){o.seek.apply(o,r)}}),o;var i=o._soundById(t);if(i){if(!(\"number\"==typeof e&&e>=0)){if(o._webAudio){var d=o.playing(t)?n.ctx.currentTime-i._playStart:0,_=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(_+d*Math.abs(i._rate))}return i._node.currentTime}var s=o.playing(t);if(s&&o.pause(t,!0),i._seek=e,i._ended=!1,o._clearTimer(t),s&&o.play(t,!0),!o._webAudio&&i._node&&(i._node.currentTime=e),s&&!o._webAudio){var l=function(){o._playLock?setTimeout(l,0):o._emit(\"seek\",t)};setTimeout(l,0)}else o._emit(\"seek\",t)}return o},playing:function(e){var n=this;if(\"number\"==typeof e){var t=n._soundById(e);return!!t&&!t._paused}for(var o=0;o<n._sounds.length;o++)if(!n._sounds[o]._paused)return!0;return!1},duration:function(e){var n=this,t=n._duration,o=n._soundById(e);return o&&(t=n._sprite[o._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,o=0;o<t.length;o++){if(t[o]._paused||e.stop(t[o]._id),!e._webAudio){/MSIE |Trident\\//.test(n._navigator&&n._navigator.userAgent)||(t[o]._node.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"),t[o]._node.removeEventListener(\"error\",t[o]._errorFn,!1),t[o]._node.removeEventListener(n._canPlayEvent,t[o]._loadFn,!1)}delete t[o]._node,e._clearTimer(t[o]._id);var a=n._howls.indexOf(e);a>=0&&n._howls.splice(a,1)}var u=!0;for(o=0;o<n._howls.length;o++)if(n._howls[o]._src===e._src){u=!1;break}return r&&u&&delete r[e._src],n.noAudio=!1,e._state=\"unloaded\",e._sounds=[],e=null,null},on:function(e,n,t,o){var r=this,a=r[\"_on\"+e];return\"function\"==typeof n&&a.push(o?{id:t,fn:n,once:o}:{id:t,fn:n}),r},off:function(e,n,t){var o=this,r=o[\"_on\"+e],a=0;if(\"number\"==typeof n&&(t=n,n=null),n||t)for(a=0;a<r.length;a++){var u=t===r[a].id;if(n===r[a].fn&&u||!n&&u){r.splice(a,1);break}}else if(e)o[\"_on\"+e]=[];else{var i=Object.keys(o);for(a=0;a<i.length;a++)0===i[a].indexOf(\"_on\")&&Array.isArray(o[i[a]])&&(o[i[a]]=[])}return o},once:function(e,n,t){var o=this;return o.on(e,n,t,1),o},_emit:function(e,n,t){for(var o=this,r=o[\"_on\"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==n&&\"load\"!==e||(setTimeout(function(e){e.call(this,n,t)}.bind(o,r[a].fn),0),r[a].once&&o.off(e,r[a].fn,r[a].id));return o._loadQueue(e),o},_loadQueue:function(e){var n=this;if(n._queue.length>0){var t=n._queue[0];t.event===e&&(n._queue.shift(),n._loadQueue()),e||t.action()}return n},_ended:function(e){var t=this,o=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[o][2]);if(t._emit(\"end\",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit(\"play\",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||r||t.stop(e._id),t},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(\"function\"!=typeof n._endTimers[e])clearTimeout(n._endTimers[e]);else{var t=n._soundById(e);t&&t._node&&t._node.removeEventListener(\"ended\",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,t=0;t<n._sounds.length;t++)if(e===n._sounds[t]._id)return n._sounds[t];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new o(e)},_drain:function(){var e=this,n=e._pool,t=0,o=0;if(!(e._sounds.length<n)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&t++;for(o=e._sounds.length-1;o>=0;o--){if(t<=n)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),t--)}}},_getSoundIds:function(e){var n=this;if(void 0===e){for(var t=[],o=0;o<n._sounds.length;o++)t.push(n._sounds[o]._id);return t}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=r[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),t},_cleanBuffer:function(e){var t=this;if(n._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,o=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(o,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener(\"error\",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload=\"auto\",e._node.volume=o*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit(\"loaderror\",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener(\"error\",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),\"loaded\"!==t._state&&(t._state=\"loaded\",t._emit(\"load\"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)}};var r={},a=function(e){var n=e._src;if(r[n])return e._duration=r[n].duration,void d(e);if(/^data:[^;]+;base64,/.test(n)){for(var t=atob(n.split(\",\")[1]),o=new Uint8Array(t.length),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);i(o.buffer,e)}else{var _=new XMLHttpRequest;_.open(\"GET\",n,!0),_.withCredentials=e._xhrWithCredentials,_.responseType=\"arraybuffer\",_.onload=function(){var n=(_.status+\"\")[0];if(\"0\"!==n&&\"2\"!==n&&\"3\"!==n)return void e._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+_.status+\".\");i(_.response,e)},_.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[n],e.load())},u(_)}},u=function(e){try{e.send()}catch(n){e.onerror()}},i=function(e,t){n.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(r[t._src]=e,d(t,e))},function(){t._emit(\"loaderror\",null,\"Decoding audio data failed.\")})},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue())},_=function(){try{\"undefined\"!=typeof AudioContext?n.ctx=new AudioContext:\"undefined\"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),o=t?parseInt(t[1],10):null;if(e&&o&&o<9){var r=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());(n._navigator&&n._navigator.standalone&&!r||n._navigator&&!n._navigator.standalone&&!r)&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:1,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()};\"function\"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:t}}),\"undefined\"!=typeof exports&&(exports.Howler=n,exports.Howl=t),\"undefined\"!=typeof window?(window.HowlerGlobal=e,window.Howler=n,window.Howl=t,window.Sound=o):\"undefined\"!=typeof global&&(global.HowlerGlobal=e,global.Howler=n,global.Howl=t,global.Sound=o)}();","// TODO: gracefully load assets from files inside build process\n\n/**\n * @hidden\n */\nexport const beepSound: string =\n  \"data:audio/mp3;base64,//uwAAAAA8ROTJVigAB4icmSrFAAE/IjVfj6gAJ+RGq/H1AAADEN555555\\\n09PSUkYjEMQ5DCaBiMBmSoGPBh6QGGJAZo8BoDwGYJADEBmQbAAbMBcAJ0IIRQuFwuF8vm6aaaaaaCCH\\\n/9RcIubDkCgBQAzBOLL5cLhog3p////6BgTBFC4yZfTah/////WmYFwuBgTh///5cEDgnB8AMQ3nnnnn\\\nnT09JSRiMQxDkMJoGIwGZKgY8GHpAYYkBmjwGgPAZgkAMQGZBsABswFwAnQghFC4XC4Xy+bppppppoII\\\nf/1Fwi5sOQKAFADME4svlwuGiDen////oGBMEULjJl9NqH////9aZgXC4GBOH///lwQOCcH7usq4IwAB\\\nEoZUkABBACSAH6LQxWQ1ekTmN4ZafMA1wANy7UyDUPgZzK4WdA1sdhHQGm0eAcG0Uwxsang94vpi3jME\\\ngeLBTM1nUEFdDatet8mwsLJddIZ0CIGTVYoADBkuf9NrJ1f3UsUMJtLy/dMOCTfrUURBBm/6mKA7P6lk\\\ncLj/z5mI2/+plE5/9TFgqrf/qYpFf/9v///9Z7////Weu6yrgjAAEShlSQAEEAJIAfotDFZDV6ROY3hl\\\np8wDXAA3LtTINQ+BnMrhZ0DWx2EdAabR4BwbRTDGxqeD3i+mLeMwSB4sFMzWdQQV0Nq163ybCwsl10hn\\\nQIgZNVigAMGS5/02snV/dSxQwm0vL90w4JN+tRREEGb/qYoDs/qWRwuP/PmYjb/6mUTn/1MWCqt/+pik\\\nV//2////1nv///9Z57qrtSAAaAEOPo6q0VkVoBSMfBmZVHFMomra/sFv//+7IADwAEcXjR92KgAo4vGj\\\n7sVABRJeNFzHKLAiS8aLmOUWARYQFAEDoGXFeBv7iAZHHAGKwQLnD0RkkCKmpzOKUjUjUiy0nUlpOh2U\\\nUjSoc4VsAaFAMkgspOZb1de+/222v3lN9ikN8FBKOaa0lI/b/+32+TGsxIaGIRJknav9///1fSInqSWH\\\nRKS6v///6/nCEJvdVdqQADQAhx9HVWisitAKRj4MzKo4plE1bX9gt/iLCAoAgdAy4rwN/cQDI44AxWCB\\\nc4eiMkgRU1OZxSkakakWWk6ktJ0OyikaVDnCtgDQoBkkFlJzLerr33+221+8pvsUhvgoJRzTWkpH7f/2\\\n+3yY1mJDQxCJMk7V/v//+r6RE9SSw6JSXV////X84QhNqq9yGAAtDIPgN54cGQ0s4MLUdIZgz1qumUxd\\\ndqEpWGZfQdAYAOR0btmDgYpm3SG6ec7wnc1aVs2dj+1bbTnyweolsigCR4Bd4UcqIoKbf1mlbVoekvRo\\\n/NT+yIW3Ci11PUfr6dTaC7b2fe/yLtUspAgFDuR53///+pvOkM14YR+pvt/+v6/koSLVV7kMABaGQfAb\\\nzw4MhpZwYWo6QzBnrVdMpi67UJSsMy+g6AwAcjo3bMHAxTNukN0853hO5q0rZs7H9q22nPlg9RLZFAEj\\\nwC7wo5URQU2/rNK2rQ9JejR+an9kQtuFFrqeo/X06m0F23s+9/kXapZSBAKHcjzv///9TedIZrwwj9Tf\\\nb/9f1/JQkVi7zplQAFIAgwMk9GmLaGUorLwS8iIOIgIHDACBpGPGPIQTeb9Ig1+zoNGAMN6Ijtv5KI3h\\\n0rZfrLVE0dZ6n/+7IAHwAEk3jRez2kEJJvGi9ntIIT3eU/7PqwQnu8p/2fVgg7IPUzJfLB65iPwTcgPI\\\nEeWDqpvvvo6N2qSs9T1fIxKtlg1Fg5Kkp6z7nWWdSqqUulspS3s9vkhqoBb8Kg7POv6///9vUQVqqgx7\\\nXmf7f//rbyUN1Rd50yoACkAQYGSejTFtDKUVl4JeREHEQEDhgBA0jHjHkIJvN+kQa/Z0GjAGG9ER238l\\\nEbw6Vsv1lqiaOs9SdkHqZkvlg9cxH4JuQHkCPLB1U3330dG7VJWep6vkYlWywaiwclSU9Z9zrLOpVVKX\\\nS2Upb2e3yQ1UAt+FQdnnX9f//+3qIK1VQY9rzP9v//1t5KG6jmYd0IAA0gIAD4Llq2gAnFo8YQd9sJd6\\\n7dV09LYmltad5GkSGPh80IAtg4NUiAWeV15W6FXRpnnczdM46C/SvZzut0SUNUjYiIywAAvA1QCg40iS\\\nbnTJdtr85/P3fO63YhxpWgiDUWgsOUjjzp+tq2+r+++jtYd2dURoFQ+LhSOZ0/Xrb/9T9Sz21xU3rrCI\\\nH1Zi9ev9/1atZ7aRwqb1nMw7oQABpAQAHwXLVtABOLR4wg77YS7126rp6WxNLa07yNIkMfD5oQBbBwap\\\nEAs8rryt0KujTPO5m6Zx0F+lezndbokoapGxERlgABeBqgFBxpEk3OmS7bX5z+fu+d1uxDjStBEGotBY\\\ncpHHnT9bVt9X999Haw7s6ojQKh8XCkczp+vW3/6n6lntripvXWEQPqzF69f7/q1az20jhU3rV7maZEAA\\\nWQDDArs+W/cFQBSysHAKdYWnzUwc2mlLOlivqupASYLMR//In/+7IAFQAEsHlRe4mkoJYPKi9xNJQSUe\\\nVF7hqSwko8qL3DUliIwQla+ytB9/jCGTwOk7YLCgqBZuy6Dc6/c4eQc0L4CDQAc0T4T5smsq7e5vm9np\\\n2bqoaspnmWgiEzoOAqU861fWtS6kamrTW703pasnfL4YpEzZ2sf+32//WnrnSY1XDcPXnP/r/q/baZjf\\\nd7maZEAAWQDDArs+W/cFQBSysHAKdYWnzUwc2mlLOlivqupASYLMR//ImIwQla+ytB9/jCGTwOk7YLCg\\\nqBZuy6Dc6/c4eQc0L4CDQAc0T4T5smsq7e5vm9np2bqoaspnmWgiEzoOAqU861fWtS6kamrTW703pasn\\\nfL4YpEzZ2sf+32//WnrnSY1XDcPXnP/r/q/baZjfdpycyVAATgBDA1ALqbMHAeBrYsAWWvHH2AywaA7B\\\nHvZmwaGmklUBEh5MPfAYCKjjZQRAGyw/4fwM8hGdB9J4CJscei+u5YLTImQ+QavAASY+iycWpPbNd999\\\nHba+rMXrrCZ0W1StZar1utXOa91mj1O3XkCZ1SkCRAiy16n9Tfq//P+onVdYcXq02/9f9bf+P47nacnM\\\nlQAE4AQwNQC6mzBwHga2LAFlrxx9gMsGgOwR72ZsGhppJVARIeTD3wGAio42UEQBssP+H8DPIRnQfSeA\\\nibHHovruWC0yJkPkGrwAEmPosnFqT2zXfffR22vqzF66wmdFtUrWWq9brVzmvdZo9Tt15AmdUpAkQIst\\\nep/U36v/z/qJ1XWHF6tNv/X/W3/j+O543/+6UACbAYaztA4tsHCcKBx5S8EJ48ScsKkEaV3wtIwd45AC\\\nAQBij/+7IAFAAEt3hUfWKgApbvCo+sVABSgV9f+YoAAlAr6/8xQAAgAbKYoGDwWBIDlhrJuWqzTL9SbK\\\nMay9NzZaZstX1Hqz6AYYCxHFLl9Pf+tVapulmK7UWt9B61l8Neg3tQSZCrztaV88yFfW7oCbU6RmLPAO\\\nCwEggQQ0TqfapGrV//Uf9RC6EzDAiSHKL/////nREb//dKABNgMNZ2gcW2DhOFA48peCE8eJOWFSCNK7\\\n4WkYO8cgBAIAxQQANlMUDB4LAkByw1k3LVZpl+pNlGNZem5stM2Wr6j1Z9AMMBYjily+nv/WqtU3SzFd\\\nqLW+g9ay+GvQb2oJMhV52tK+eZCvrd0BNqdIzFngHBYCQQIIaJ1PtUjVq//qP+ohdCZhgRJDlF/////z\\\noi5C6lVAABQCoDYQD4ZCwVB9kTFKkiv9NQcExMLk3ipgtxrzPf8LZgdNYHsgYIPgbIgAEXEAwCgpAie4\\\nXVi5BaBlBUxSQfMO7yfQPFcsGReNjIgX0QvmASaIgQc3SJkgpqr+myNNNNJSSX/n1Hw/4CgwqkXN3qSM\\\nTVX//U2skkQuTq9JJEy/+ybvT6p1IjCCpfiL/+SuQupVQAAUAqA2EA+GQsFQfZExSpIr/TUHBMTC5N4q\\\nYLca8z3/C2YHTWB7IGCD4GyIABFxAMAoKQInuF1YuQWgZQVMUkHzDu8n0DxXLBkXjYyIF9EL5gEmiIEH\\\nN0iZIKaq/psjTTTSUkl/59R8P+AoMKpFzd6kjE1V//1NrJJELk6vSSRMv/sm70+qdSIwgqX4i//klMQU\\\n1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+7IAAA/wAABpBwAACAAADSDgAAEAAAGkAAAAIA\\\nAANIAAAARMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=\";\n\n/**\n * @hidden\n */\nexport const scanditLogoImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAAAhCAMAAAB9TZmqAAABgFBMVEVHcE\\\nyCgoL+/v6Kior///+FhYXW1tbn5+eAgIDp6en+/v6BgYH///////////+BgYH///////////+wsLCCgo\\\nL4+PiBgYH///+srKyAgID////s7OyCgoKBgYGDg4P///+BgYH6+vqBgYH////MzMz39/f///+BgYGbm5\\\nuDg4OMjIyBgYG+vr6QkJD///////+BgYGDg4P+/v7Hx8eOjo6BgYH09PT7+/v///////+MjIz9/f3///\\\n/////Y2Nj6+vrPz8+BgYH9/f3///+3t7f///+Ghob///+AgICDg4P///+IiIj///////+CgoL6+vqmpq\\\nb////////t7e3////////////b29vj4+PNzc3y8vLl5eXv7+/U1NTDw8O8vLyRkZH////x8fGJiYmZmZ\\\nnDw8Pf39/S0tLT09PCwsKfn5/4+PjV1dWlpaWwsLCjo6OsrKzj4+OZmZnCwsLq6uqurq7///+AgICfn5\\\n+Tk5OFhYXCwsLJycmYmJjU1NS/v79wPZvPAAAAdnRSTlMAcvoPxiTEAsby9L8p/eusNEoJBlEZ2Pb67n\\\nz25fVGOv1Eh+RW7oyC/ToXzkALzmqTe8BJHmf9Uu+n/B2Dnt7/+6MvEP2ZKrmzXHIx2dScYv6wkf3o3S\\\nL+/uDhqLbnuNrVV4u4ie7LNGlhweeUnrTsZOjkis/PjpWtfQAACfhJREFUaN7tmXlbGksWxtlMEwRUVj\\\nUgrSQqEAQccXdQQRUVVYxqoolqjGa9WW7uW25Xv/pUdxe9q2TM88zMM55/aE5V1/Lr03XeqrZYHuzBHu\\\nzB/vPmX+hzgdmcyh/sXrIx95LKPQ64/JoG5oaHHVztzya8Ssl0rV1PfO6A03YbR4xdzUBnblbgXphZm2\\\nhv+W0z9bW0+H7tjmL9d2w6VDPon7XX/CsuxR2fTcr1hervk+oWBM9KDa0bLqVys5pOn1vTrxfvG6SrCT\\\n3HpwNiS3O1Gzt/E8dN5RHVadNAsL6aXB9ch3/9zWyUdDF/Bqh8/ngm2Shpkp+QB49xEdJy3MbgW4UjaV\\\nQ42nola73ywDWt5XhKpIcWbP4h9F3CIOuOEOodiwNz4wvdDsDW/N/PMYPhb1GiGOMY82CiSeWWObYgXs\\\n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\";\n\n/**\n * @hidden\n */\nexport const laserActiveImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAwFBMVEVHcE\\\nxUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyN\\\nFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFVydJUyNFUyNFUyNFUyNH8/v5UyNFUyNFUyNFVydJUyNFUyN\\\nFUyNFVydJUyNFVydL3/f1YytNUyNFUyNFUyNHx+/ve9fbp+PnR8fNUyNGF2N9009q15+uW3ePD7O+l4+\\\ndv0dlv0dj///9Ujp4pAAAAP3RSTlMAiXJnBFsIARM5oA1+UKsuG5W3JEULBishQj5iAm0QkTQZ/h5MF3\\\nsnWISbSHb8plMFjfjv9Oeyua3Ww9/Nn4y/IgemAAAIrElEQVR42u2da1saOxCAq8jRVuql0qOVIgcvgH\\\nhBrBbUYv//vzpzySSTZBeWqo8fOm+E9Vv3eXxnOptNJh8+vD3rhvFC3lHR73/GmmEsxdKKVY+N3ONFN3\\\nOT8O+S/GMYnmXtid0rCJAy7b3nrPDyQn5dnk3DiFnaoeJ4Ife98ZnqTnTSPHZ38R0ezWPDMF6BeY6lse\\\nK0F+Ej3Vl1MJ1EZ78rmXrmBvxWTLcCO4axU8WUEsk2nIMhJsh6Et75HnQn10l1NB093xB9F9p4UsBBKX\\\nuGsQSlIuXSScSQ/Og8Ch9097aT66I6mo6S74i1c++mn7G/v4+fQrYNYymKPWLBEvEkOtD7LhoPvmN+R9\\\n3R9sR1UR1FR8n7/cqS/oejjI+G8UIyqbb9NQ4NtB6MJ99J99j2deU6q35AnrPDFew99FcY+MN8K6VpGH\\\nMpVecwQL5p/1h+dL6/Bwm+i9k92M6yY2IPrpPqaLqT2omrR7hk9l4ETvEHRuAzD8OogNNFgUpd8DeRhg\\\nYGACkPvqPuO5jc2XZM7SGxK9dRdRSdknNicIy+Ey/xyDMYDRR1dzGMaihrHKCUxweFhALpD8qj76Q71j\\\nLOdknt6y6xB9dZdRCddU4ibpSgdA606q2cWqtWq7VqfDWMUpwk8BVRd99xPHAYkP6oPPkOurPtVMlwan\\\neyU2KHZ1NxHVVvXqDm3uXC0GuR1Nrr+J7bODyr9IGByNUwYtr+wrYEgcClJCZ0FJD6YDz5Drqz7Vi3U2\\\noX2amKgcR+1nWuk+okelmOrmVWB6XxVi9xBHpFNHoNw0gpUkU8WsUfCYoQBLW2uA/Cj0aQ353tBydcyH\\\nAdQ8+na5TYsYg52GPXUXUwnbXW2TnC/atKbO+x47xxnrFiGBXIxEGbkoCQAHD2k/CgO2T3JtkOT6ldl9\\\nq17JtUxOz1xXXM6WC6N5qVVtm6B2ZfRmrnPo9Xxkxn3InYlWEYGudFDOjDpHEAyin7UXoQnnVn27mQod\\\nQusksVw0UMuj6CrM6mU7ZO/6ehIFNZ28uNXjudFUPNJxz8ZRgxw09eDbgEQCEdERwCSn+X+EF48B11B9\\\nuxkqFCZmNjk4t2/3xKFTsl9m9Ndh1N7zUa5eWHZO1Y7qFzW+7/GgZ+AVvXW1v0RR/DKMGZgldAFJKAcP\\\n7vDhP30fkG6I7ZnWynQoZS+9ev/ISKz6euioHEDkWMdx1UJ8Wdz+NOqEZU1vaJW9ntxBZ+5nzhYRgJJE\\\nYBKhQoAjL3wXr0nXRH20+bnNpdHQNPqCQ7VzGS2C9GXnUQncQe+nyNZcjsegZMZ1NgMp0Aj8Av5AF5Qu\\\n6RH8wdcctcBY49v42/m6CC8oN8YXnu2CSyivwi01A5dO8RJZxMp+jl8/Pzee+yXasPJLV3pWj3slMVgx\\\nV78xTyunN93KG8HWoqjKkZfKZb06A6u462P4DtTyT7Pdn+g3S/I9tvyfYrHInpJPvxbzP+79Qc//BBdd\\\nEdPLm9cvmRZCfd78t0d7ZP2fbn3mq7VcfU7uqYWPYjnnekKmYAiV1cZ9W5MnGmo+jadQotSuwPvySxR6\\\n4H1dl2dh1/LLMbLHyku8/sV2z6rU/tJPvTvbhO1cSjtx2E5NzeoNT++SLUMaWy1yPZOZ+L7VtTlP3ndP\\\nqFbJ9M0irmKVQxktddYpfMTrofp5ndMNlF9WNnep7ZXWIH2x+C7uT6Y5zaWfZvy8o+lPIF8/oW6z5F3S\\\nec2UNiDxX7vS7Z7+6KqhjU3TK7kVTsKrOz7XeuaM/KGK5iojpmSmU7uT43s0c1Oz2fNs7P8elUlewzrG\\\nJwkO6+Yp/oil1ndl2ySxnjXD9OUrv9vU12pzqNUMWEZ9TwiPoUinYpYySzu0dUKmNKa3Y9G0MTj5doO0\\\n/G4BzMDAZ+fZrRXEw0FePLmHQu5l5l9rRmvzLZjeLUfhW7ns3GJM+nfj5mqlzHB9Ti2Zh8nr2l5tnjF/\\\n67qL9+PxomJYd6ziZ6bVQwz24Y5XPt2SQ7jvDGiebZr7Np9irz7Okb1IvsDeqKjNIXqJ3s/elQvWOS6R\\\nz1psneoRrlL1D16yN+gxpeoPplBLslb1BXy9+ghrUx3cK1Mb2CtTGN4oWMWv6Ol1/nfnkvRStkeJmMrZ\\\nExooUxTo4E8kjWioXFYdHSsEZj0dqYSqseLwuQNY9h0WMjW0Yz9sTrHnnFY0fu3jCcCR2vc77ocbwyzt\\\nf/hmWPbtVjbf6qR1nP3o3Xs9fdevaa3yeithz5bRpxMMT6Fy1o53vlj61tN+I17JEX2Xr282SDh9/TIb\\\ns5eD37YDRvPXvpTqV6vcI+Jdou5f1XWzr0fwL5ZiW+a9uZY0T7lBpzNioFsfVOJdr9WXGnkt+DulG+B7\\\nVk+3eyZa+m4qCdbEBVwWCbT41Ke1H1/tOgdbtoE6reg3qa7kHd1HtQo+4Ce2l3gfLeAoO4X0YSBfWstU\\\nAr7Bo3jMXtBdiatMGA7i5Qj3pshO4C4rokdtVdwPeNOYv7xnD7o6W6xnzWoTBIWsdwRFjrGGNBw5ikT4\\\nYyelDaN+ZU+sYcUp+k4r4xlTqCHc7radcsagiWBINvCGYdwYxqHcFO855g1BWMWs2VtwRTHcHQ9aOoI9\\\njcXo/S3NEP/3tOHBSuRV4WGNbq0ajW7DFr+Mg9F2Oy5qfS6/Eg9HpUib2ki+8ed/HtL27iK91PS9ugWh\\\ntf4zW6+H7MO/lux518ky6+2vWsZ3VRf/ZqzdnD70l39m1rz268eoN2TML9/Vi90J/9ZE5/9kUnbyx77g\\\nYOfdqGHbxhvPLRGycFZ2+EkzfO+LQZOXnjZi0/Z6boTKVFJyrJLy84UcmOVDJefqhSctDYnDOVotPy3G\\\nGQ1Q7LO8JhZ+UZ731cHoqojsuT0/Ju1uYeDpmfg/pmp6DaMajGWx2EOvcc1OTg32oHXN+89HxrO+DaeN\\\nMjrqsd7M5Huxfy/Y9ZM4wlWVoyZ+mHd2LdMF7Ma5j4P+hE04Z78rHKAAAAAElFTkSuQmCC\";\n\n/**\n * @hidden\n */\nexport const laserPausedImage: string =\n  \"data:image/png;base64,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\";\n\n/**\n * @hidden\n */\nexport const switchCameraImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTI2LjE0IDhjLTEuNjc1IDAtMy4yMy44MzItNC4xNiAyLjIyN2wtMi\\\n4yMTggMy4zMjhhMS4wMDMgMS4wMDMgMCAwIDEtLjgzMi40NDVIMTh2LTJjMC0xLjEwMi0uODk4LTItMi\\\n0yaC02Yy0xLjEwMiAwLTIgLjg5OC0yIDJ2Mkg1Yy0xLjY1MiAwLTMgMS4zNDgtMyAzdjM2YzAgMS42NT\\\nIgMS4zNDggMyAzIDNoNTRjMS42NTIgMCAzLTEuMzQ4IDMtM1YxN2MwLTEuNjUyLTEuMzQ4LTMtMy0zaC\\\n0zdi0xYzAtMS4xMDItLjg5OC0yLTItMmgtMmMtMS4xMDIgMC0yIC44OTgtMiAydjFoLTQuOTM4YS45OT\\\ncuOTk3IDAgMCAxLS44MjgtLjQ0MWwtMi4yNTQtMy4zNTJBNS4wMDEgNS4wMDEgMCAwIDAgMzcuODI4ID\\\nh6bTAgMmgxMS42ODhjMSAwIDEuOTM0LjQ5NiAyLjQ5MiAxLjMyNGwyLjI1NCAzLjM1MkEyLjk5OCAyLj\\\nk5OCAwIDAgMCA0NS4wNjMgMTZINTljLjU1IDAgMSAuNDUgMSAxdjM2YzAgLjU1LS40NSAxLTEgMUg1Yy\\\n0uNTUgMC0xLS40NS0xLTFWMTdjMC0uNTUuNDUtMSAxLTFoMTMuOTNjMS4wMDQgMCAxLjkzNy0uNSAyLj\\\nQ5Ni0xLjMzNmwyLjIxOS0zLjMyOEEyLjk5OCAyLjk5OCAwIDAgMSAyNi4xNCAxMHpNMTAgMTJoNnYyaC\\\n02em00MiAxaDJ2MWgtMnptLTIwIDVjLTUuMjkgMC0xMC4yNDYgMi44MzYtMTIuOTM0IDcuMzk4YS45OT\\\nYuOTk2IDAgMCAwIC4zNTYgMS4zNjguOTk3Ljk5NyAwIDAgMCAxLjM2Ny0uMzU2QTEzLjA2NSAxMy4wNj\\\nUgMCAwIDEgMzIgMjBjNy4xNjggMCAxMyA1LjgzMiAxMyAxMyAwIC4xODgtLjAxNi4zNzUtLjAyMy41Nj\\\nNsLTIuMjctMi4yN2ExIDEgMCAxIDAtMS40MTQgMS40MTRsNCA0Yy4xOTUuMTk1LjQ1LjI5My43MDcuMj\\\nkzYS45OTMuOTkzIDAgMCAwIC43MDctLjI5M2w0LTRhMSAxIDAgMSAwLTEuNDE0LTEuNDE0bC0yLjMyID\\\nIuMzE2Yy4wMTEtLjIwMy4wMjctLjQwNi4wMjctLjYwOSAwLTguMjctNi43My0xNS0xNS0xNXpNMTggMj\\\nlhMSAxIDAgMCAwLS43MDcuMjkzbC00IDRhMSAxIDAgMSAwIDEuNDE0IDEuNDE0bDIuMzEzLTIuMzE2Yy\\\n0uMDA4LjIwMy0uMDIuNDA2LS4wMi42MDkgMCA4LjI3IDYuNzMgMTUgMTUgMTUgNS4zNjcgMCAxMC4zNi\\\n0yLjg5OCAxMy4wMjctNy41NjNhLjk5OS45OTkgMCAxIDAtMS43MzQtLjk5MkExMy4wNDIgMTMuMDQyID\\\nAgMCAxIDMyIDQ2Yy03LjE2OCAwLTEzLTUuODMyLTEzLTEzIDAtLjE4OC4wMTItLjM3OS4wMi0uNTY2bD\\\nIuMjczIDIuMjczYy4xOTUuMTk1LjQ1LjI5My43MDcuMjkzYTEgMSAwIDAgMCAuNzA3LTEuNzA3bC00LT\\\nRBMSAxIDAgMCAwIDE4IDI5em05IDJjLS41NTUgMC0xIC40NDUtMSAxdjJjMCAuNTU1LjQ0NSAxIDEgMS\\\nAuNTU1IDAgMS0uNDQ1IDEtMXYtMmMwLS41NTUtLjQ0NS0xLTEtMXptNSAwYy0uNTU1IDAtMSAuNDQ1LT\\\nEgMXYyYzAgLjU1NS40NDUgMSAxIDEgLjU1NSAwIDEtLjQ0NSAxLTF2LTJjMC0uNTU1LS40NDUtMS0xLT\\\nF6bTUgMGMtLjU1NSAwLTEgLjQ0NS0xIDF2MmMwIC41NTUuNDQ1IDEgMSAxIC41NTUgMCAxLS40NDUgMS\\\n0xdi0yYzAtLjU1NS0uNDQ1LTEtMS0xeiIvPjwvc3ZnPg==\";\n\n/**\n * @hidden\n */\nexport const toggleTorchImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTMwLjkzOCAxYy0uNDQ2LjAyLTEgLjIzLTEuMzEzLjY1NmExLjMwMi\\\nAxLjMwMiAwIDAgMC0uMDYzLjA5NGwtNi43OCAxMi4wNjMtLjA2My4wOTNjLS41NTUuNzg1LS43MjcgMS\\\n43My0uNTk0IDIuNjU2bC0yMC41IDIyLjU2My0uMDMxLjAzMWMtMS4wNyAxLjIxOS0uNjY0IDMuMDEyLj\\\nQ2OCA0LjE1N2guMDMybDQuNTk0IDQuNTkzYy41Ny41NyAxLjI2NS45NSAyIDEuMDYzLjczNC4xMTMgMS\\\n41NDYtLjA1NSAyLjE1Ni0uNTk0aC4wMzFsMjIuNTYzLTIwLjVjLjkzLjEyOSAxLjg3LS4wNDMgMi42NT\\\nYtLjU5NC4wMi0uMDE1LjA0My0uMDE1LjA2Mi0uMDMxbC4wNjMtLjAzMSAxMi4wMzEtNi43ODJjLjAzMS\\\n0uMDE5LjA2My0uMDM5LjA5NC0uMDYyLjQyMi0uMzEzLjYzNi0uODY3LjY1Ni0xLjMxMy4wMi0uNDQ1LS\\\n4wOTgtLjg0LS4yNS0xLjI1LS4zMDUtLjgyLS44MjgtMS42OS0xLjUzMS0yLjY4Ny0xLjQwNy0xLjk5Mi\\\n0zLjUxNi00LjM5LTUuNzUtNi42MjUtMi4yMzUtMi4yMzQtNC42MDItNC4zMTMtNi41OTQtNS43MTktLj\\\nk5Ni0uNzAzLTEuODY3LTEuMjI2LTIuNjg4LTEuNTMxLS40MS0uMTUyLS44MDQtLjI3LTEuMjUtLjI1em\\\n0uMjE4IDIuMDMxYy4wNzguMDEyLjE1My4wMjQuMzQ0LjA5NC41Mi4xOTEgMS4zLjYzMyAyLjIxOSAxLj\\\nI4MSAxLjgzNiAxLjI5NyA0LjE2OCAzLjM1NiA2LjM0MyA1LjUzMiAyLjE3NiAyLjE3NSA0LjIzNSA0Lj\\\nQ3NiA1LjUzMiA2LjMxMi42NDguOTE4IDEuMDkgMS43MyAxLjI4MSAyLjI1LjA3LjE5MS4wODIuMjY2Lj\\\nA5NC4zNDRMMzUuMTI1IDI1LjUzYS45NDkuOTQ5IDAgMCAwLS4xMjUuMDk0Yy0uMzE2LjI0Mi0uODYuMz\\\nI4LTEuNDM4LjIxOWExLjA1NiAxLjA1NiAwIDAgMC0uMTg3LS4wNjMgMy4xMTMgMy4xMTMgMCAwIDEtMS\\\n40MzgtLjgxMmwtNi45MDYtNi45MDdjLS45NzYtLjk4NC0xLjEyOS0yLjQzNy0uNjU2LTMuMDYyYS41Mz\\\nIuNTMyIDAgMCAwIC4wOTQtLjA5NHptLTguMjE4IDE1LjU5NGMuMTk5LjI5Ny40My41ODYuNjg3Ljg0NG\\\nw2LjkwNiA2LjkwNmMuMjYyLjI2Mi41NDMuNDg4Ljg0NC42ODhMOS41MzEgNDYuOTA2Yy0uMDg2LjA3OC\\\n0uMjU0LjEzNy0uNTMxLjA5NC0uMjc3LS4wNDMtLjYyOS0uMjIzLS45MDYtLjVMMy41IDQxLjkwNmMtLj\\\nU1OS0uNTY2LS41NjMtMS4yNjEtLjQwNi0xLjQzN3ptLTIuODc1IDguMzEzYy0uNzcgMC0xLjU0My4yOT\\\nItMi4xMjUuODc1bC0yLjEyNSAyLjEyNWEzLjAyMyAzLjAyMyAwIDAgMCAwIDQuMjUgMy4wMjMgMy4wMj\\\nMgMCAwIDAgNC4yNSAwbDIuMTI1LTIuMTI2YTMuMDIzIDMuMDIzIDAgMCAwIDAtNC4yNSAzLjAwMiAzLj\\\nAwMiAwIDAgMC0yLjEyNS0uODc1em0wIDJjLjI1MyAwIC41MTkuMDgyLjcxOC4yOC4zOTkuNC4zOTkgMS\\\n4wNCAwIDEuNDM4bC0yLjEyNSAyLjEyNWExLjAxNCAxLjAxNCAwIDAgMS0xLjQzNyAwIDEuMDE0IDEuMD\\\nE0IDAgMCAxIDAtMS40MzdjLjQyMi0uNDIyIDEuNjk5LTEuNjk2IDIuMTI1LTIuMTI1LjE5OS0uMi40Nj\\\nUtLjI4Mi43MTgtLjI4MnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4K\";\n","/**\n * A configuration object to request custom capabilities when accessing a camera.\n */\nexport interface CameraSettings {\n  /**\n   * The preferred video fram resolution (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  readonly resolutionPreference: CameraSettings.ResolutionPreference;\n}\n\nexport namespace CameraSettings {\n  /**\n   * Video frame resolution request (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  export enum ResolutionPreference {\n    /**\n     * Resolution of around 1080p (or less).\n     */\n    FULL_HD,\n    /**\n     * Resolution of around 720p (or less).\n     */\n    HD\n  }\n}\n","import { switchCameraImage, toggleTorchImage } from \"./assets/base64assets\";\nimport { BarcodePicker } from \"./barcodePicker\";\nimport { Camera } from \"./camera\";\nimport { CameraAccess } from \"./cameraAccess\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\n\n/**\n * @hidden\n *\n * A barcode picker utility class used to handle camera interaction.\n */\nexport class BarcodePickerCameraManager {\n  private static readonly isIOSDevice: boolean = navigator.platform != null &&\n    navigator.platform !== \"\" &&\n    /iPad|iPhone|iPod/.test(navigator.platform);\n  private static readonly cameraAccessTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckIntervalMs: number = 50;\n  private static readonly getCapabilitiesTimeoutMs: number = 500;\n  private static readonly autofocusIntervalMs: number = 1500;\n  private static readonly manualToAutofocusResumeTimeoutMs: number = 5000;\n  private static readonly manualFocusRetryTimeoutMs: number = 100;\n  public activeCamera: Camera;\n  public activeCameraSettings: CameraSettings | undefined;\n  private selectedCamera: Camera | undefined;\n  private selectedCameraSettings: CameraSettings | undefined;\n\n  private mediaStream: MediaStream | undefined;\n  private mediaTrackCapabilities: any | undefined;\n  private postStreamInitializationListener: () => void = this.postStreamInitialization.bind(this);\n  private triggerManualFocusListener: () => void = this.triggerManualFocus.bind(this);\n  private cameraAccessTimeout: number;\n  private cameraMetadataCheckInterval: number;\n  private getCapabilitiesTimeout: number;\n  private autofocusInterval: number;\n  private manualToAutofocusResumeTimeout: number;\n  private manualFocusRetryTimeout: number;\n  private enableCameraSwitcher: boolean;\n  private enableTorchToggle: boolean;\n  private enableTapToFocus: boolean;\n  private torchEnabled: boolean;\n  private cameraSwitcherElement: HTMLImageElement;\n  private torchToggleElement: HTMLImageElement;\n\n  constructor(private barcodePicker: BarcodePicker) {\n    this.setupCameraSwitcher();\n    this.setupTorchToggle();\n  }\n\n  public setUIOptions(enableCameraSwitcher: boolean, enableTorchToggle: boolean, enableTapToFocus: boolean): void {\n    this.enableCameraSwitcher = enableCameraSwitcher;\n    this.enableTorchToggle = enableTorchToggle;\n    this.enableTapToFocus = enableTapToFocus;\n  }\n\n  public setSelectedCamera(camera?: Camera): void {\n    this.selectedCamera = camera;\n  }\n\n  public setSelectedCameraSettings(cameraSettings?: CameraSettings): void {\n    this.selectedCameraSettings = cameraSettings;\n  }\n\n  public setupCameras(): Promise<BarcodePicker> {\n    return CameraAccess.getCameras().then(cameras => {\n      if (this.enableCameraSwitcher && cameras.length > 1) {\n        this.cameraSwitcherElement.classList.remove(\"scandit-hidden\");\n      }\n\n      if (this.selectedCamera == null) {\n        let autoselectedCamera: Camera | undefined = cameras.find(currentCamera => {\n          return currentCamera.cameraType === Camera.Type.BACK;\n        });\n        if (autoselectedCamera === undefined) {\n          autoselectedCamera = cameras[0];\n        }\n        if (autoselectedCamera === undefined) {\n          return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n        }\n\n        return this.initializeCameraWithSettings(autoselectedCamera, this.selectedCameraSettings);\n      } else {\n        return this.initializeCameraWithSettings(this.selectedCamera, this.selectedCameraSettings);\n      }\n    });\n  }\n\n  public stopStream(): void {\n    if (this.activeCamera != null) {\n      this.activeCamera.currentResolution = undefined;\n    }\n\n    if (this.mediaStream != null) {\n      window.clearTimeout(this.cameraAccessTimeout);\n      window.clearInterval(this.cameraMetadataCheckInterval);\n      window.clearTimeout(this.getCapabilitiesTimeout);\n      window.clearTimeout(this.manualFocusRetryTimeout);\n      window.clearTimeout(this.manualToAutofocusResumeTimeout);\n      window.clearInterval(this.autofocusInterval);\n      this.mediaStream.getVideoTracks().forEach(track => {\n        track.stop();\n      });\n      this.mediaStream = undefined;\n      this.mediaTrackCapabilities = undefined;\n    }\n  }\n\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, cameraSettings);\n  }\n\n  public reinitializeCamera(): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, this.activeCameraSettings);\n  }\n\n  public initializeCameraWithSettings(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    this.activeCameraSettings = cameraSettings;\n    if (cameraSettings != null && cameraSettings.resolutionPreference === CameraSettings.ResolutionPreference.FULL_HD) {\n      return this.initializeCamera(camera);\n    } else {\n      return this.initializeCamera(camera, 3);\n    }\n  }\n\n  public setTorchEnabled(enabled: boolean): void {\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.torch) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        videoTracks[0].applyConstraints({ advanced: [<any>{ torch: enabled }] });\n      }\n    }\n  }\n\n  private triggerManualFocus(event?: Event): void {\n    if (event != null) {\n      event.preventDefault();\n    }\n    window.clearTimeout(this.manualFocusRetryTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (focusModeCapability instanceof Array && focusModeCapability.indexOf(\"single-shot\") !== -1) {\n        if (focusModeCapability.indexOf(\"continuous\") !== -1 && focusModeCapability.indexOf(\"manual\") !== -1) {\n          this.triggerFocusMode(\"manual\")\n            .then(() => {\n              this.triggerFocusMode(\"single-shot\");\n              // Sometimes the previous call fails silently,\n              // so we retrigger it shortly afterwards anyways just to be sure. This has no negative consequences.\n              this.manualFocusRetryTimeout = window.setTimeout(() => {\n                this.triggerFocusMode(\"single-shot\");\n              }, BarcodePickerCameraManager.manualFocusRetryTimeoutMs);\n            })\n            .catch(() => {\n              // Ignored\n            });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.triggerFocusMode(\"continuous\");\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        } else if (focusModeCapability.indexOf(\"continuous\") === -1) {\n          window.clearInterval(this.autofocusInterval);\n\n          this.triggerFocusMode(\"single-shot\").catch(() => {\n            // Ignored\n          });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.autofocusInterval = window.setInterval(\n              this.triggerAutoFocus.bind(this),\n              BarcodePickerCameraManager.autofocusIntervalMs\n            );\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        }\n      }\n    }\n  }\n\n  private postStreamInitialization(): void {\n    window.clearTimeout(this.getCapabilitiesTimeout);\n    this.getCapabilitiesTimeout = window.setTimeout(() => {\n      this.storeStreamCapabilities();\n      this.setupAutofocus();\n      if (\n        this.enableTorchToggle &&\n        this.mediaStream != null &&\n        this.mediaTrackCapabilities != null &&\n        this.mediaTrackCapabilities.torch\n      ) {\n        this.torchToggleElement.classList.remove(\"scandit-hidden\");\n      }\n    }, BarcodePickerCameraManager.getCapabilitiesTimeoutMs);\n  }\n\n  private storeStreamCapabilities(): void {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].getCapabilities === \"function\") {\n        this.mediaTrackCapabilities = videoTracks[0].getCapabilities();\n      }\n    }\n  }\n\n  private setupAutofocus(): void {\n    window.clearTimeout(this.manualFocusRetryTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (\n        focusModeCapability instanceof Array &&\n        focusModeCapability.indexOf(\"continuous\") === -1 &&\n        focusModeCapability.indexOf(\"single-shot\") !== -1\n      ) {\n        window.clearInterval(this.autofocusInterval);\n        this.autofocusInterval = window.setInterval(\n          this.triggerAutoFocus.bind(this),\n          BarcodePickerCameraManager.autofocusIntervalMs\n        );\n      }\n    }\n  }\n\n  private triggerAutoFocus(): void {\n    this.triggerFocusMode(\"single-shot\").catch(() => {\n      // Ignored\n    });\n  }\n\n  private triggerFocusMode(focusMode: string): Promise<void> {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        return videoTracks[0].applyConstraints({ advanced: [<any>{ focusMode }] });\n      }\n    }\n\n    return Promise.reject(undefined);\n  }\n\n  private initializeCamera(camera: Camera, resolutionFallbackLevel: number = 0): Promise<BarcodePicker> {\n    if (camera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    this.stopStream();\n    this.torchEnabled = false;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n\n    return new Promise((resolve, reject) => {\n      CameraAccess.accessCameraStream(resolutionFallbackLevel, camera)\n        .then(stream => {\n          // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n          if (typeof stream.getTracks()[0].getSettings === \"function\") {\n            const mediaTrackSettings: MediaTrackSettings = stream.getTracks()[0].getSettings();\n            if (\n              mediaTrackSettings.width != null &&\n              mediaTrackSettings.height != null &&\n              (mediaTrackSettings.width === 2 || mediaTrackSettings.height === 2)\n            ) {\n              if (resolutionFallbackLevel === 6) {\n                return reject(\n                  new CustomError({ name: \"NotReadableError\", message: \"Could not initialize camera correctly\" })\n                );\n              } else {\n                return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n                  .then(() => {\n                    return resolve();\n                  })\n                  .catch(error => {\n                    return reject(error);\n                  });\n              }\n            }\n          }\n\n          this.mediaStream = stream;\n\n          // This will add the listener only once in the case of multiple calls, identical listeners are ignored\n          this.barcodePicker.videoElement.addEventListener(\"loadedmetadata\", this.postStreamInitializationListener);\n\n          if (this.enableTapToFocus) {\n            [\"touchstart\", \"mousedown\"].forEach(eventName => {\n              this.barcodePicker.videoElement.addEventListener(eventName, this.triggerManualFocusListener);\n            });\n          }\n\n          this.resolveInitializeCamera(camera, resolve, reject);\n\n          this.barcodePicker.videoElement.srcObject = stream;\n          this.barcodePicker.videoElement.load();\n          const playPromise: Promise<void> = this.barcodePicker.videoElement.play();\n\n          if (playPromise != null) {\n            playPromise.catch(() => {\n              // Can sometimes cause an incorrect rejection (all is good, ignore).\n            });\n          }\n        })\n        .catch(error => {\n          if (\n            error.name === \"PermissionDeniedError\" ||\n            error.name === \"PermissionDismissedError\" ||\n            error.name === \"NotAllowedError\" ||\n            error.name === \"NotFoundError\" ||\n            error.name === \"AbortError\"\n          ) {\n            // Camera is not accessible at all\n            return reject(error);\n          }\n          if (resolutionFallbackLevel < 6) {\n            return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n              .then(mediaStream => {\n                return resolve(mediaStream);\n              })\n              .catch(error2 => {\n                return reject(error2);\n              });\n          } else {\n            return reject(error);\n          }\n        });\n    });\n  }\n\n  private resolveInitializeCamera(\n    camera: Camera,\n    resolve: (value: BarcodePicker) => void,\n    reject: (reason?: any) => void\n  ): void {\n    const cameraNotReadableError: Error = new CustomError({\n      name: \"NotReadableError\",\n      message: \"Could not initialize camera correctly\"\n    });\n\n    this.cameraAccessTimeout = window.setTimeout(() => {\n      this.stopStream();\n      reject(cameraNotReadableError);\n    }, BarcodePickerCameraManager.cameraAccessTimeoutMs);\n\n    if (BarcodePickerCameraManager.isIOSDevice) {\n      // iOS camera access should always work but can fail to call \"later\" video callbacks, so we check loadstart\n      this.barcodePicker.videoElement.onloadstart = () => {\n        (<any>this.barcodePicker.videoElement).onloadstart = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        this.activeCamera = camera;\n        this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n        resolve(this.barcodePicker);\n      };\n    } else {\n      this.barcodePicker.videoElement.onloadeddata = () => {\n        (<any>this.barcodePicker.videoElement).onloadeddata = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n        // Also detect failed camera access with no error but also no video stream provided\n        if (\n          this.barcodePicker.videoElement.videoWidth > 2 &&\n          this.barcodePicker.videoElement.videoHeight > 2 &&\n          this.barcodePicker.videoElement.currentTime > 0\n        ) {\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          return resolve(this.barcodePicker);\n        }\n\n        const cameraMetadataCheckStartTime: number = performance.now();\n\n        window.clearInterval(this.cameraMetadataCheckInterval);\n        this.cameraMetadataCheckInterval = window.setInterval(() => {\n          if (\n            this.barcodePicker.videoElement.videoWidth === 2 ||\n            this.barcodePicker.videoElement.videoHeight === 2 ||\n            this.barcodePicker.videoElement.currentTime === 0\n          ) {\n            if (\n              performance.now() - cameraMetadataCheckStartTime >\n              BarcodePickerCameraManager.cameraMetadataCheckTimeoutMs\n            ) {\n              window.clearInterval(this.cameraMetadataCheckInterval);\n              this.stopStream();\n\n              return reject(cameraNotReadableError);\n            }\n\n            return;\n          }\n\n          window.clearInterval(this.cameraMetadataCheckInterval);\n\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          this.barcodePicker.videoElement.dispatchEvent(new Event(\"canplay\"));\n\n          return resolve(this.barcodePicker);\n        }, BarcodePickerCameraManager.cameraMetadataCheckIntervalMs);\n      };\n    }\n  }\n\n  private setupCameraSwitcher(): void {\n    this.cameraSwitcherElement = document.createElement(\"img\");\n    this.cameraSwitcherElement.src = switchCameraImage;\n    this.cameraSwitcherElement.className = BarcodePicker.cameraSwitcherElementClassName;\n    this.cameraSwitcherElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.cameraSwitcherElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.cameraSwitcherElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        CameraAccess.getCameras()\n          .then(cameras => {\n            const newCameraIndex: number =\n              (cameras.findIndex(camera => {\n                return camera.deviceId === (this.activeCamera == null ? camera.deviceId : this.activeCamera.deviceId);\n              }) +\n                1) %\n              cameras.length;\n            this.initializeCameraWithSettings(cameras[newCameraIndex], this.activeCameraSettings).catch(error => {\n              console.error(error);\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      });\n    });\n  }\n\n  private setupTorchToggle(): void {\n    this.torchToggleElement = document.createElement(\"img\");\n    this.torchToggleElement.src = toggleTorchImage;\n    this.torchToggleElement.className = BarcodePicker.torchToggleElementClassName;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.torchToggleElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.torchToggleElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        this.torchEnabled = !this.torchEnabled;\n        this.setTorchEnabled(this.torchEnabled);\n      });\n    });\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\nimport { Howl, Howler } from \"howler/dist/howler.core.min.js\";\n\nimport { beepSound, laserActiveImage, laserPausedImage, scanditLogoImage } from \"./assets/base64assets\";\n\nimport { userLicenseKey } from \"../index\";\nimport { BarcodePickerCameraManager } from \"./barcodePickerCameraManager\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { Scanner } from \"./scanner\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A barcode picker element used to get and show camera input and perform scanning operations.\n *\n * The barcode picker will automatically fit and scale inside the given <i>originElement</i>.\n *\n * Each barcode picker internally contains a [[Scanner]] object with its own WebWorker thread running a\n * separate copy of the external Scandit Engine library. To optimize loading times and performance it's\n * recommended to reuse the same picker and to already create the picker in advance (hidden) and just\n * display it when needed whenever possible.\n *\n * As the loading of the external Scandit Engine library can take some time the picker always starts inactive\n * (but showing GUI and video) and then activates, if not paused, as soon as the library is ready to scan.\n * The [[onReady]] method can be used to set up a listener function to be called when the library is loaded.\n *\n * You are not allowed to hide the Scandit logo present in the corner of the GUI.\n */\nexport class BarcodePicker {\n  /**\n   * @hidden\n   */\n  public static readonly grandParentElementClassName: string = \"scandit scandit-container\";\n  /**\n   * @hidden\n   */\n  public static readonly parentElementClassName: string = \"scandit scandit-barcode-picker\";\n  /**\n   * @hidden\n   */\n  public static readonly videoElementClassName: string = \"scandit-video\";\n  /**\n   * @hidden\n   */\n  public static readonly scanditLogoImageElementClassName: string = \"scandit-logo\";\n  /**\n   * @hidden\n   */\n  public static readonly laserImageElementClassName: string = \"scandit-laser\";\n  /**\n   * @hidden\n   */\n  public static readonly viewfinderElementClassName: string = \"scandit-viewfinder\";\n  /**\n   * @hidden\n   */\n  public static readonly cameraSwitcherElementClassName: string = \"scandit-camera-switcher\";\n  /**\n   * @hidden\n   */\n  public static readonly torchToggleElementClassName: string = \"scandit-torch-toggle\";\n\n  /**\n   * @hidden\n   */\n  public readonly grandParentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly parentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly videoElement: HTMLVideoElement;\n  /**\n   * @hidden\n   */\n  public readonly laserActiveImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly laserPausedImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly viewfinderElement: HTMLDivElement;\n\n  private cameraManager: BarcodePickerCameraManager;\n  private visible: boolean;\n  private playSoundOnScan: boolean;\n  private vibrateOnScan: boolean;\n  private scanningPaused: boolean;\n  private guiStyle: BarcodePicker.GuiStyle;\n  private eventEmitter: EventEmitter;\n  private scanner: Scanner;\n  private mirrorImage: boolean;\n  private videoImageCanvasContext: CanvasRenderingContext2D;\n  private fatalError: Error;\n  private beepSound: Howl;\n  private vibrateFunction: (pattern: number | number[]) => boolean;\n  private latestVideoTimeProcessed: number;\n  private resizeInterval: number;\n  private lastKnownOriginElementWidth: number;\n  private lastKnownOriginElementHeight: number;\n  private destroyed: boolean;\n  private isReadyToWork: boolean;\n  private cameraAccess: boolean;\n\n  private constructor(\n    private originElement: HTMLElement,\n    {\n      visible,\n      playSoundOnScan,\n      vibrateOnScan,\n      scanningPaused,\n      guiStyle,\n      scanSettings\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      guiStyle?: BarcodePicker.GuiStyle;\n      scanSettings?: ScanSettings;\n    } = {}\n  ) {\n    this.isReadyToWork = false;\n    this.destroyed = false;\n    this.scanningPaused = scanningPaused;\n\n    Howler.autoSuspend = false;\n    this.beepSound = new Howl({\n      src: beepSound\n    });\n\n    this.vibrateFunction =\n      <any>navigator.vibrate ||\n      (<any>navigator).webkitVibrate ||\n      (<any>navigator).mozVibrate ||\n      (<any>navigator).msVibrate;\n\n    this.eventEmitter = new EventEmitter();\n\n    this.grandParentElement = document.createElement(\"div\");\n    this.grandParentElement.className = BarcodePicker.grandParentElementClassName;\n    this.originElement.appendChild(this.grandParentElement);\n    this.parentElement = document.createElement(\"div\");\n    this.parentElement.className = BarcodePicker.parentElementClassName;\n    this.grandParentElement.appendChild(this.parentElement);\n\n    this.videoElement = document.createElement(\"video\");\n    this.setupVideoElement(this.videoElement);\n\n    this.setupVideoImageCanvasElement(document.createElement(\"canvas\"));\n\n    this.setVisible(visible);\n    this.setPlaySoundOnScanEnabled(playSoundOnScan);\n    this.setVibrateOnScanEnabled(vibrateOnScan);\n\n    this.scanner = new Scanner({ scanSettings: scanSettings });\n    this.scanner.onReady(() => {\n      this.isReadyToWork = true;\n      this.eventEmitter.emit(\"ready\");\n    });\n\n    window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n    this.resizeInterval = window.setInterval(() => {\n      this.resizeIfNeeded();\n    }, 250);\n\n    this.laserActiveImageElement = document.createElement(\"img\");\n    this.laserPausedImageElement = document.createElement(\"img\");\n    this.viewfinderElement = document.createElement(\"div\");\n    this.setupAssets();\n    this.setGuiStyle(guiStyle);\n\n    this.setupGlobalListeners();\n\n    this.cameraManager = new BarcodePickerCameraManager(this);\n  }\n\n  /**\n   * Creates a BarcodePicker instance, creating the needed HTML in the given origin element.\n   * If the <tt>accessCamera</tt> is enabled (active by default) the available cameras are accessed\n   * and a camera access permission is requested to the user if needed.\n   * This object expects that at least a camera is available. The active camera is accessed and kept active during the\n   * lifetime of the picker (also when hidden or scanning is paused), and is only released when [[destroy]] is called.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * Depending on parameters, device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>LibraryNotConfiguredError</tt>\n   * - <tt>NoOriginElementError</tt>\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param originElement The HTMLElement inside which all the necessary elements for the picker will be added.\n   * @param visible <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether the picker starts in a visible state.\n   * @param playSoundOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether a sound is played on barcode scanned (iOS requires user input).\n   * @param vibrateOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the device vibrates on barcode scanned (only Chrome & Firefox, requires user input).\n   * @param scanningPaused <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the picker starts in a paused scanning state.\n   * @param guiStyle <div class=\"tsd-signature-symbol\">Default =&nbsp;GuiStyle.LASER</div>\n   * The GUI style for the picker.\n   * @param enableCameraSwitcher <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to switch between different cameras (when available).\n   * @param enableTorchToggle <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to toggle device torch on/off (when available, only Chrome).\n   * @param enableTapToFocus <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to trigger a manual focus of the camera when clicking/tapping on the video (when available, only Chrome).\n   * @param accessCamera <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to immediately access the camera (and requesting user permissions if needed) on picker creation.\n   * @param camera <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera to be used for video input, if not specified the back or only camera will be used.\n   * @param cameraSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera options used when accessing the camera, by default HD resolution is used.\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options (All symbologies disabled by default).\n   * @returns A promise resolving to the created ready [[BarcodePicker]] object.\n   */\n  public static create(\n    originElement: HTMLElement,\n    {\n      visible = true,\n      playSoundOnScan = false,\n      vibrateOnScan = false,\n      scanningPaused = false,\n      /**\n       * @hidden\n       * @deprecated\n       */\n      uiStyle,\n      guiStyle = uiStyle != null ? uiStyle : BarcodePicker.GuiStyle.LASER,\n      scanSettings = new ScanSettings(),\n      enableCameraSwitcher = true,\n      enableTorchToggle = true,\n      enableTapToFocus = true,\n      accessCamera = true,\n      camera,\n      cameraSettings\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      uiStyle?: BarcodePicker.GuiStyle;\n      guiStyle?: BarcodePicker.GuiStyle;\n      scanSettings?: ScanSettings;\n      enableCameraSwitcher?: boolean;\n      enableTorchToggle?: boolean;\n      enableTapToFocus?: boolean;\n      accessCamera?: boolean;\n      camera?: Camera;\n      cameraSettings?: CameraSettings;\n    } = {}\n  ): Promise<BarcodePicker> {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      return Promise.reject(unsupportedBrowserError);\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      return Promise.reject(\n        new CustomError({\n          name: \"LibraryNotConfiguredError\",\n          message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n        })\n      );\n    }\n    if (!(originElement instanceof HTMLElement)) {\n      return Promise.reject(\n        new CustomError({\n          name: \"NoOriginElementError\",\n          message: \"A valid origin HTML element must be given\"\n        })\n      );\n    }\n\n    const barcodePicker: BarcodePicker = new BarcodePicker(originElement, {\n      visible,\n      playSoundOnScan,\n      vibrateOnScan,\n      scanningPaused,\n      guiStyle,\n      scanSettings\n    });\n\n    barcodePicker.cameraManager.setUIOptions(enableCameraSwitcher, enableTorchToggle, enableTapToFocus);\n    barcodePicker.cameraManager.setSelectedCamera(camera);\n    barcodePicker.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n    barcodePicker.cameraAccess = accessCamera;\n\n    if (accessCamera) {\n      return barcodePicker.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(barcodePicker);\n  }\n\n  /**\n   * Stop scanning and displaying video output, remove HTML elements added to the page,\n   * destroy the internal [[Scanner]] and destroy the barcode picker itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the picker anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    this.pauseScanning();\n    this.destroyed = true;\n    this.scanner.destroy();\n    this.eventEmitter.removeAllListeners();\n    window.clearInterval(this.resizeInterval);\n    this.removeGlobalListeners();\n    this.cameraManager.stopStream();\n    this.grandParentElement.remove();\n    this.originElement.classList.remove(\"scandit-hidden\");\n  }\n\n  /**\n   * Applies a new set of scan settings to the internal scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): BarcodePicker {\n    this.scanner.applyScanSettings(scanSettings);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the scanning is currently paused.\n   */\n  public isScanningPaused(): boolean {\n    return this.scanningPaused;\n  }\n\n  /**\n   * Pause the recognition of codes in the input image, video from the camera is still shown.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public pauseScanning(): BarcodePicker {\n    this.scanningPaused = true;\n    if (this.scanner.isReady()) {\n      this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.add(\"paused\");\n    }\n\n    return this;\n  }\n\n  /**\n   * Resume the recognition of codes in the input image.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public resumeScanning(): BarcodePicker {\n    this.scanningPaused = false;\n    if (this.cameraManager.activeCamera != null && this.scanner.isReady()) {\n      this.laserPausedImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserActiveImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.remove(\"paused\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns The currently active camera.\n   */\n  public getActiveCamera(): Camera | undefined {\n    return this.cameraManager.activeCamera;\n  }\n\n  /**\n   * Select a camera to be used for video input.\n   *\n   * If camera access is enabled, the camera is enabled and accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param camera The new camera to be used.\n   * @param cameraSettings The camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is set\n   * (and accessed, if camera access is currently enabled).\n   */\n  public setActiveCamera(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCamera(camera);\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.initializeCameraWithSettings(camera, cameraSettings);\n  }\n\n  /**\n   * Try to apply new settings to the currently used camera for video input,\n   * if no settings are passed the default ones are set.\n   *\n   * If camera access is enabled, the camera is updated and accessed with the new settings.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param cameraSettings The new camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is updated\n   * (and accessed, if camera access is currently enabled).\n   */\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.applyCameraSettings(cameraSettings);\n  }\n\n  /**\n   * @returns Whether the picker is in a visible state or not.\n   */\n  public isVisible(): boolean {\n    return this.visible;\n  }\n\n  /**\n   * Enable or disable picker visibility.\n   *\n   * @param visible Whether the picker is in a visible state or not.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVisible(visible: boolean): BarcodePicker {\n    this.visible = visible;\n    if (visible) {\n      this.originElement.classList.remove(\"scandit-hidden\");\n    } else {\n      this.originElement.classList.add(\"scandit-hidden\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the camera video is mirrored along the vertical axis.\n   */\n  public isMirrorImageEnabled(): boolean {\n    return this.mirrorImage;\n  }\n\n  /**\n   * Enable or disable camera video mirroring along the vertical axis.\n   *\n   * @param enabled Whether the camera video is mirrored along the vertical axis.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setMirrorImageEnabled(enabled: boolean): BarcodePicker {\n    this.mirrorImage = enabled;\n    if (enabled) {\n      this.videoElement.classList.add(\"mirrored\");\n    } else {\n      this.videoElement.classList.remove(\"mirrored\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether a sound should be played on barcode recognition (iOS requires user input).\n   */\n  public isPlaySoundOnScanEnabled(): boolean {\n    return this.playSoundOnScan;\n  }\n\n  /**\n   * Enable or disable playing a sound on barcode recognition (iOS requires user input).\n   *\n   * @param enabled Whether a sound should be played on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setPlaySoundOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.playSoundOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the device should vibrate on barcode recognition (only Chrome & Firefox, requires user input).\n   */\n  public isVibrateOnScanEnabled(): boolean {\n    return this.vibrateOnScan;\n  }\n\n  /**\n   * Enable or disable vibrating the device on barcode recognition (only Chrome & Firefox, requires user input).\n   *\n   * @param enabled Whether the device should vibrate on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVibrateOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.vibrateOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * Enable or disable the torch/flashlight of the device (when available, only Chrome).\n   * Changing active camera or camera settings will cause the torch to become disabled.\n   *\n   * A button on the [[BarcodePicker]] GUI to let the user toggle this functionality can also be set\n   * on creation via the <tt>enableTorchToggle</tt> option (enabled by default, when available).\n   *\n   * @param enabled Whether the torch should be enabled or disabled.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setTorchEnabled(enabled: boolean): BarcodePicker {\n    this.cameraManager.setTorchEnabled(enabled);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the barcode picker has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the barcode picker can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onReady(listener: () => void): BarcodePicker {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan\" event, fired when new barcodes\n   * are recognized in the image frame. The returned barcodes are affected\n   * by the [[ScanSettings.setCodeDuplicateFilter]] option.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with a [[ScanResult]] object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScan(listener: (scanResult: ScanResult) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan\");\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan error\" event, fired when an error occurs\n   * during scanning initialization and execution. The barcode picker will be automatically paused when this happens.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with an <tt>ScanditEngineError</tt> object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScanError(listener: (error: Error) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan-error\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan-error\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan error\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan-error\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan error\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan-error\");\n\n    return this;\n  }\n\n  /**\n   * Set the GUI style for the picker.\n   *\n   * @param guiStyle The new GUI style to be applied.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setGuiStyle(guiStyle: BarcodePicker.GuiStyle): BarcodePicker {\n    this.guiStyle = guiStyle;\n\n    switch (this.guiStyle) {\n      case BarcodePicker.GuiStyle.NONE:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.LASER:\n        this.laserActiveImageElement.classList.remove(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.remove(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.VIEWFINDER:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.remove(\"scandit-hidden\");\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * Access the currently set or default camera, requesting user permissions if needed.\n   * This method is meant to be used after the picker has been initialized with disabled camera access\n   * (<i>cameraAccess</i>=false). Calling this doesn't do anything if the camera has already been accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is accessed.\n   */\n  public accessCamera(): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraAccess = true;\n\n      return this.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(this);\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return this.scanner.createParserForFormat(dataFormat);\n  }\n\n  private resizeIfNeeded(): void {\n    if (\n      this.videoElement.videoHeight < 1 ||\n      this.originElement.clientHeight < 1 ||\n      (this.lastKnownOriginElementWidth === this.originElement.clientWidth &&\n        this.lastKnownOriginElementHeight === this.originElement.clientHeight)\n    ) {\n      return;\n    }\n\n    this.parentElement.style.maxWidth = null;\n    this.parentElement.style.maxHeight = null;\n\n    const videoRatio: number = this.videoElement.videoWidth / this.videoElement.videoHeight;\n    let width: number = this.originElement.clientWidth;\n    let height: number = this.originElement.clientHeight;\n\n    if (videoRatio > this.originElement.clientWidth / this.originElement.clientHeight) {\n      height = width / videoRatio;\n    } else {\n      width = height * videoRatio;\n    }\n\n    this.lastKnownOriginElementWidth = this.originElement.clientWidth;\n    this.lastKnownOriginElementHeight = this.originElement.clientHeight;\n\n    this.parentElement.style.maxWidth = `${Math.ceil(width)}px`;\n    this.parentElement.style.maxHeight = `${Math.ceil(height)}px`;\n  }\n\n  private setupVideoElement(videoElement: HTMLVideoElement): void {\n    videoElement.setAttribute(\"autoplay\", \"autoplay\");\n    videoElement.setAttribute(\"playsinline\", \"true\");\n    videoElement.setAttribute(\"muted\", \"muted\");\n    videoElement.className = BarcodePicker.videoElementClassName;\n\n    videoElement.addEventListener(\"canplay\", () => {\n      if (this.cameraManager.activeCamera != null) {\n        // Retrigger resize\n        this.lastKnownOriginElementWidth = 0;\n        this.lastKnownOriginElementHeight = 0;\n\n        this.cameraManager.activeCamera.currentResolution = {\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight\n        };\n        this.videoImageCanvasContext.canvas.width = this.cameraManager.activeCamera.currentResolution.width;\n        this.videoImageCanvasContext.canvas.height = this.cameraManager.activeCamera.currentResolution.height;\n\n        this.scanner.applyImageSettings({\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight,\n          format: ImageSettings.Format.RGBA_8U\n        });\n      }\n    });\n\n    this.parentElement.appendChild(videoElement);\n  }\n\n  private setupVideoImageCanvasElement(videoImageCanvasElement: HTMLCanvasElement): void {\n    const canvasContext: CanvasRenderingContext2D | null = videoImageCanvasElement.getContext(\"2d\");\n    if (canvasContext != null) {\n      this.videoImageCanvasContext = canvasContext;\n    }\n  }\n\n  private flashLaser(): void {\n    this.laserActiveImageElement.classList.remove(\"scandit-flash-color\");\n    // tslint:disable-next-line:no-unused-expression\n    this.laserActiveImageElement.offsetHeight; // Trigger reflow to restart animation\n    this.laserActiveImageElement.classList.add(\"scandit-flash-color\");\n  }\n\n  private flashViewfinder(): void {\n    this.viewfinderElement.classList.remove(\"scandit-flash-white\");\n    // tslint:disable-next-line:no-unused-expression\n    this.viewfinderElement.offsetHeight; // Trigger reflow to restart animation\n    this.viewfinderElement.classList.add(\"scandit-flash-white\");\n  }\n\n  private setupAssets(): void {\n    const scanditLogoImageElement: HTMLImageElement = document.createElement(\"img\");\n    scanditLogoImageElement.src = scanditLogoImage;\n    scanditLogoImageElement.className = BarcodePicker.scanditLogoImageElementClassName;\n    this.parentElement.appendChild(scanditLogoImageElement);\n\n    this.laserActiveImageElement.src = laserActiveImage;\n    this.laserActiveImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserActiveImageElement);\n\n    this.laserPausedImageElement.src = laserPausedImage;\n    this.laserPausedImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserPausedImageElement);\n\n    this.viewfinderElement.className = BarcodePicker.viewfinderElementClassName;\n    this.parentElement.appendChild(this.viewfinderElement);\n\n    // Show inactive GUI, as for now the scanner isn't ready yet\n    this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n    this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n    this.viewfinderElement.classList.add(\"paused\");\n  }\n\n  private checkAndRecoverPlayback(): void {\n    if (this.videoElement != null && this.videoElement.srcObject != null) {\n      if (!this.videoElement.srcObject.active) {\n        this.cameraManager.reinitializeCamera().catch(error => {\n          this.fatalError = error;\n          console.error(error);\n        });\n      } else {\n        const playPromise: Promise<void> = this.videoElement.play();\n\n        if (playPromise != null) {\n          playPromise.catch(() => {\n            // Can sometimes cause an incorrect rejection (all is good, ignore).\n          });\n        }\n      }\n    }\n  }\n\n  private setupGlobalListeners(): void {\n    document.addEventListener(\"visibilitychange\", this.checkAndRecoverPlayback.bind(this));\n  }\n\n  private removeGlobalListeners(): void {\n    document.removeEventListener(\"visibilitychange\", this.checkAndRecoverPlayback.bind(this));\n  }\n\n  private videoProcessing(): void {\n    if (this.destroyed) {\n      return;\n    }\n\n    if (\n      this.cameraManager.activeCamera == null ||\n      this.cameraManager.activeCamera.currentResolution == null ||\n      this.fatalError != null ||\n      this.scanningPaused ||\n      !this.scanner.isReady() ||\n      this.scanner.isBusyProcessing() ||\n      this.latestVideoTimeProcessed === this.videoElement.currentTime\n    ) {\n      window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n      return;\n    }\n\n    if (this.latestVideoTimeProcessed == null) {\n      // Show active GUI if needed, as now it's the moment the scanner is ready and used for the first time\n      this.resumeScanning();\n    }\n\n    this.latestVideoTimeProcessed = this.videoElement.currentTime;\n\n    this.videoImageCanvasContext.drawImage(this.videoElement, 0, 0);\n    try {\n      const imageData: Uint8ClampedArray = this.videoImageCanvasContext.getImageData(\n        0,\n        0,\n        this.videoImageCanvasContext.canvas.width,\n        this.videoImageCanvasContext.canvas.height\n      ).data;\n      this.scanner\n        .processImage(imageData)\n        .then(scanResult => {\n          if (!this.scanningPaused) {\n            if (scanResult.barcodes.length !== 0) {\n              if (this.guiStyle === BarcodePicker.GuiStyle.LASER) {\n                this.flashLaser();\n              } else if (this.guiStyle === BarcodePicker.GuiStyle.VIEWFINDER) {\n                this.flashViewfinder();\n              }\n              if (this.playSoundOnScan) {\n                this.beepSound.play();\n              }\n              if (this.vibrateOnScan && this.vibrateFunction != null) {\n                this.vibrateFunction.call(navigator, 300);\n              }\n\n              this.eventEmitter.emit(\"scan\", scanResult);\n            }\n          }\n        })\n        .catch(scanError => {\n          if (!this.scanningPaused) {\n            this.pauseScanning();\n            this.eventEmitter.emit(\"scan-error\", scanError);\n          }\n        });\n    } catch (error) {\n      this.fatalError = error;\n      console.error(error);\n    }\n\n    window.requestAnimationFrame(this.videoProcessing.bind(this));\n  }\n}\n\n// istanbul ignore next\nexport namespace BarcodePicker {\n  /**\n   * GUI style to be used by a barcode picker, used to hint barcode placement in the frame.\n   */\n  export enum GuiStyle {\n    /**\n     * No GUI is shown to indicate where the barcode should be placed.\n     * Be aware that the Scandit logo continues to be displayed as showing it is part of the license agreement.\n     */\n    NONE = 0,\n    /**\n     * @hidden\n     * @deprecated\n     */\n    SCANLINE = 1,\n    /**\n     * A laser line is shown.\n     */\n    LASER = 1,\n    /**\n     * A rectangular viewfinder with rounded corners is shown.\n     */\n    VIEWFINDER = 2\n  }\n\n  /**\n   * @hidden\n   * @deprecated\n   */\n  export import UIStyle = GuiStyle;\n}\n","import \"webrtc-adapter\";\n\nimport { BrowserHelper } from \"./lib/browserHelper\";\nimport { CameraAccess } from \"./lib/cameraAccess\";\nimport { CustomError } from \"./lib/customError\";\nimport { ImageSettings } from \"./lib/imageSettings\";\nimport { Scanner } from \"./lib/scanner\";\n\nimport \"./styles/styles.scss\";\n\nexport * from \"./lib/barcode\";\nexport * from \"./lib/barcodeEncodingRange\";\nexport * from \"./lib/barcodePicker\";\nexport * from \"./lib/browserHelper\";\nexport * from \"./lib/camera\";\nexport * from \"./lib/cameraAccess\";\nexport * from \"./lib/cameraSettings\";\nexport * from \"./lib/customError\";\nexport * from \"./lib/imageSettings\";\nexport * from \"./lib/point\";\nexport * from \"./lib/quadrilateral\";\nexport * from \"./lib/parser\";\nexport * from \"./lib/parserField\";\nexport * from \"./lib/parserResult\";\nexport * from \"./lib/scanResult\";\nexport * from \"./lib/scanner\";\nexport * from \"./lib/scanSettings\";\nexport * from \"./lib/searchArea\";\nexport * from \"./lib/symbologySettings\";\n\n/**\n * @hidden\n */\nexport let deviceId: string = BrowserHelper.getDeviceId();\n/**\n * @hidden\n */\nexport let userLicenseKey: string;\n/**\n * @hidden\n */\nexport let scanditEngineLocation: string;\n\n/**\n * Initialize and configure the Scandit Barcode Scanner SDK library. This function must be called as first thing\n * before using any other function of the library.\n *\n * Depending on parameters, device features and user permissions for camera access, any of the following errors\n * could be the rejected result of the returned promise:\n * - <tt>NoLicenseKeyError</tt>\n * - <tt>UnsupportedBrowserError</tt>\n * - <tt>PermissionDeniedError</tt>\n * - <tt>NotAllowedError</tt>\n * - <tt>NotFoundError</tt>\n * - <tt>AbortError</tt>\n * - <tt>NotReadableError</tt>\n * - <tt>InternalError</tt>\n *\n * If the external Scandit Engine library is not loaded now, it can later be loaded via [[loadEngineLibrary]],\n * or it will be downloaded and prepared automatically when needed by other objects/functions.\n *\n * If the cameras are not accessed now, they can later be loaded via [[CameraAccess.getCameras]],\n * or they will be accessed automatically when needed by other objects/functions.\n *\n * @param licenseKey The Scandit license key to be used by the library.\n * @param engineLocation <div class=\"tsd-signature-symbol\">Default =&nbsp;\"/\"</div>\n * The location of the folder containing the external scandit-engine-sdk.min.js and\n * scandit-engine-sdk.wasm files (external Scandit Engine library).\n * By default they are retrieved from the root of the web application.\n * Can be a full URL to folder or an absolute folder path.\n * @param preloadEngineLibrary <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly download and prepare the external Scandit Engine library with this call.\n * @param preloadCameras <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly request access (if needed) and access available cameras with this call.\n * @returns A promise resolving when the library has loaded and the available cameras are loaded (if selected).\n */\nexport function configure(\n  licenseKey: string,\n  {\n    engineLocation = \"/\",\n    preloadEngineLibrary = false,\n    preloadCameras = false\n  }: {\n    engineLocation?: string;\n    preloadEngineLibrary?: boolean;\n    preloadCameras?: boolean;\n  } = {}\n): Promise<void> {\n  const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n  if (unsupportedBrowserError != null) {\n    return Promise.reject(unsupportedBrowserError);\n  }\n\n  if (licenseKey == null || licenseKey.trim() === \"\") {\n    return Promise.reject(new CustomError({ name: \"NoLicenseKeyError\", message: \"No license key provided\" }));\n  }\n  userLicenseKey = licenseKey;\n\n  engineLocation += engineLocation.slice(-1) === \"/\" ? \"\" : \"/\";\n  if (/^https?:\\/\\//.test(engineLocation)) {\n    scanditEngineLocation = `${engineLocation}`;\n  } else {\n    engineLocation = engineLocation\n      .split(\"/\")\n      .filter(s => {\n        return s.length > 0;\n      })\n      .join(\"/\");\n    if (engineLocation === \"\") {\n      engineLocation = \"/\";\n    } else {\n      engineLocation = `/${engineLocation}/`;\n    }\n    scanditEngineLocation = `${location.origin}${engineLocation}`;\n  }\n\n  const promises: Promise<any>[] = [];\n\n  if (preloadEngineLibrary) {\n    promises.push(loadEngineLibrary());\n  }\n\n  if (preloadCameras) {\n    promises.push(CameraAccess.getCameras());\n  }\n\n  return Promise.all(promises)\n    .then(() => {\n      return;\n    })\n    .catch(error => {\n      return Promise.reject(error);\n    });\n}\n\n/**\n * Download and prepare in memory the external Scandit Engine library.\n * If this method isn't called manually the library will be automatically loaded the first\n * time it's required by another of this library's components.\n *\n * @returns A promise resolving when the external Scandit Engine library has been loaded and is ready.\n */\nexport function loadEngineLibrary(): Promise<void> {\n  try {\n    const scanner: Scanner = new Scanner();\n    scanner.applyImageSettings({ width: 2, height: 2, format: ImageSettings.Format.GRAY_8U });\n\n    return scanner.processImage(new Uint8ClampedArray(4)).then(() => {\n      return;\n    });\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n"],"names":["ceil","Math","floor","it","isNaN","undefined","TypeError","TO_STRING","that","pos","s","String","defined","i","toInteger","l","length","a","b","charCodeAt","charAt","slice","global","module","window","self","Function","__g","core","version","__e","fn","aFunction","call","c","apply","arguments","isObject","exec","e","require$$0","Object","defineProperty","get","document","is","createElement","require$$1","require$$2","S","val","toString","valueOf","dP","O","P","Attributes","anObject","toPrimitive","IE8_DOM_DEFINE","value","bitmap","enumerable","configurable","writable","object","key","f","createDesc","PROTOTYPE","$export","type","name","source","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","exports","expProto","target","own","out","ctx","C","this","virtual","R","hide","U","hasOwnProperty","propertyIsEnumerable","cof","split","IObject","min","max","index","IS_INCLUDES","$this","el","fromIndex","toIObject","toLength","toAbsoluteIndex","SHARED","store","id","px","random","concat","shared","uid","arrayIndexOf","IE_PROTO","names","result","has","push","keys","$keys","enumBugKeys","defineProperties","Properties","getKeys","documentElement","Empty","createDict","iframe","lt","gt","iframeDocument","style","display","appendChild","src","contentWindow","open","write","close","create","dPs","Symbol","USE_SYMBOL","$exports","def","TAG","tag","stat","prototype","IteratorPrototype","Constructor","NAME","next","descriptor","setToStringTag","ObjectProto","getPrototypeOf","toObject","constructor","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","$iterCreate","getMethod","kind","proto","values","entries","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","methods","LIBRARY","Iterators","redefine","$at","iterated","_t","_i","point","done","Array","_k","step","Arguments","TO_STRING_TAG","DOMIterables","Collection","ARG","tryGet","T","callee","forbiddenField","iterator","ret","ArrayProto","getIteratorMethod","classof","BREAK","RETURN","iterable","iterFn","getIterFn","isArrayIter","SPECIES","D","args","un","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","listener","event","data","invoke","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","cel","html","removeChild","setTimeout","set","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","Promise","isNode","head","last","notify","flush","parent","domain","exit","enter","toggle","node","createTextNode","observe","characterData","resolve","promise","then","task","PromiseCapability","reject","$$resolve","$$reject","v","x","promiseCapability","newPromiseCapability","safe","KEY","DESCRIPTORS","SAFE_CLOSING","riter","skipClosing","arr","iter","microtask","PROMISE","$Promise","empty","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","newPromiseCapabilityModule","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","unhandled","isUnhandled","console","perform","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","anInstance","err","require$$3","onFulfilled","onRejected","speciesConstructor","catch","require$$4","require$$5","require$$6","r","capability","promiseResolve","require$$7","all","remaining","forOf","$index","alreadyCalled","race","finally","onFinally","isFunction","try","callbackfn","default","__esModule","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","match","parseInt","wrapPeerConnectionEvent","eventNameToWrap","RTCPeerConnection","nativeAddEventListener","nativeEventName","cb","wrappedCallback","_eventMap","nativeRemoveEventListener","removeEventListener","unwrappedCb","disableLog","bool","Error","disableWarnings","log","deprecated","oldMethod","newMethod","warn","detectBrowser","navigator","browser","mozGetUserMedia","userAgent","webkitGetUserMedia","mediaDevices","logging","utils","browserDetails","constraintsToChrome_","mandatory","optional","cc","forEach","ideal","exact","oldname_","prefix","toUpperCase","oc","mix","advanced","shimConstraints_","constraints","func","JSON","parse","stringify","audio","remap","obj","video","face","facingMode","getSupportedFacingModeLies","getSupportedConstraints","matches","enumerateDevices","devices","filter","d","dev","find","some","label","toLowerCase","indexOf","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","message","constraint","constraintName","getUserMedia_","onSuccess","onError","getUserMedia","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","map","device","groupId","echoCancellation","frameRate","height","width","origGetUserMedia","bind","cs","stream","getAudioTracks","getVideoTracks","getTracks","track","stop","DOMException","shimGetUserMedia","shimMediaStream","MediaStream","webkitMediaStream","shimOnTrack","_ontrack","origSetRemoteDescription","setRemoteDescription","pc","_ontrackpoly","te","receiver","getReceivers","Event","transceiver","streams","dispatchEvent","shimGetSendersWithDtmf","shimSenderWithDtmf","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","origAddTrack","addTrack","sender","origRemoveTrack","removeTrack","idx","splice","origAddStream","addStream","origRemoveStream","removeStream","RTCRtpSender","origGetSenders","senders","shimSourceObject","URL","HTMLMediaElement","_srcObject","revokeObjectURL","createObjectURL","shimAddTrackRemoveTrackWithNative","getLocalStreams","_shimmedLocalStreams","streamId","alreadyExists","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","signalingState","t","oldStream","replaceInternalStreamId","description","sdp","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","replaceExternalStreamId","method","nativeMethod","isLegacyCall","desc","origSetLocalDescription","setLocalDescription","origLocalDescription","getOwnPropertyDescriptor","isLocal","streamid","hasTrack","shimPeerConnection","webkitRTCPeerConnection","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","generateCertificate","OrigPeerConnection","iceServers","newIceServers","server","urls","url","origGetStats","getStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","reports","report","standardStats","timestamp","localcandidate","remotecandidate","makeMapStats","stats","Map","successCallbackWrapper_","opts","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","SDPUtils","generateIdentifier","substr","localCName","splitLines","blob","trim","line","splitSections","parts","part","matchPrefix","parseCandidate","substring","candidate","foundation","component","protocol","priority","ip","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","join","parseIceOptions","parseRtpMap","parsed","payloadType","shift","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","params","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","getIceParameters","iceParameters","password","writeIceParameters","parseRtpParameters","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","caps","maxptime","extension","parseRtpEncodingParameters","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","secondarySsrc","flows","apt","encParam","codecPayloadType","rtx","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","planB","generateSessionId","writeSessionBoilerplate","sessId","sessVer","sessionId","writeMediaSection","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseMLine","fmt","dtlsRole","filterIceServers","edgeVersion","hasTurn","isString","validTurn","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","action","offer","answer","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","remoteCandidate","addRemoteCandidate","config","_eventTarget","createDocumentFragment","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","localDescription","remoteDescription","iceConnectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","_iceGatherers","iceCandidatePoolSize","RTCIceGatherer","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_emitGatheringStateChange","getConfiguration","getRemoteStreams","_createTransceiver","hasBundleTransport","recvEncodingParameters","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","clonedStream","clone","clonedTrack","enabled","_createIceGatherer","sdpMLineIndex","candidates","bufferCandidates","end","state","_gather","onlocalcandidate","evt","sdpMid","cand","sections","complete","every","RTCIceTransport","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","send","recv","encodings","p","receive","isIceLite","rejected","isDatachannel","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","receiverList","iceOptions","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","RTCRtpReceiver","getCapabilities","isNewTrack","sid","item","trackEvent","newState","states","new","closed","connecting","checking","connected","completed","disconnected","failed","createOffer","offerOptions","numAudioTracks","numVideoTracks","offerToReceiveAudio","offerToReceiveVideo","getLocalCandidates","createAnswer","mediaSectionsInOffer","localTrack","hasRtx","candidateString","promises","fixStatsType","inboundrtp","outboundrtp","candidatepair","results","res","origMSTEnabled","ev","RTCDtmfSender","shimRTCPeerConnection","shimReplaceTrack","replaceTrack","setTrack","InternalError","NotSupportedError","SecurityError","The operation is insecure.","constraintsToFF37_","require","infos","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","assign","shimRemoveStream","shimLocalStreamsAPI","_localStreams","getStreamById","_remoteStreams","_addTrack","tracks","shimRemoteStreamsAPI","_onaddstream","_onaddstreampoly","shimCallbacksAPI","failureCallback","options","withCallback","errcb","shimRTCIceServerUrls","shimTrackEventTransceiver","RTCTransceiver","shimCreateOfferLegacy","origCreateOffer","audioTransceiver","getTransceivers","setDirection","addTransceiver","videoTransceiver","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","toJSON","shimCreateObjectURL","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","srcObject","nativeSetAttribute","setAttribute","shimMaxMessageSize","RTCSctpTransport","_sctp","sctpInDescription","mLine","getRemoteFirefoxVersion","getCanSendMaxMessageSize","remoteIsFirefox","canSendMaxMessageSize","getMaxMessageSize","maxMessageSize","isFirefox","canSendMMS","remoteMMS","Number","POSITIVE_INFINITY","sctp","shimSendThrowTypeError","origCreateDataChannel","createDataChannel","dataChannel","origDataChannelSend","dc","size","byteLength","dependencies","shimChrome","shimFirefox","shimEdge","shimSafari","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","adapter","browserShim","adapterFactory","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","$Symbol","wksExt","getOwnPropertySymbols","getSymbols","gOPS","symbols","isEnum","pIE","isArray","arg","hiddenKeys","getOwnPropertyNames","gOPN","windowNames","getWindowNames","gOPD","$GOPD","$DP","gOPNExt","$JSON","_stringify","HIDDEN","wks","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","$fails","_create","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","enumKeys","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","k","wksDefine","for","keyFor","useSetter","useSimple","replacer","$replacer","_iterator2","_interopRequireDefault","_iterator","_symbol2","_symbol","_typeof","check","setPrototypeOf","test","buggy","__proto__","exp","fails","$getPrototypeOf","instance","_typeof3","_typeof2","ReferenceError","$Object","_setPrototypeOf2","_setPrototypeOf","_create2","subClass","superClass","CustomError","BrowserHelper","Worker","WebAssembly","Blob","cookieMatch","cookie","cookieValue","pop","expirationDays","date","Date","setTime","getTime","toUTCString","cookieKey","storedDeviceId","getCookieValue","hexCharacters","randomDeviceId","Camera","Type","CameraAccess","backCameraKeywords","unsupportedBrowserError","checkBrowserCompatibility","cameras","videoDevice","lowercaseLabel","keyword","BACK","FRONT","camera","cameraType","resolutionFallbackLevel","getUserMediaParams","ImageSettings","Format","_defineProperty2","_defineProperty","props","protoProps","staticProps","Events","EE","context","once","addListener","emitter","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","listeners","handlers","ee","listenerCount","a1","a2","a3","a4","a5","len","removeListener","on","removeAllListeners","off","prefixed","imageBufferPointer","licenseKey","settings","imageSettings","wasmLoaded","scannerSettingsReady","scannerImageSettingsReady","scanQueue","parseQueue","contextAvailable","scanWorkSubmitted","parseWorkSubmitted","blurryDecodingEnabled","libraryLocation","customModule","mkdir","code","mount","IDBFS","syncfs","callMain","licenseKeyLength","Module","lengthBytesUTF8","licenseKeyPointer","_malloc","stringToUTF8","asm","_create_context","_free","settingsLength","settingsPointer","resultPointer","_scanner_settings_new_from_json","UTF8ToString","debug","channels","format","_scanner_image_settings_new","imageData","HEAPU8","Uint8Array","_scanner_scan","dataFormat","dataString","dataStringLength","dataStringPointer","optionsLength","optionsPointer","_parser_parse_string","currentScanWorkUnit","resultData","scanImage","requestId","currentParseWorkUnit","parseString","engineSDKWorker","engineSDKWorkerFunction","Barcode","decodedData","decodeURIComponent","escape","fromCharCode","rawData","symbology","location","y","compositeFlag","isGs1DataCarrier","encodingArray","Symbology","CompositeFlag","EAN13","EAN8","UPCA","UPCE","CODE128","CODE39","CODE93","INTERLEAVED_2_OF_5","QR","DATA_MATRIX","PDF417","MSI_PLESSEY","GS1_DATABAR","GS1_DATABAR_EXPANDED","CODABAR","AZTEC","TWO_DIGIT_ADD_ON","FIVE_DIGIT_ADD_ON","MAXICODE","CODE11","GS1_DATABAR_LIMITED","CODE25","MICRO_PDF417","RM4SCC","KIX","DOTCODE","scanner","dataRaw","Parser","DataFormat","isEntries","$values","getIterator","from","arrayLike","aLen","mapfn","mapping","createProperty","_from2","_from","arr2","TYPE","SIZE","getEntry","entry","_f","n","getConstructor","IS_MAP","ADDER","_l","redefineAll","validate","prev","setStrong","$iterDefine","setSpecies","original","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","asc","each","common","IS_WEAK","IS_ADDER","SET","Set","add","strong","COLLECTION","of","A","mapFn","nextItem","colorInvertedEnabled","activeSymbolCounts","extensions","checksums","customExtensions","customChecksums","_Array$from","SymbologySettings","Extension","_Object$values","Checksum","minCount","maxCount","_","checksum","enabledSymbologies","codeDuplicateFilter","maxNumberOfCodesPerFrame","searchArea","symbologySettings","enableSymbologies","symbologies","toJSONName","_this","isFullSearchArea","round","_JSON$stringify","ls","isEnabled","setSymbologiesEnabled","durationMilliseconds","limit","setEnabled","scanSettings","ScanSettings","userLicenseKey","isReadyToWork","workerScanQueueLength","engineWokerOnMessage","scanditEngineLocation","eventEmitter","workerParseRequestId","workerScanRequestId","applyLicenseKey","applyScanSettings","applyImageSettings","terminate","toJSONString","_Promise","GRAY_8U","RGB_8U","RGBA_8U","workResultEvent","workErrorEvent","barcodes","createFromWASMResult","errorCode","errorMessage","errorObject","buffer","parseStringResultEvent","_this2","parseStringErrorEvent","parserResult","fields","parserField","fieldsByName","messageType","messageData","init","_counter","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","mobileAutoEnable","_setup","volume","parseFloat","gain","setValueAtTime","currentTime","o","_webAudio","_getSoundIds","u","_soundById","_node","mute","muted","unload","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","canPlayType","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","_autoResume","createBufferSource","connect","destination","noteOn","resume","onended","disconnect","suspend","_sounds","_paused","_suspendTimer","clearTimeout","_resumeAfterSuspend","_emit","_autoplay","autoplay","_format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_xhrWithCredentials","xhrWithCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","play","load","_ended","_id","_inactiveSound","_loadQueue","_seek","abs","_start","_stop","_refreshBuffer","_playStart","bufferSource","noteGrainOn","_clearTimer","playbackRate","paused","m","ejecta","readyState","isCocoonJS","pause","seek","_rateSeek","_stopFade","noteOff","_cleanBuffer","duration","_interval","fade","linearRampToValueAtTime","_startFadeInterval","_fadeTo","setInterval","clearInterval","cancelScheduledValues","loopStart","loopEnd","playing","_errorFn","_loadFn","ended","_drain","reset","_panner","_parent","createGain","createGainNode","_errorListener","_loadListener","__default","atob","XMLHttpRequest","withCredentials","responseType","status","decodeAudioData","AudioContext","webkitAudioContext","platform","appVersion","standalone","define","amd","Howler","Howl","HowlerGlobal","Sound","beepSound","scanditLogoImage","laserActiveImage","laserPausedImage","switchCameraImage","toggleTorchImage","CameraSettings","ResolutionPreference","barcodePicker","postStreamInitialization","triggerManualFocus","setupCameraSwitcher","setupTorchToggle","enableCameraSwitcher","enableTorchToggle","enableTapToFocus","selectedCamera","cameraSettings","selectedCameraSettings","getCameras","cameraSwitcherElement","classList","remove","autoselectedCamera","currentCamera","initializeCameraWithSettings","activeCamera","currentResolution","mediaStream","cameraAccessTimeout","cameraMetadataCheckInterval","getCapabilitiesTimeout","manualFocusRetryTimeout","manualToAutofocusResumeTimeout","autofocusInterval","mediaTrackCapabilities","activeCameraSettings","resolutionPreference","FULL_HD","initializeCamera","torch","videoTracks","preventDefault","focusModeCapability","focusMode","triggerFocusMode","BarcodePickerCameraManager","manualFocusRetryTimeoutMs","manualToAutofocusResumeTimeoutMs","triggerAutoFocus","autofocusIntervalMs","storeStreamCapabilities","setupAutofocus","_this3","torchToggleElement","getCapabilitiesTimeoutMs","stopStream","torchEnabled","accessCameraStream","mediaTrackSettings","_this4","videoElement","postStreamInitializationListener","eventName","triggerManualFocusListener","resolveInitializeCamera","playPromise","error2","cameraNotReadableError","cameraAccessTimeoutMs","isIOSDevice","onloadstart","_this5","setMirrorImageEnabled","onloadeddata","videoWidth","videoHeight","cameraMetadataCheckStartTime","performance","cameraMetadataCheckTimeoutMs","cameraMetadataCheckIntervalMs","className","BarcodePicker","cameraSwitcherElementClassName","parentElement","newCameraIndex","findIndex","_this6","torchToggleElementClassName","_this7","setTorchEnabled","originElement","visible","playSoundOnScan","vibrateOnScan","scanningPaused","guiStyle","destroyed","vibrateFunction","vibrate","webkitVibrate","mozVibrate","msVibrate","grandParentElement","grandParentElementClassName","parentElementClassName","setupVideoElement","setupVideoImageCanvasElement","setVisible","setPlaySoundOnScanEnabled","setVibrateOnScanEnabled","Scanner","onReady","requestAnimationFrame","videoProcessing","resizeInterval","resizeIfNeeded","laserActiveImageElement","laserPausedImageElement","viewfinderElement","setupAssets","setGuiStyle","setupGlobalListeners","cameraManager","pauseScanning","destroy","removeGlobalListeners","isReady","cameraAccess","setSelectedCamera","setSelectedCameraSettings","applyCameraSettings","mirrorImage","GuiStyle","NONE","LASER","VIEWFINDER","setupCameras","createParserForFormat","clientHeight","lastKnownOriginElementWidth","clientWidth","lastKnownOriginElementHeight","maxWidth","maxHeight","videoRatio","videoElementClassName","videoImageCanvasContext","canvas","videoImageCanvasElement","canvasContext","getContext","offsetHeight","scanditLogoImageElement","scanditLogoImageElementClassName","laserImageElementClassName","viewfinderElementClassName","active","reinitializeCamera","fatalError","checkAndRecoverPlayback","isBusyProcessing","latestVideoTimeProcessed","resumeScanning","drawImage","getImageData","processImage","scanResult","flashLaser","flashViewfinder","scanError","uiStyle","accessCamera","HTMLElement","setUIOptions","getDeviceId","engineLocation","preloadEngineLibrary","preloadCameras","origin","loadEngineLibrary","Uint8ClampedArray"],"mappings":"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"}