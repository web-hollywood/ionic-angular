{"version":3,"file":"index.esm.min.js","sources":["../../node_modules/core-js/library/modules/_to-integer.js","../../node_modules/core-js/library/modules/_defined.js","../../node_modules/core-js/library/modules/_string-at.js","../../node_modules/core-js/library/modules/_library.js","../../node_modules/core-js/library/modules/_global.js","../../node_modules/core-js/library/modules/_core.js","../../node_modules/core-js/library/modules/_a-function.js","../../node_modules/core-js/library/modules/_ctx.js","../../node_modules/core-js/library/modules/_is-object.js","../../node_modules/core-js/library/modules/_an-object.js","../../node_modules/core-js/library/modules/_fails.js","../../node_modules/core-js/library/modules/_descriptors.js","../../node_modules/core-js/library/modules/_dom-create.js","../../node_modules/core-js/library/modules/_ie8-dom-define.js","../../node_modules/core-js/library/modules/_to-primitive.js","../../node_modules/core-js/library/modules/_object-dp.js","../../node_modules/core-js/library/modules/_property-desc.js","../../node_modules/core-js/library/modules/_hide.js","../../node_modules/core-js/library/modules/_export.js","../../node_modules/core-js/library/modules/_redefine.js","../../node_modules/core-js/library/modules/_has.js","../../node_modules/core-js/library/modules/_cof.js","../../node_modules/core-js/library/modules/_iobject.js","../../node_modules/core-js/library/modules/_to-iobject.js","../../node_modules/core-js/library/modules/_to-length.js","../../node_modules/core-js/library/modules/_to-absolute-index.js","../../node_modules/core-js/library/modules/_array-includes.js","../../node_modules/core-js/library/modules/_shared.js","../../node_modules/core-js/library/modules/_uid.js","../../node_modules/core-js/library/modules/_shared-key.js","../../node_modules/core-js/library/modules/_object-keys-internal.js","../../node_modules/core-js/library/modules/_enum-bug-keys.js","../../node_modules/core-js/library/modules/_object-keys.js","../../node_modules/core-js/library/modules/_object-dps.js","../../node_modules/core-js/library/modules/_html.js","../../node_modules/core-js/library/modules/_object-create.js","../../node_modules/core-js/library/modules/_wks.js","../../node_modules/core-js/library/modules/_set-to-string-tag.js","../../node_modules/core-js/library/modules/_iter-create.js","../../node_modules/core-js/library/modules/_to-object.js","../../node_modules/core-js/library/modules/_object-gpo.js","../../node_modules/core-js/library/modules/_iter-define.js","../../node_modules/core-js/library/modules/es6.string.iterator.js","../../node_modules/core-js/library/modules/_iter-step.js","../../node_modules/core-js/library/modules/es6.array.iterator.js","../../node_modules/core-js/library/modules/web.dom.iterable.js","../../node_modules/core-js/library/modules/_classof.js","../../node_modules/core-js/library/modules/_task.js","../../node_modules/core-js/library/modules/_an-instance.js","../../node_modules/core-js/library/modules/_iter-call.js","../../node_modules/core-js/library/modules/_is-array-iter.js","../../node_modules/core-js/library/modules/core.get-iterator-method.js","../../node_modules/core-js/library/modules/_for-of.js","../../node_modules/core-js/library/modules/_species-constructor.js","../../node_modules/core-js/library/modules/_invoke.js","../../node_modules/core-js/library/modules/_microtask.js","../../node_modules/core-js/library/modules/_new-promise-capability.js","../../node_modules/core-js/library/modules/_perform.js","../../node_modules/core-js/library/modules/_promise-resolve.js","../../node_modules/core-js/library/modules/_redefine-all.js","../../node_modules/core-js/library/modules/_set-species.js","../../node_modules/core-js/library/modules/_iter-detect.js","../../node_modules/core-js/library/modules/es6.promise.js","../../node_modules/core-js/library/modules/es7.promise.finally.js","../../node_modules/core-js/library/modules/es7.promise.try.js","../../node_modules/core-js/library/fn/promise.js","../../node_modules/babel-runtime/core-js/promise.js","../../node_modules/webrtc-adapter/src/js/utils.js","../../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../../node_modules/sdp/sdp.js","../../node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","../../node_modules/webrtc-adapter/src/js/edge/getusermedia.js","../../node_modules/webrtc-adapter/src/js/edge/edge_shim.js","../../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../../node_modules/webrtc-adapter/src/js/common_shim.js","../../node_modules/webrtc-adapter/src/js/adapter_factory.js","../../node_modules/webrtc-adapter/src/js/adapter_core.js","../../node_modules/core-js/library/modules/_wks-ext.js","../../node_modules/core-js/library/fn/symbol/iterator.js","../../node_modules/babel-runtime/core-js/symbol/iterator.js","../../node_modules/core-js/library/modules/_meta.js","../../node_modules/core-js/library/modules/_wks-define.js","../../node_modules/core-js/library/modules/_object-gops.js","../../node_modules/core-js/library/modules/_object-pie.js","../../node_modules/core-js/library/modules/_enum-keys.js","../../node_modules/core-js/library/modules/_is-array.js","../../node_modules/core-js/library/modules/_object-gopn.js","../../node_modules/core-js/library/modules/_object-gopn-ext.js","../../node_modules/core-js/library/modules/_object-gopd.js","../../node_modules/core-js/library/modules/es6.symbol.js","../../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../../node_modules/core-js/library/modules/es7.symbol.observable.js","../../node_modules/core-js/library/fn/symbol/index.js","../../node_modules/babel-runtime/core-js/symbol.js","../../node_modules/babel-runtime/helpers/typeof.js","../../node_modules/core-js/library/modules/_set-proto.js","../../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../../node_modules/core-js/library/fn/object/set-prototype-of.js","../../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../../node_modules/core-js/library/modules/_object-sap.js","../../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../../node_modules/core-js/library/fn/object/get-prototype-of.js","../../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../../node_modules/babel-runtime/helpers/classCallCheck.js","../../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../../node_modules/core-js/library/modules/es6.object.create.js","../../node_modules/core-js/library/fn/object/create.js","../../node_modules/babel-runtime/core-js/object/create.js","../../src/lib/browserHelper.ts","../../src/lib/camera.ts","../../src/lib/cameraAccess.ts","../../src/lib/imageSettings.ts","../../node_modules/babel-runtime/helpers/inherits.js","../../src/lib/customError.ts","../../node_modules/core-js/library/fn/json/stringify.js","../../node_modules/babel-runtime/core-js/json/stringify.js","../../node_modules/core-js/library/modules/es6.object.define-property.js","../../node_modules/core-js/library/fn/object/define-property.js","../../node_modules/babel-runtime/core-js/object/define-property.js","../../node_modules/babel-runtime/helpers/createClass.js","../../node_modules/eventemitter3/index.js","../../src/lib/workers/engineSDKWorker.ts","../../src/lib/barcode.ts","../../src/lib/parser.ts","../../node_modules/core-js/library/modules/_object-to-array.js","../../node_modules/core-js/library/modules/es7.object.values.js","../../node_modules/core-js/library/fn/object/values.js","../../node_modules/babel-runtime/core-js/object/values.js","../../node_modules/core-js/library/modules/core.get-iterator.js","../../node_modules/core-js/library/fn/get-iterator.js","../../node_modules/babel-runtime/core-js/get-iterator.js","../../node_modules/core-js/library/modules/es6.object.keys.js","../../node_modules/core-js/library/fn/object/keys.js","../../node_modules/babel-runtime/core-js/object/keys.js","../../node_modules/core-js/library/modules/_create-property.js","../../node_modules/core-js/library/modules/es6.array.from.js","../../node_modules/core-js/library/fn/array/from.js","../../node_modules/babel-runtime/core-js/array/from.js","../../node_modules/babel-runtime/helpers/toConsumableArray.js","../../node_modules/core-js/library/modules/_validate-collection.js","../../node_modules/core-js/library/modules/_collection-strong.js","../../node_modules/core-js/library/modules/_array-species-constructor.js","../../node_modules/core-js/library/modules/_array-species-create.js","../../node_modules/core-js/library/modules/_array-methods.js","../../node_modules/core-js/library/modules/_collection.js","../../node_modules/core-js/library/modules/es6.set.js","../../node_modules/core-js/library/modules/_array-from-iterable.js","../../node_modules/core-js/library/modules/_collection-to-json.js","../../node_modules/core-js/library/modules/es7.set.to-json.js","../../node_modules/core-js/library/modules/_set-collection-of.js","../../node_modules/core-js/library/modules/es7.set.of.js","../../node_modules/core-js/library/modules/_set-collection-from.js","../../node_modules/core-js/library/modules/es7.set.from.js","../../node_modules/core-js/library/fn/set.js","../../node_modules/babel-runtime/core-js/set.js","../../src/lib/symbologySettings.ts","../../src/lib/scanSettings.ts","../../src/lib/scanner.ts","../../src/lib/cameraSettings.ts","../../node_modules/howler/dist/howler.core.min.js","../../src/lib/assets/base64assets.ts","../../src/lib/barcodePickerCameraManager.ts","../../src/lib/barcodePicker.ts","../../src/index.ts"],"sourcesContent":["// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = true;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = require('./_hide');\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\n// Utility methods.\nmodule.exports = {\n  extractVersion: extractVersion,\n  wrapPeerConnectionEvent: wrapPeerConnectionEvent,\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    if (navigator.mozGetUserMedia) { // Firefox.\n      result.browser = 'firefox';\n      result.version = extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera.\n      // Version matches Chrome/WebRTC version.\n      result.browser = 'chrome';\n      result.version = extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n      result.browser = 'safari';\n      result.version = extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    } else if (!('RTCRtpTransceiver' in window)) {\n      utils.wrapPeerConnectionEvent(window, 'track', function(e) {\n        if (!e.transceiver) {\n          e.transceiver = {receiver: e.receiver};\n        }\n        return e;\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrackWithNative: function(window) {\n    // shim addTrack/removeTrack with native variants in order to make\n    // the interactions with legacy getLocalStreams behave as in other browsers.\n    // Keeps a mapping stream.id => [stream, rtpsenders...]\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams).map(function(streamId) {\n        return pc._shimmedLocalStreams[streamId][0];\n      });\n    };\n\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      var sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      var existingSenders = pc.getSenders();\n      origAddStream.apply(this, arguments);\n      var newSenders = pc.getSenders().filter(function(newSender) {\n        return existingSenders.indexOf(newSender) === -1;\n      });\n      this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(function(streamId) {\n          var idx = pc._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            pc._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (pc._shimmedLocalStreams[streamId].length === 1) {\n            delete pc._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 65) {\n      return this.shimAddTrackRemoveTrackWithNative(window);\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      pc._reverseStreams = pc._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return pc._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(pc._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var pc = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(pc, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var pc = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(pc, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var pc = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(pc, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return {\n    kind: mline[0].substr(2),\n    port: parseInt(mline[1], 10),\n    protocol: mline[2],\n    fmt: mline.slice(3).join(' ')\n  };\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all field are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  var RTCPeerConnection = function(config) {\n    var self = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          self[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.onicecandidate = null;\n    this.onaddstream = null;\n    this.ontrack = null;\n    this.onremovestream = null;\n    this.onsignalingstatechange = null;\n    this.oniceconnectionstatechange = null;\n    this.onicegatheringstatechange = null;\n    this.onnegotiationneeded = null;\n    this.ondatachannel = null;\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      var e = new Error('rtcpMuxPolicy \\'negotiate\\' is not supported');\n      e.name = 'NotSupportedError';\n      throw(e);\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers = new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        });\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onicegatheringstatechange === 'function') {\n      this.onicegatheringstatechange(event);\n    }\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (whih is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    this.transceivers.push(transceiver);\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var self = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        self.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        self.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var idx = this.localStreams.indexOf(stream);\n    if (idx > -1) {\n      this.localStreams.splice(idx, 1);\n      this._maybeFireNegotiationNeeded();\n    }\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var self = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].candidates = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (self.transceivers[sdpMLineIndex].candidates !== null) {\n        self.transceivers[sdpMLineIndex].candidates.push(event.candidate);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var self = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var candidates = this.transceivers[sdpMLineIndex].candidates;\n    this.transceivers[sdpMLineIndex].candidates = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (self.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // dpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        event.candidate.candidate = SDPUtils.writeCandidate(cand);\n      }\n\n      // update local description.\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex + 1] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      self.localDescription.sdp = sections.join('');\n      var complete = self.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (self.iceGatheringState !== 'gathering') {\n        self.iceGatheringState = 'gathering';\n        self._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        self.dispatchEvent(event);\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(event);\n        }\n      }\n      if (complete) {\n        self.dispatchEvent(new Event('icecandidate'));\n        if (typeof self.onicecandidate === 'function') {\n          self.onicecandidate(new Event('icecandidate'));\n        }\n        self.iceGatheringState = 'complete';\n        self._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      candidates.forEach(function(candidate) {\n        var e = new Event('RTCIceGatherEvent');\n        e.candidate = candidate;\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var self = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      self._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      self._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      self._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      params.encodings = transceiver.recvEncodingParameters;\n      params.rtcp = {\n        cname: transceiver.rtcpParameters.cname,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set local ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        self.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        self._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = self.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n\n        if (!rejected && !transceiver.isDatachannel) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!self.usingBundle || sdpMLineIndex === 0) {\n            self._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          self._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    this.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-local-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n\n    // If a success callback was provided, emit ICE candidates after it\n    // has been executed. Otherwise, emit callback after the Promise is\n    // resolved.\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    return new Promise(function(resolve) {\n      if (cb) {\n        cb.apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var self = this;\n    var args = arguments;\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, this.signalingState)) {\n      return new Promise(function(resolve, reject) {\n        var e = new Error('Can not set remote ' + description.type +\n            ' in state ' + self.signalingState);\n        e.name = 'InvalidStateError';\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [e]);\n        }\n        reject(e);\n      });\n    }\n\n    var streams = {};\n    this.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    this.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      this.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      this.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          !SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 1;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (kind === 'application' && protocol === 'DTLS/SCTP') {\n        self.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          isDatachannel: true\n        };\n        return;\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          self.transceivers[sdpMLineIndex]) {\n        self._disposeIceAndDtlsTransports(sdpMLineIndex);\n        self.transceivers[sdpMLineIndex].iceGatherer =\n            self.transceivers[0].iceGatherer;\n        self.transceivers[sdpMLineIndex].iceTransport =\n            self.transceivers[0].iceTransport;\n        self.transceivers[sdpMLineIndex].dtlsTransport =\n            self.transceivers[0].dtlsTransport;\n        if (self.transceivers[sdpMLineIndex].rtpSender) {\n          self.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n        if (self.transceivers[sdpMLineIndex].rtpReceiver) {\n          self.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              self.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex] ||\n            self._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            stream.addTrack(track);\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        self._transceive(self.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = self.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        self.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        self.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        self.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        self._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            streams[remoteMsid.stream].addTrack(track);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            streams.default.addTrack(track);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (this._dtlsRole === undefined) {\n      this._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    this.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    switch (description.type) {\n      case 'offer':\n        this._updateSignalingState('have-remote-offer');\n        break;\n      case 'answer':\n        this._updateSignalingState('stable');\n        break;\n      default:\n        throw new TypeError('unsupported type \"' + description.type +\n            '\"');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (self.remoteStreams.indexOf(stream) === -1) {\n          self.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            self.dispatchEvent(event);\n            if (typeof self.onaddstream === 'function') {\n              self.onaddstream(event);\n            }\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          var trackEvent = new Event('track');\n          trackEvent.track = track;\n          trackEvent.receiver = receiver;\n          trackEvent.transceiver = {receiver: receiver};\n          trackEvent.streams = [stream];\n          window.setTimeout(function() {\n            self.dispatchEvent(trackEvent);\n            if (typeof self.ontrack === 'function') {\n              self.ontrack(trackEvent);\n            }\n          });\n        });\n      }\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(self && self.transceivers)) {\n        return;\n      }\n      self.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return new Promise(function(resolve) {\n      if (args.length > 1 && typeof args[1] === 'function') {\n        args[1].apply(null);\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this.dispatchEvent(event);\n    if (typeof this.onsignalingstatechange === 'function') {\n      this.onsignalingstatechange(event);\n    }\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var self = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (self.needNegotiation === false) {\n        return;\n      }\n      self.needNegotiation = false;\n      var event = new Event('negotiationneeded');\n      self.dispatchEvent(event);\n      if (typeof self.onnegotiationneeded === 'function') {\n        self.onnegotiationneeded(event);\n      }\n    }, 0);\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0 || states.checking > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0 || states.completed > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this.dispatchEvent(event);\n      if (typeof this.oniceconnectionstatechange === 'function') {\n        this.oniceconnectionstatechange(event);\n      }\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var self = this;\n    var args = arguments;\n\n    var offerOptions;\n    if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n      offerOptions = arguments[0];\n    } else if (arguments.length === 3) {\n      offerOptions = arguments[2];\n    }\n\n    var numAudioTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = this.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        this._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        this._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = self._createIceGatherer(sdpMLineIndex,\n            self.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (this._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, self._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && self.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !self.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var self = this;\n    var args = arguments;\n\n    var sdp = SDPUtils.writeSessionBoilerplate(this._sdpSessionId,\n        this._sdpSessionVersion++);\n    if (this.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.splitSections(\n        this.remoteDescription.sdp).length - 1;\n    this.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.isDatachannel) {\n        sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n            'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, self._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return new Promise(function(resolve) {\n      if (args.length > 0 && typeof args[0] === 'function') {\n        args[0].apply(null, [desc]);\n        resolve();\n        return;\n      }\n      resolve(desc);\n    });\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var err;\n    var sections;\n    if (!candidate || candidate.candidate === '') {\n      for (var j = 0; j < this.transceivers.length; j++) {\n        if (this.transceivers[j].isDatachannel) {\n          continue;\n        }\n        this.transceivers[j].iceTransport.addRemoteCandidate({});\n        sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n        sections[j + 1] += 'a=end-of-candidates\\r\\n';\n        this.remoteDescription.sdp = sections.join('');\n        if (this.usingBundle) {\n          break;\n        }\n      }\n    } else if (!(candidate.sdpMLineIndex !== undefined || candidate.sdpMid)) {\n      throw new TypeError('sdpMLineIndex or sdpMid required');\n    } else if (!this.remoteDescription) {\n      err = new Error('Can not add ICE candidate without ' +\n          'a remote description');\n      err.name = 'InvalidStateError';\n    } else {\n      var sdpMLineIndex = candidate.sdpMLineIndex;\n      if (candidate.sdpMid) {\n        for (var i = 0; i < this.transceivers.length; i++) {\n          if (this.transceivers[i].mid === candidate.sdpMid) {\n            sdpMLineIndex = i;\n            break;\n          }\n        }\n      }\n      var transceiver = this.transceivers[sdpMLineIndex];\n      if (transceiver) {\n        if (transceiver.isDatachannel) {\n          return Promise.resolve();\n        }\n        var cand = Object.keys(candidate.candidate).length > 0 ?\n            SDPUtils.parseCandidate(candidate.candidate) : {};\n        // Ignore Chrome's invalid candidates since Edge does not like them.\n        if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n          return Promise.resolve();\n        }\n        // Ignore RTCP candidates, we assume RTCP-MUX.\n        if (cand.component && cand.component !== 1) {\n          return Promise.resolve();\n        }\n        // when using bundle, avoid adding candidates to the wrong\n        // ice transport. And avoid adding candidates added in the SDP.\n        if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n            transceiver.iceTransport !== this.transceivers[0].iceTransport)) {\n          if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n            err = new Error('Can not add ICE candidate');\n            err.name = 'OperationError';\n          }\n        }\n\n        if (!err) {\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[sdpMLineIndex + 1] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      } else {\n        err = new Error('Can not add ICE candidate');\n        err.name = 'OperationError';\n      }\n    }\n    var args = arguments;\n    return new Promise(function(resolve, reject) {\n      if (err) {\n        if (args.length > 2 && typeof args[2] === 'function') {\n          args[2].apply(null, [err]);\n        }\n        reject(err);\n      } else {\n        if (args.length > 1 && typeof args[1] === 'function') {\n          args[1].apply(null);\n        }\n        resolve();\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function() {\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n        arguments[1];\n    var fixStatsType = function(stat) {\n      return {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      }[stat.type] || stat.type;\n    };\n    return new Promise(function(resolve) {\n      // shim getStats with maplike support\n      var results = new Map();\n      Promise.all(promises).then(function(res) {\n        res.forEach(function(result) {\n          Object.keys(result).forEach(function(id) {\n            result[id].type = fixStatsType(result[id]);\n            results.set(id, result[id]);\n          });\n        });\n        if (cb) {\n          cb.apply(null, results);\n        }\n        resolve(results);\n      });\n    });\n  };\n  return RTCPeerConnection;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  },\n\n  shimRemoveStream: function(window) {\n    if (!window.RTCPeerConnection ||\n        'removeStream' in window.RTCPeerConnection.prototype) {\n      return;\n    }\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(function(sender) {\n        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n          pc.removeTrack(sender);\n        }\n      });\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var pc = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(pc, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        return _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var pc = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            pc.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          var pc = this;\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(function(stream) {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              var event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimCreateOfferLegacy: function(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {\n      var pc = this;\n      if (offerOptions) {\n        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'audio';\n        });\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          pc.addTransceiver('audio');\n        }\n\n        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'video';\n        });\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            videoTransceiver.setDirection('sendonly');\n          } else if (videoTransceiver.direction === 'recvonly') {\n            videoTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          pc.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(pc, arguments);\n    };\n  }\n};\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar utils = require('./utils');\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    utils.wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  },\n\n  shimMaxMessageSize: function(window) {\n    if (window.RTCSctpTransport || !window.RTCPeerConnection) {\n      return;\n    }\n    var browserDetails = utils.detectBrowser(window);\n\n    if (!('sctp' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n        get: function() {\n          return typeof this._sctp === 'undefined' ? null : this._sctp;\n        }\n      });\n    }\n\n    var sctpInDescription = function(description) {\n      var sections = SDPUtils.splitSections(description.sdp);\n      sections.shift();\n      return sections.some(function(mediaSection) {\n        var mLine = SDPUtils.parseMLine(mediaSection);\n        return mLine && mLine.kind === 'application'\n            && mLine.protocol.indexOf('SCTP') !== -1;\n      });\n    };\n\n    var getRemoteFirefoxVersion = function(description) {\n      // TODO: Is there a better solution for detecting Firefox?\n      var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n      if (match === null || match.length < 2) {\n        return -1;\n      }\n      var version = parseInt(match[1], 10);\n      // Test for NaN (yes, this is ugly)\n      return version !== version ? -1 : version;\n    };\n\n    var getCanSendMaxMessageSize = function(remoteIsFirefox) {\n      // Every implementation we know can send at least 64 KiB.\n      // Note: Although Chrome is technically able to send up to 256 KiB, the\n      //       data does not reach the other peer reliably.\n      //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n      var canSendMaxMessageSize = 65536;\n      if (browserDetails.browser === 'firefox') {\n        if (browserDetails.version < 57) {\n          if (remoteIsFirefox === -1) {\n            // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n            // fragmentation.\n            canSendMaxMessageSize = 16384;\n          } else {\n            // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n            // messages. Thus, supporting ~2 GiB when sending.\n            canSendMaxMessageSize = 2147483637;\n          }\n        } else {\n          // Currently, all FF >= 57 will reset the remote maximum message size\n          // to the default value when a data channel is created at a later\n          // stage. :(\n          // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n          canSendMaxMessageSize =\n            browserDetails.version === 57 ? 65535 : 65536;\n        }\n      }\n      return canSendMaxMessageSize;\n    };\n\n    var getMaxMessageSize = function(description, remoteIsFirefox) {\n      // Note: 65536 bytes is the default value from the SDP spec. Also,\n      //       every implementation we know supports receiving 65536 bytes.\n      var maxMessageSize = 65536;\n\n      // FF 57 has a slightly incorrect default remote max message size, so\n      // we need to adjust it here to avoid a failure when sending.\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n      if (browserDetails.browser === 'firefox'\n           && browserDetails.version === 57) {\n        maxMessageSize = 65535;\n      }\n\n      var match = SDPUtils.matchPrefix(description.sdp, 'a=max-message-size:');\n      if (match.length > 0) {\n        maxMessageSize = parseInt(match[0].substr(19), 10);\n      } else if (browserDetails.browser === 'firefox' &&\n                  remoteIsFirefox !== -1) {\n        // If the maximum message size is not present in the remote SDP and\n        // both local and remote are Firefox, the remote peer can receive\n        // ~2 GiB.\n        maxMessageSize = 2147483637;\n      }\n      return maxMessageSize;\n    };\n\n    var origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n      var pc = this;\n      pc._sctp = null;\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        var maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        var sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get: function() {\n            return maxMessageSize;\n          }\n        });\n        pc._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  },\n\n  shimSendThrowTypeError: function(window) {\n    // Note: Although Firefox >= 57 has a native implementation, the maximum\n    //       message size can be reset for all data channels at a later stage.\n    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n    var origCreateDataChannel =\n      window.RTCPeerConnection.prototype.createDataChannel;\n    window.RTCPeerConnection.prototype.createDataChannel = function() {\n      var pc = this;\n      var dataChannel = origCreateDataChannel.apply(pc, arguments);\n      var origDataChannelSend = dataChannel.send;\n\n      // Patch 'send' method\n      dataChannel.send = function() {\n        var dc = this;\n        var data = arguments[0];\n        var length = data.length || data.size || data.byteLength;\n        if (length > pc.sctp.maxMessageSize) {\n          throw new DOMException('Message too large (can send a maximum of ' +\n            pc.sctp.maxMessageSize + ' bytes)', 'TypeError');\n        }\n        return origDataChannelSend.apply(dc, arguments);\n      };\n\n      return dataChannel;\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = require('./utils');\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimCreateOfferLegacy(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n","exports.f = require('./_wks');\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","import { CustomError } from \"./customError\";\n\n/**\n * @hidden\n */\nexport namespace BrowserHelper {\n  /**\n   * @returns The first matching error indicating a missing browser feature, or undefined.\n   */\n  export function checkBrowserCompatibility(): Error | undefined {\n    if (window.navigator.mediaDevices == null || typeof window.navigator.mediaDevices.getUserMedia !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Media devices are not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Worker\") || typeof (<any>window).Worker !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Web Worker is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"WebAssembly\") || typeof (<any>window).WebAssembly !== \"object\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"WebAssembly is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Blob\") || typeof (<any>window).Blob !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Blob object is not supported on this OS / Browser\"\n      });\n    }\n\n    if (\n      !window.hasOwnProperty(\"URL\") ||\n      (typeof (<any>window).URL !== \"function\" && typeof (<any>window).URL !== \"object\") ||\n      typeof (<any>window).URL.createObjectURL !== \"function\"\n    ) {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"URL object is not supported on this OS / Browser\"\n      });\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Get a value from a cookie.\n   *\n   * @param key The key for the cookie for which to get the value.\n   * @returns The cookie value for the given key, empty string if not found.\n   */\n  function getCookieValue(key: string): string {\n    const cookieMatch: RegExpMatchArray | null = document.cookie.match(`(^|;)\\\\s*${key}\\\\s*=\\\\s*([^;]+)`);\n\n    if (cookieMatch == null) {\n      return \"\";\n    } else {\n      const cookieValue: string | undefined = cookieMatch.pop();\n\n      // istanbul ignore next\n      return cookieValue == null ? \"\" : cookieValue;\n    }\n  }\n\n  /**\n   * Store a value in a cookie.\n   *\n   * @param key The key for the cookie.\n   * @param value The value of the cookie.\n   * @param expirationDays The amount of days after which the cookie will expire.\n   */\n  function setCookieValue(key: string, value: string, expirationDays: number): void {\n    const date: Date = new Date();\n    date.setTime(date.getTime() + expirationDays * 24 * 60 * 60 * 1000);\n    document.cookie = `${key}=${value};expires=${date.toUTCString()}`;\n  }\n\n  /**\n   * Get a device id for the current browser, when available it's retrieved from a cookie,\n   * when not it's randomly generated and stored in a cookie to be retrieved by later calls.\n   *\n   * @returns The device id for the current browser.\n   */\n  export function getDeviceId(): string {\n    const cookieKey: string = \"scandit-device-id\";\n    const storedDeviceId: string = getCookieValue(cookieKey);\n    if (storedDeviceId !== \"\") {\n      return storedDeviceId;\n    }\n    const hexCharacters: string = \"0123456789abcdef\";\n    let randomDeviceId: string = \"\";\n    for (let i: number = 0; i < 40; ++i) {\n      // tslint:disable-next-line:insecure-random\n      randomDeviceId += hexCharacters.charAt(Math.floor(Math.random() * 16));\n    }\n    setCookieValue(cookieKey, randomDeviceId, 3650);\n\n    return randomDeviceId;\n  }\n}\n","/**\n * A camera for video input available to be used on the device.\n */\nexport interface Camera {\n  /**\n   * The unique identifier for the device, can change between page loads.\n   */\n  readonly deviceId: string;\n  /**\n   * The label describing the device.\n   */\n  readonly label: string;\n  /**\n   * The type of camera, back or front (not guaranteed to be correct, depending on the device).\n   */\n  readonly cameraType: Camera.Type;\n  /**\n   * The current video resolution if and when the camera is in use, given as width and height in pixels.\n   */\n  currentResolution?: { width: number; height: number };\n}\n\nexport namespace Camera {\n  /**\n   * Camera type (not guaranteed to be correct, depending on the device).\n   */\n  export enum Type {\n    /**\n     * Front facing camera.\n     */\n    FRONT,\n    /**\n     * Back facing camera.\n     */\n    BACK\n  }\n}\n","import { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CustomError } from \"./customError\";\n\n/**\n * A helper object to interact with cameras.\n */\nexport namespace CameraAccess {\n  /**\n   * @hidden\n   *\n   * Handle localized camera labels. Supported languages:\n   * English, German, French, Spanish (spain), Portuguese (brasil), Portuguese (portugal), Italian,\n   * Chinese (simplified), Chinese (traditional), Japanese, Russian, Turkish, Dutch, Arabic, Thai, Swedish,\n   * Danish, Vietnamese, Norwegian, Polish, Finnish, Indonesian, Hebrew, Greek, Romanian, Hungarian, Czech,\n   * Catalan, Slovak, Ukraininan, Croatian, Malay, Hindi.\n   */\n  const backCameraKeywords: string[] = [\n    \"rear\",\n    \"back\",\n    \"rck\",\n    \"arrire\",\n    \"trasera\",\n    \"trs\",\n    \"traseira\",\n    \"posteriore\",\n    \"\",\n    \"\",\n    \"\",\n    \"\", // alternative\n    \"\", // alternative\n    \"\", // alternative\n    \"\",\n    \"\",\n    \"\",\n    \"arka\",\n    \"achterzijde\",\n    \"\",\n    \"baksidan\",\n    \"bagside\",\n    \"sau\",\n    \"bak\",\n    \"tylny\",\n    \"takakamera\",\n    \"belakang\",\n    \"\",\n    \"\",\n    \"spate\",\n    \"hts\",\n    \"zadn\",\n    \"darrere\",\n    \"zadn\",\n    \"\",\n    \"stranja\",\n    \"belakang\",\n    \"\"\n  ];\n\n  /**\n   * @hidden\n   */\n  export let cameras: Camera[];\n\n  /**\n   * Get a list of cameras (if any) available on the device, a camera access permission is requested to the user\n   * the first time this method is called if needed. Subsequent calls return a cached list of cameras.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   *\n   * @returns A promise resolving to the array of available [[Camera]] objects (could be empty).\n   */\n  export function getCameras(): Promise<Camera[]> {\n    return new Promise((resolve, reject) => {\n      const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n      if (unsupportedBrowserError != null) {\n        return reject(unsupportedBrowserError);\n      }\n      if (cameras != null) {\n        return resolve(cameras);\n      }\n\n      navigator.mediaDevices\n        .getUserMedia({\n          video: true,\n          audio: false\n        })\n        .then(stream => {\n          return enumerateDevices()\n            .then(devices => {\n              stream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              cameras = devices\n                .filter(device => {\n                  return device.kind === \"videoinput\";\n                })\n                .map(videoDevice => {\n                  const label: string = videoDevice.label != null ? videoDevice.label : \"\";\n                  const lowercaseLabel: string = label.toLowerCase();\n\n                  return {\n                    deviceId: videoDevice.deviceId,\n                    label: label,\n                    cameraType: backCameraKeywords.some(keyword => {\n                      return lowercaseLabel.indexOf(keyword) !== -1;\n                    })\n                      ? Camera.Type.BACK\n                      : Camera.Type.FRONT\n                  };\n                });\n              if (\n                cameras.length > 1 &&\n                !cameras.some(camera => {\n                  return camera.cameraType === Camera.Type.BACK;\n                })\n              ) {\n                const camera: Camera = cameras.slice(-1)[0];\n                cameras[cameras.length - 1] = {\n                  deviceId: camera.deviceId,\n                  label: camera.label,\n                  cameraType: Camera.Type.BACK\n                };\n              }\n\n              return resolve(cameras);\n            })\n            .catch(error => {\n              stream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              return reject(error);\n            });\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  }\n\n  /**\n   * @hidden\n   *\n   * Try to access a given camera for video input at the given resolution level.\n   *\n   * @param resolutionFallbackLevel The number representing the wanted resolution, from 0 to 6,\n   * resulting in higher to lower video resolutions.\n   * @param camera The camera to try to access for video input.\n   * @returns A promise resolving to the <tt>MediaStream</tt> object coming from the accessed camera.\n   */\n  export function accessCameraStream(resolutionFallbackLevel: number, camera?: Camera): Promise<MediaStream> {\n    const getUserMediaParams: any = {\n      audio: false,\n      video: {}\n    };\n    if (resolutionFallbackLevel === 0) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1400,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1440,\n          max: 1440\n        }\n      };\n    } else if (resolutionFallbackLevel === 1) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1200,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1200,\n          max: 1200\n        }\n      };\n    } else if (resolutionFallbackLevel === 2) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1080,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1080,\n          max: 1080\n        }\n      };\n    } else if (resolutionFallbackLevel === 3) {\n      getUserMediaParams.video = {\n        width: {\n          min: 960,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 960,\n          max: 960\n        }\n      };\n    } else if (resolutionFallbackLevel === 4) {\n      getUserMediaParams.video = {\n        width: {\n          min: 720,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 768\n        }\n      };\n    } else if (resolutionFallbackLevel === 5) {\n      getUserMediaParams.video = {\n        width: {\n          min: 640,\n          ideal: 960,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 720\n        }\n      };\n    }\n\n    if (camera === undefined) {\n      getUserMediaParams.video = true;\n    } else {\n      getUserMediaParams.video.deviceId = {\n        exact: camera.deviceId\n      };\n    }\n\n    return navigator.mediaDevices.getUserMedia(getUserMediaParams);\n  }\n\n  /**\n   * @hidden\n   *\n   * Get a list of available devices in a cross-browser compatible way.\n   *\n   * @returns A promise resolving to the <tt>MediaDeviceInfo</tt> array of all available devices.\n   */\n  function enumerateDevices(): Promise<MediaDeviceInfo[]> {\n    if (typeof (<any>window.navigator).enumerateDevices === \"function\") {\n      return (<any>window.navigator).enumerateDevices();\n    } else if (\n      typeof (<any>window.navigator).mediaDevices === \"object\" &&\n      typeof (<any>window.navigator).mediaDevices.enumerateDevices === \"function\"\n    ) {\n      return window.navigator.mediaDevices.enumerateDevices();\n    } else {\n      return new Promise((resolve, reject) => {\n        try {\n          (<any>window).MediaStreamTrack.getSources((devices: MediaDeviceInfo[]) => {\n            resolve(\n              devices\n                .filter(device => {\n                  return device.kind.toLowerCase() === \"video\" || device.kind.toLowerCase() === \"videoinput\";\n                })\n                .map(device => {\n                  return {\n                    deviceId: device.deviceId != null ? device.deviceId : \"\",\n                    groupId: device.groupId,\n                    kind: <MediaDeviceKind>\"videoinput\",\n                    label: device.label\n                  };\n                })\n            );\n          });\n        } catch (error) {\n          reject(\n            new CustomError({\n              name: \"UnsupportedBrowserError\",\n              message: \"Media devices are not supported on this OS / Browser\"\n            })\n          );\n        }\n      });\n    }\n  }\n}\n","/**\n * A configuration object to define the properties of an image to be scanned.\n */\nexport interface ImageSettings {\n  /**\n   * The width of the image (columns of pixels).\n   */\n  readonly width: number;\n  /**\n   * The height of the image (rows of pixels).\n   */\n  readonly height: number;\n  /**\n   * The format of the pixel data, meaning the mapping of array bytes to image pixels.\n   */\n  readonly format: ImageSettings.Format;\n}\n\nexport namespace ImageSettings {\n  // Warning: the values of Format are important as the engine web worker relies on them without type checking.\n  /**\n   * Image bytes format/layout.\n   */\n  export enum Format {\n    /**\n     * Single-channel 8-bit gray scale image.\n     */\n    GRAY_8U = 0,\n    /**\n     * RGB image with 8 bits per color channel.\n     */\n    RGB_8U = 1,\n    /**\n     * RGBA image with 8 bits per color channel.\n     */\n    RGBA_8U = 2\n  }\n}\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","/**\n * @hidden\n */\nexport class CustomError extends Error {\n  constructor(\n    {\n      name = \"\",\n      message = \"\"\n    }: {\n      name?: string;\n      message?: string;\n    } = {}\n  ) {\n    super(message);\n    Object.setPrototypeOf(this, CustomError.prototype);\n    this.name = name;\n  }\n}\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// tslint:disable:no-string-literal\nimport { ImageSettings } from \"../imageSettings\";\nimport { Parser } from \"../parser\";\n\n// TODO: Find a nice way to use typescript WebWorker lib/types just for worker files\n/**\n * @hidden\n */\ndeclare const importScripts: (...urls: string[]) => void;\n/**\n * @hidden\n */\ndeclare const postMessage: (message: any, transfer?: any[] | undefined) => void;\n\n/**\n * @hidden\n */\ntype FileSystemType = {};\n\n/**\n * @hidden\n */\ndeclare const Module: {\n  HEAPU8: Uint8Array;\n  asm: any;\n  lengthBytesUTF8(str: string): number;\n  UTF8ToString(ptr: number): string;\n  stringToUTF8(str: string, outPtr: number, maxBytesToWrite: number): void;\n  _malloc(size: number): number;\n  _free(ptr: number): void;\n  callMain(): void;\n};\n\n/**\n * @hidden\n */\ndeclare namespace FS {\n  function syncfs(populate: boolean, callback: (e: any) => any): void;\n  function syncfs(callback: (e: any) => any, populate?: boolean): void;\n  function mount(fsType: FileSystemType, opts: any, mountpoint: string): any;\n  function mkdir(path: string, mode?: number): any;\n}\n\n/**\n * @hidden\n */\ndeclare const IDBFS: FileSystemType;\n\n/**\n * @hidden\n */\ndeclare type ScanWorkUnit = {\n  requestId: number;\n  data: ArrayBuffer;\n};\n\n/**\n * @hidden\n */\ndeclare type ParseWorkUnit = {\n  requestId: number;\n  dataFormat: Parser.DataFormat;\n  dataString: string;\n  options: string;\n};\n\n/**\n * @hidden\n */\n// tslint:disable-next-line:max-func-body-length\nfunction engineSDKWorkerFunction(): void {\n  let imageBufferPointer: number | undefined;\n  let licenseKey: string;\n  let settings: string;\n  let imageSettings: ImageSettings;\n  let wasmLoaded: boolean = false;\n  let scannerSettingsReady: boolean = false;\n  let scannerImageSettingsReady: boolean = false;\n  const scanQueue: ScanWorkUnit[] = [];\n  const parseQueue: ParseWorkUnit[] = [];\n  let contextAvailable: boolean = false;\n  let scanWorkSubmitted: boolean = false;\n  let parseWorkSubmitted: boolean = false;\n  let blurryDecodingEnabled: boolean = false;\n\n  function loadLibrary(deviceId: string, libraryLocation: string): void {\n    const customModule: any = {\n      locateFile: () => {\n        return `${libraryLocation}scandit-engine-sdk.wasm`;\n      },\n      arguments: [deviceId],\n      noInitialRun: true,\n      preRun: () => {\n        try {\n          FS.mkdir(\"/scandit_sync_folder\");\n        } catch (error) {\n          if (error.code !== \"EEXIST\") {\n            throw error;\n          }\n        }\n        FS.mount(IDBFS, {}, \"/scandit_sync_folder\");\n        FS.syncfs(true, () => {\n          Module.callMain();\n          wasmLoaded = true;\n          postMessage([\"status\", \"ready\"]);\n          workOnScanQueue();\n          workOnParseQueue();\n        });\n      }\n    };\n    (<any>self)[\"Module\"] = customModule;\n\n    if (typeof importScripts === \"function\") {\n      try {\n        importScripts(`${libraryLocation}scandit-engine-sdk.min.js`);\n      } catch (error) {\n        console.error(\n          `Couldn't retrieve Scandit SDK Engine library at ${libraryLocation}scandit-engine-sdk.min.js, ` +\n            \"did you configure the path for it correctly?\"\n        );\n      }\n    }\n  }\n\n  function createContext(): void {\n    if (contextAvailable || licenseKey == null || !wasmLoaded) {\n      return;\n    }\n\n    const licenseKeyLength: number = Module.lengthBytesUTF8(licenseKey) + 1;\n    const licenseKeyPointer: number = Module._malloc(licenseKeyLength);\n    Module.stringToUTF8(licenseKey, licenseKeyPointer, licenseKeyLength);\n    Module.asm._create_context(licenseKeyPointer);\n    Module._free(licenseKeyPointer);\n\n    contextAvailable = true;\n  }\n\n  function setupSettings(): void {\n    if (settings == null || !contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    scannerSettingsReady = false;\n\n    if (licenseKey == null) {\n      console.error(\"No license key found, the library must be set up before the scanning engine can be used\");\n\n      return;\n    }\n\n    const settingsLength: number = Module.lengthBytesUTF8(settings) + 1;\n    const settingsPointer: number = Module._malloc(settingsLength);\n    Module.stringToUTF8(settings, settingsPointer, settingsLength);\n    const resultPointer: number = Module.asm._scanner_settings_new_from_json(\n      settingsPointer,\n      blurryDecodingEnabled ? 1 : 0\n    );\n    Module._free(settingsPointer);\n\n    const result: string = Module.UTF8ToString(resultPointer);\n    if (result !== \"\") {\n      scannerSettingsReady = true;\n      console.debug(JSON.parse(result));\n    }\n  }\n\n  function setupImageSettings(): void {\n    if (imageSettings == null || !wasmLoaded) {\n      return;\n    }\n\n    scannerImageSettingsReady = false;\n\n    let channels: number;\n    // TODO: For now it's not possible to use imported variables as the worker doesn't have access at runtime\n    switch (imageSettings.format.valueOf()) {\n      case 0: // GRAY_8U\n        channels = 1;\n        break;\n      case 1: // RGB_8U\n        channels = 3;\n        break;\n      case 2: // RGBA_8U\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    Module.asm._scanner_image_settings_new(imageSettings.width, imageSettings.height, channels);\n    if (imageBufferPointer != null) {\n      Module._free(imageBufferPointer);\n      imageBufferPointer = undefined;\n    }\n    imageBufferPointer = Module._malloc(imageSettings.width * imageSettings.height * channels);\n\n    scannerImageSettingsReady = true;\n  }\n\n  function scanImage(imageData: ArrayBuffer): string {\n    Module.HEAPU8.set(new Uint8Array(imageData), imageBufferPointer);\n\n    return Module.UTF8ToString(Module.asm._scanner_scan(imageBufferPointer));\n  }\n\n  function parseString(dataFormat: Parser.DataFormat, dataString: string, options: string): string {\n    const dataStringLength: number = Module.lengthBytesUTF8(dataString) + 1;\n    const dataStringPointer: number = Module._malloc(dataStringLength);\n    Module.stringToUTF8(dataString, dataStringPointer, dataStringLength);\n    const optionsLength: number = Module.lengthBytesUTF8(options) + 1;\n    const optionsPointer: number = Module._malloc(optionsLength);\n    Module.stringToUTF8(options, optionsPointer, optionsLength);\n    const resultPointer: number = Module.asm._parser_parse_string(\n      dataFormat.valueOf(),\n      dataStringPointer,\n      dataStringLength - 1,\n      optionsPointer\n    );\n    Module._free(dataStringPointer);\n    Module._free(optionsPointer);\n\n    return Module.UTF8ToString(resultPointer);\n  }\n\n  function workOnScanQueue(): void {\n    if ((!scannerSettingsReady || !scannerImageSettingsReady) && scanQueue.length !== 0) {\n      createContext();\n      setupSettings();\n      setupImageSettings();\n    }\n\n    if (!scannerSettingsReady || !scannerImageSettingsReady) {\n      return;\n    }\n\n    let currentScanWorkUnit: ScanWorkUnit;\n    let resultData: string;\n    while (scanQueue.length !== 0) {\n      currentScanWorkUnit = <ScanWorkUnit>scanQueue.shift();\n      resultData = scanImage(currentScanWorkUnit.data);\n      const result: any = JSON.parse(resultData);\n      // Important! We send back data that is actually ignored by the receiver (currentScanWorkUnit.data).\n      // This is needed however because some browsers run out of memory due to no GC being run\n      // if this data is not send back (cleared) by the worker for some weird reason...\n      if (result.error != null) {\n        postMessage(\n          [\n            \"work-error\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              error: result.error\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else if (result.result != null) {\n        postMessage(\n          [\n            \"work-result\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              result: result.result\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else {\n        console.error(\"Unrecognized Scandit Engine result:\", result);\n        postMessage([\"\"], [currentScanWorkUnit.data]);\n      }\n    }\n  }\n\n  function workOnParseQueue(): void {\n    if (!contextAvailable && parseQueue.length !== 0) {\n      createContext();\n    }\n\n    if (!contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    let currentParseWorkUnit: ParseWorkUnit;\n    let resultData: string;\n    while (parseQueue.length !== 0) {\n      currentParseWorkUnit = <ParseWorkUnit>parseQueue.shift();\n      resultData = parseString(\n        currentParseWorkUnit.dataFormat,\n        currentParseWorkUnit.dataString,\n        currentParseWorkUnit.options\n      );\n      const result: any = JSON.parse(resultData);\n      if (result.error != null) {\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: result.error\n          }\n        ]);\n      } else if (result.result != null) {\n        postMessage([\n          \"parse-string-result\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            result: result.result\n          }\n        ]);\n      } else {\n        console.error(\"Unrecognized Scandit Parser result:\", result);\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: {\n              errorCode: -1,\n              errorMessage: \"Unknown Scandit Parser error\"\n            }\n          }\n        ]);\n      }\n    }\n  }\n\n  onmessage = e => {\n    // Setting settings triggers license verification and activation: delay until first frame processed\n    const data: any = e.data;\n    switch (data.type) {\n      case \"enable-blurry-decoding\":\n        blurryDecodingEnabled = true;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"load-library\":\n        loadLibrary(data.deviceId, data.libraryLocation);\n        break;\n      case \"license-key\":\n        licenseKey = data.licenseKey;\n        createContext();\n        if (parseWorkSubmitted) {\n          workOnParseQueue();\n        }\n        break;\n      case \"settings\":\n        settings = data.settings;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"image-settings\":\n        imageSettings = data.imageSettings;\n        if (scanWorkSubmitted) {\n          setupImageSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"work\":\n        scanWorkSubmitted = true;\n        scanQueue.push({\n          requestId: data.requestId,\n          data: data.data\n        });\n        workOnScanQueue();\n        break;\n      case \"parse-string\":\n        parseWorkSubmitted = true;\n        parseQueue.push({\n          requestId: data.requestId,\n          dataFormat: data.dataFormat,\n          dataString: data.dataString,\n          options: data.options\n        });\n        workOnParseQueue();\n        break;\n      default:\n        break;\n    }\n  };\n}\n\n/**\n * @hidden\n */\nexport const engineSDKWorker: Blob = new Blob([`(${engineSDKWorkerFunction.toString()})()`], {\n  type: \"text/javascript\"\n});\n","import { BarcodeEncodingRange } from \"./barcodeEncodingRange\";\nimport { Quadrilateral } from \"./quadrilateral\";\n\n/**\n * A barcode result.\n */\nexport interface Barcode {\n  /**\n   * The symbology type.\n   */\n  readonly symbology: Barcode.Symbology;\n  /**\n   * The data encoded in the barcode interpreted as a UTF-8 string.\n   * If the raw data is not a valid UTF-8 string, this field will be an empty string.\n   */\n  readonly data: string;\n  /**\n   * The raw data encoded in the barcode, given as an array of bytes.\n   * To interpret this correctly you may have to use the information contained in encodingArray.\n   */\n  readonly rawData: Uint8Array;\n  /**\n   * The location of the barcode.\n   */\n  readonly location: Quadrilateral;\n  /**\n   * Whether the barcode is part of a composite code.\n   */\n  readonly compositeFlag: Barcode.CompositeFlag;\n  /**\n   * Whether the barcode is a GS1 data carrier.\n   */\n  readonly isGs1DataCarrier: boolean;\n  /**\n   * The data encoding of the data in the barcode, given as an array of encoding ranges.\n   */\n  readonly encodingArray: BarcodeEncodingRange[];\n}\n\nexport namespace Barcode {\n  // Deprecated but useful function for easy UTF-8 handling\n  /**\n   * @hidden\n   */\n  declare function escape(s: string): string;\n\n  /**\n   * @hidden\n   *\n   * Create a [[Barcode]] object from a partial object returned by the external Scandit Engine library.\n   * The <i>rawData</i> and <i>data</i> fields are computed and stored.\n   *\n   * @param result The barcode result coming from the external Scandit Engine library.\n   * @returns The generated [[Barcode]] object.\n   */\n  export function createFromWASMResult(result: any): Barcode {\n    let decodedData: string;\n    try {\n      decodedData = decodeURIComponent(escape(String.fromCharCode.apply(null, result.rawData)));\n    } catch (error) {\n      decodedData = \"\";\n    }\n\n    return {\n      symbology: result.symbology,\n      data: decodedData,\n      rawData: new Uint8Array(result.rawData),\n      location: {\n        topLeft: { x: result.location[0][0], y: result.location[0][1] },\n        topRight: { x: result.location[1][0], y: result.location[1][1] },\n        bottomRight: { x: result.location[2][0], y: result.location[2][1] },\n        bottomLeft: { x: result.location[3][0], y: result.location[3][1] }\n      },\n      compositeFlag: result.compositeFlag,\n      isGs1DataCarrier: result.isGs1DataCarrier,\n      encodingArray: result.encodingArray\n    };\n  }\n\n  /**\n   * Barcode symbology type.\n   */\n  export enum Symbology {\n    EAN13 = \"ean13\",\n    EAN8 = \"ean8\",\n    UPCA = \"upca\",\n    UPCE = \"upce\",\n    CODE128 = \"code128\",\n    CODE39 = \"code39\",\n    CODE93 = \"code93\",\n    INTERLEAVED_2_OF_5 = \"itf\",\n    QR = \"qr\",\n    DATA_MATRIX = \"data-matrix\",\n    PDF417 = \"pdf417\",\n    MSI_PLESSEY = \"msi-plessey\",\n    GS1_DATABAR = \"databar\",\n    GS1_DATABAR_EXPANDED = \"databar-expanded\",\n    CODABAR = \"codabar\",\n    AZTEC = \"aztec\",\n    TWO_DIGIT_ADD_ON = \"two-digit-add-on\",\n    FIVE_DIGIT_ADD_ON = \"five-digit-add-on\",\n    MAXICODE = \"maxicode\",\n    CODE11 = \"code11\",\n    GS1_DATABAR_LIMITED = \"databar-limited\",\n    CODE25 = \"code25\",\n    MICRO_PDF417 = \"micropdf417\",\n    RM4SCC = \"rm4scc\",\n    KIX = \"kix\",\n    DOTCODE = \"dotcode\"\n  }\n\n  /**\n   * Flags to hint that two codes form a composite code.\n   */\n  export enum CompositeFlag {\n    /**\n     * Code is not part of a composite code.\n     */\n    NONE = 0x0,\n    /**\n     * Code could be part of a composite code. This flag is set by linear (1D) symbologies that have\n     * no composite flag support but can be part of a composite code like the EAN/UPC symbology family.\n     */\n    UNKNOWN = 0x1,\n    /**\n     * Code is the linear component of a composite code. This flag can be set by GS1 DataBar or GS1-128 (Code 128).\n     */\n    LINKED = 0x2,\n    /**\n     * Code is a GS1 Composite Code Type A (CC - A).This flag can be set by MicroPDF417 codes.\n     */\n    GS1_A = 0x4,\n    /**\n     * Code is a GS1 Composite Code Type B (CC-B). This flag can be set by MicroPDF417 codes.\n     */\n    GS1_B = 0x8,\n    /**\n     * Code is a GS1 Composite Code Type C (CC-C). This flag can be set by PDF417 codes.\n     */\n    GS1_C = 0x10\n  }\n\n  // istanbul ignore next\n  export namespace Symbology {\n    // tslint:disable:no-unnecessary-qualifier\n    /**\n     * Get the humanized name of a symbology.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The humanized name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toHumanizedName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"EAN-13\";\n        case Symbology.EAN8:\n          return \"EAN-8\";\n        case Symbology.UPCA:\n          return \"UPC-A\";\n        case Symbology.UPCE:\n          return \"UPC-E\";\n        case Symbology.CODE128:\n          return \"Code 128\";\n        case Symbology.CODE39:\n          return \"Code 39\";\n        case Symbology.CODE93:\n          return \"Code 93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"Interleaved Two of Five\";\n        case Symbology.QR:\n          return \"QR\";\n        case Symbology.DATA_MATRIX:\n          return \"Data Matrix\";\n        case Symbology.PDF417:\n          return \"PDF417\";\n        case Symbology.MSI_PLESSEY:\n          return \"MSI-Plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"GS1 DataBar 14\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"GS1 DataBar Expanded\";\n        case Symbology.CODABAR:\n          return \"Codabar\";\n        case Symbology.AZTEC:\n          return \"Aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"Two-Digit Add-On\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"Five-Digit Add-On\";\n        case Symbology.MAXICODE:\n          return \"MaxiCode\";\n        case Symbology.CODE11:\n          return \"Code 11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"GS1 DataBar Limited\";\n        case Symbology.CODE25:\n          return \"Code 25\";\n        case Symbology.MICRO_PDF417:\n          return \"MicroPDF417\";\n        case Symbology.RM4SCC:\n          return \"RM4SCC\";\n        case Symbology.KIX:\n          return \"KIX\";\n        case Symbology.DOTCODE:\n          return \"DotCode\";\n        default:\n          return \"Unknown\";\n      }\n    }\n\n    /**\n     * Get the JSON key name of a symbology, used for JSON-formatted ScanSettings and Scandit Engine library.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The json key name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toJSONName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"ean13\";\n        case Symbology.EAN8:\n          return \"ean8\";\n        case Symbology.UPCA:\n          return \"upca\";\n        case Symbology.UPCE:\n          return \"upce\";\n        case Symbology.CODE128:\n          return \"code128\";\n        case Symbology.CODE39:\n          return \"code39\";\n        case Symbology.CODE93:\n          return \"code93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"itf\";\n        case Symbology.QR:\n          return \"qr\";\n        case Symbology.DATA_MATRIX:\n          return \"data-matrix\";\n        case Symbology.PDF417:\n          return \"pdf417\";\n        case Symbology.MSI_PLESSEY:\n          return \"msi-plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"databar\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"databar-expanded\";\n        case Symbology.CODABAR:\n          return \"codabar\";\n        case Symbology.AZTEC:\n          return \"aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"two-digit-add-on\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"five-digit-add-on\";\n        case Symbology.MAXICODE:\n          return \"maxicode\";\n        case Symbology.CODE11:\n          return \"code11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"databar-limited\";\n        case Symbology.CODE25:\n          return \"code25\";\n        case Symbology.MICRO_PDF417:\n          return \"micropdf417\";\n        case Symbology.RM4SCC:\n          return \"rm4scc\";\n        case Symbology.KIX:\n          return \"kix\";\n        case Symbology.DOTCODE:\n          return \"dotcode\";\n        default:\n          return \"unknown\";\n      }\n    }\n    // tslint:enable:no-unnecessary-qualifier\n  }\n}\n","import { ParserResult } from \"./parserResult\";\nimport { Scanner } from \"./scanner\";\n\n// Deprecated but useful function for easy UTF-8 handling\n/**\n * @hidden\n */\ndeclare function escape(s: string): string;\n\n/**\n * A data string parser.\n *\n * Parsers are capable of parsing one particular data format, which is passed to them during construction.\n *\n * The parser is created through [[BarcodePicker.createParserForFormat]] or [[Scanner.createParserForFormat]].\n * Note that you need to have a valid license with the parsing feature enabled to use the parser functionalities.\n *\n * For documentation on the available formats, check the official parser library documentation here:\n * https://docs.scandit.com/parser/formats.html.\n */\nexport class Parser {\n  private options: any;\n\n  /**\n   * @hidden\n   *\n   * @param scanner The [[Scanner]] object used to interact with the external Scandit library.\n   * @param dataFormat The data format for this parser.\n   */\n  constructor(private scanner: Scanner, private dataFormat: Parser.DataFormat) {}\n\n  /**\n   * Apply the option map to the parser, allowing the user to fine-tune the behaviour of the parser.\n   * Available options depend on the data format and are specified in the respective documentation.\n   *\n   * @param options The new options to be applied (replacing previous ones, if any).\n   */\n  public setOptions(options: object): void {\n    this.options = options;\n  }\n\n  /**\n   * Process the given raw data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataRaw The raw data to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseRawData(dataRaw: Uint8Array): Promise<ParserResult> {\n    let dataString: string;\n    try {\n      dataString = decodeURIComponent(escape(String.fromCharCode.apply(null, dataRaw)));\n    } catch (error) {\n      dataString = \"\";\n    }\n\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n\n  /**\n   * Process the given string data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataString The string to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataString: string): Promise<ParserResult> {\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n}\n\n// istanbul ignore next\nexport namespace Parser {\n  /**\n   * Data format of a string to be parsed into a set of key-value mappings by the Scandit Parser Library.\n   *\n   * See https://docs.scandit.com/parser/formats.html for more details.\n   */\n  export enum DataFormat {\n    /**\n     * GS1 Application Identifier (AI).\n     *\n     * See: http://www.gs1.org/docs/barcodes/GS1_General_Specifications.pdf.\n     */\n    GS1_AI = 1,\n    /**\n     * Health Industry Bar Code (HIBC).\n     *\n     * See: http://www.hibcc.org.\n     */\n    HIBC = 2,\n    /**\n     * AAMVA Driver License/Identification (DL/ID).\n     *\n     * See: http://www.aamva.org.\n     */\n    DLID = 3,\n    /**\n     * ICAO Machine Readable Travel Document (MRTD).\n     *\n     * See: https://www.icao.int.\n     */\n    MRTD = 4,\n    /**\n     * Swiss QR ISO 20022.\n     *\n     * See: https://www.paymentstandards.ch.\n     */\n    SWISSQR = 5\n  }\n}\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };","/**\n * A symbology-specific configuration object.\n *\n * See https://docs.scandit.com/stable/c_api/symbologies.html for more details.\n */\nexport class SymbologySettings {\n  private enabled: boolean;\n  private colorInvertedEnabled: boolean;\n  private activeSymbolCounts: number[];\n  private extensions: Set<SymbologySettings.Extension>;\n  private checksums: Set<SymbologySettings.Checksum>;\n  private customExtensions: boolean;\n  private customChecksums: boolean;\n\n  /**\n   * Creates a SymbologySettings instance.\n   *\n   * @param enabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the symbology is enabled for recognition.\n   * @param colorInvertedEnabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether color inverted recognition is enabled.\n   * @param activeSymbolCounts\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology range)</div>\n   * The list of active symbol counts.\n   * @param extensions\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology extensions)</div>\n   * The list/set of enabled extensions.\n   * @param checksums\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology checksums)</div>\n   * The list/set of enabled checksums.\n   */\n  constructor({\n    enabled = false,\n    colorInvertedEnabled = false,\n    activeSymbolCounts = [],\n    extensions = null,\n    checksums = null\n  }: {\n    enabled?: boolean;\n    colorInvertedEnabled?: boolean;\n    activeSymbolCounts?: number[];\n    extensions?: SymbologySettings.Extension[] | Set<SymbologySettings.Extension>;\n    checksums?: SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>;\n  } = {}) {\n    this.enabled = enabled;\n    this.colorInvertedEnabled = colorInvertedEnabled;\n    this.activeSymbolCounts = activeSymbolCounts;\n    this.customExtensions = extensions != null;\n    this.customChecksums = checksums != null;\n    if (extensions == null) {\n      extensions = [];\n    }\n    if (checksums == null) {\n      checksums = [];\n    }\n    this.extensions = new Set(\n      Array.from(extensions).filter(e => {\n        return (\n          e in SymbologySettings.Extension || Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n        );\n      })\n    );\n    this.checksums = new Set(\n      Array.from(checksums).filter(c => {\n        return (\n          c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n        );\n      })\n    );\n  }\n\n  /**\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isEnabled(): boolean {\n    return this.enabled;\n  }\n\n  /**\n   * Enable or disable recognition of the symbology.\n   *\n   * @param enabled Whether the symbology is enabled for recognition.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setEnabled(enabled: boolean): SymbologySettings {\n    this.enabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether color inverted recognition is enabled.\n   */\n  public isColorInvertedEnabled(): boolean {\n    return this.colorInvertedEnabled;\n  }\n\n  /**\n   * Enable or disable recognition of inverted-color symbology (in addition to normal colors).\n   *\n   * @param enabled Whether color inverted recognition is enabled.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setColorInvertedEnabled(enabled: boolean): SymbologySettings {\n    this.colorInvertedEnabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom list of active symbol counts.\n   * If never set, an empty array is returned\n   * but the Scandit Engine library will use the default list for the symbology.\n   *\n   * @returns The list of active symbol counts.\n   */\n  public getActiveSymbolCounts(): number[] {\n    return this.activeSymbolCounts;\n  }\n\n  /**\n   * Set the list of active symbol counts.\n   *\n   * @param activeSymbolCounts The list of active symbol counts.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCounts(activeSymbolCounts: number[]): SymbologySettings {\n    this.activeSymbolCounts = activeSymbolCounts;\n\n    return this;\n  }\n\n  /**\n   * Set the range of active symbol counts.\n   *\n   * @param minCount The minimum accepted number of symbols.\n   * @param maxCount The minimum accepted number of symbols.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCountsRange(minCount: number, maxCount: number): SymbologySettings {\n    this.activeSymbolCounts = Array.from({ length: maxCount - minCount + 1 }, (_, k) => {\n      return k + minCount;\n    });\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of extensions.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default extension set for the symbology.\n   *\n   * @returns The set of enabled extensions.\n   */\n  public getEnabledExtensions(): Set<SymbologySettings.Extension> {\n    return this.extensions;\n  }\n\n  /**\n   * Enable an extension or list/set of extensions\n   *\n   * @param extension The single extension or list/set of extensions to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    this.customExtensions = true;\n    if (typeof extension === \"object\") {\n      this.extensions = new Set([\n        ...this.extensions,\n        ...Array.from(extension).filter(e => {\n          return (\n            e in SymbologySettings.Extension ||\n            Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        extension in SymbologySettings.Extension ||\n        Object.values(SymbologySettings.Extension).indexOf(extension.toLowerCase()) !== -1\n      ) {\n        this.extensions.add(extension);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable an extension or list/set of extensions.\n   *\n   * @param extension The single extension or list/set of extensions to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    if (typeof extension === \"object\") {\n      this.extensions = new Set(\n        [...this.extensions].filter(x => {\n          return extension instanceof Array ? extension.indexOf(x) === -1 : !extension.has(x);\n        })\n      );\n    } else {\n      this.extensions.delete(extension);\n    }\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of checksums.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default checksum set for the symbology.\n   *\n   * @returns The set of enabled checksums.\n   */\n  public getEnabledChecksums(): Set<SymbologySettings.Checksum> {\n    return this.checksums;\n  }\n\n  /**\n   * Enable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    this.customChecksums = true;\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set([\n        ...this.checksums,\n        ...Array.from(checksum).filter(c => {\n          return (\n            c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        checksum in SymbologySettings.Checksum ||\n        Object.values(SymbologySettings.Checksum).indexOf(checksum.toLowerCase()) !== -1\n      ) {\n        this.checksums.add(checksum);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set(\n        [...this.checksums].filter(x => {\n          return checksum instanceof Array ? checksum.indexOf(x) === -1 : !checksum.has(x);\n        })\n      );\n    } else {\n      this.checksums.delete(checksum);\n    }\n\n    return this;\n  }\n\n  protected toJSON(): object {\n    return {\n      enabled: this.enabled,\n      colorInvertedEnabled: this.colorInvertedEnabled,\n      activeSymbolCounts: this.activeSymbolCounts.length === 0 ? undefined : this.activeSymbolCounts,\n      extensions: this.customExtensions ? Array.from(this.extensions) : undefined,\n      checksums: this.customChecksums ? Array.from(this.checksums) : undefined\n    };\n  }\n}\n\n// istanbul ignore next\nexport namespace SymbologySettings {\n  /**\n   * Symbology extensions for particular functionalities, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Extension {\n    /**\n     * Improve scan performance when reading direct part marked (DPM) Data Matrix codes.\n     * Enabling this extension comes at the cost of increased frame processing times.\n     */\n    DIRECT_PART_MARKING_MODE = \"direct_part_marking_mode\",\n    /**\n     * Interpret the Code 39 / Code 93 code data using two symbols per output character to encode all ASCII characters.\n     */\n    FULL_ASCII = \"full_ascii\",\n    /**\n     * Enable scanning codes that have quiet zones (white area before and after the code) significantly smaller\n     * than what's allowed by the symbology specification.\n     */\n    RELAXED_SHARP_QUIET_ZONE_CHECK = \"relaxed_sharp_quiet_zone_check\",\n    /**\n     * Remove the leading zero digit from the result.\n     */\n    REMOVE_LEADING_ZERO = \"remove_leading_zero\",\n    /**\n     * Remove the leading zero digit from the result if the UPC-A representation extension \"RETURN_AS_UPCA\" is enabled.\n     */\n    REMOVE_LEADING_UPCA_ZERO = \"remove_leading_upca_zero\",\n    /**\n     * Transform the UPC-E result into its UPC-A representation.\n     */\n    RETURN_AS_UPCA = \"return_as_upca\",\n    /**\n     * Removes the leading FNC1 character that indicates a GS1 code.\n     */\n    STRIP_LEADING_FNC1 = \"strip_leading_fnc1\"\n  }\n\n  /**\n   * Checksum algorithms, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Checksum {\n    /**\n     * Modulo 10 checksum.\n     */\n    MOD_10 = \"mod10\",\n    /**\n     * Modulo 11 checksum.\n     */\n    MOD_11 = \"mod11\",\n    /**\n     * Modulo 16 checksum.\n     */\n    MOD_16 = \"mod16\",\n    /**\n     * Modulo 43 checksum.\n     */\n    MOD_43 = \"mod43\",\n    /**\n     * Modulo 47 checksum.\n     */\n    MOD_47 = \"mod47\",\n    /**\n     * Modulo 103 checksum.\n     */\n    MOD_103 = \"mod103\",\n    /**\n     * Two modulo 10 checksums.\n     */\n    MOD_1010 = \"mod1010\",\n    /**\n     * Modulo 11 and modulo 10 checksum.\n     */\n    MOD_1110 = \"mod1110\"\n  }\n}\n","import { Barcode } from \"./barcode\";\nimport { SearchArea } from \"./searchArea\";\nimport { SymbologySettings } from \"./symbologySettings\";\n/**\n * A configuration object for scanning options.\n *\n * Modified ScanSettings need to be applied to a scanner via\n * [[BarcodePicker.applyScanSettings]] or [[Scanner.applyScanSettings]] to take effect.\n */\nexport class ScanSettings {\n  // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n  private symbologySettings: { [symbology: string]: SymbologySettings };\n  private codeDuplicateFilter: number;\n  private maxNumberOfCodesPerFrame: number;\n  private searchArea: SearchArea;\n\n  /**\n   * Creates a ScanSettings instance.\n   *\n   * @param enabledSymbologies <div class=\"tsd-signature-symbol\">Default =&nbsp;[]</div>\n   * The single symbology or list/set of symbologies\n   * that should be initialized as enabled for recognition.\n   * @param codeDuplicateFilter <div class=\"tsd-signature-symbol\">Default =&nbsp;0</div>\n   * The duplicate filter specifying how often a code can be scanned.\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   * When the same code (data/symbology) is scanned within the specified interval it is filtered out as a duplicate.\n   * @param maxNumberOfCodesPerFrame <div class=\"tsd-signature-symbol\">Default =&nbsp;1</div>\n   * The maximum number of barcodes to be recognized every frame.\n   * @param searchArea <div class=\"tsd-signature-symbol\">Default =&nbsp;{ x: 0, y: 0, width: 1.0, height: 1.0 }</div>\n   * The area of the image in which barcodes are searched.\n   */\n  constructor(\n    {\n      enabledSymbologies = [],\n      codeDuplicateFilter = 0,\n      maxNumberOfCodesPerFrame = 1,\n      searchArea = { x: 0, y: 0, width: 1.0, height: 1.0 }\n    }: {\n      enabledSymbologies?: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>;\n      codeDuplicateFilter?: number;\n      maxNumberOfCodesPerFrame?: number;\n      searchArea?: SearchArea;\n    } = {}\n  ) {\n    this.symbologySettings = {};\n    this.enableSymbologies(enabledSymbologies);\n    this.codeDuplicateFilter = codeDuplicateFilter;\n    this.maxNumberOfCodesPerFrame = maxNumberOfCodesPerFrame;\n    this.searchArea = searchArea;\n  }\n\n  /**\n   * @returns The configuration object as a JSON string.\n   */\n  public toJSONString(): string {\n    // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n    const symbologies: { [jsonSymbologyName: string]: SymbologySettings } = {};\n    Object.keys(this.symbologySettings).forEach(s => {\n      symbologies[Barcode.Symbology.toJSONName(<Barcode.Symbology>s)] = (<any>this.symbologySettings)[s];\n    });\n\n    const isFullSearchArea: boolean =\n      Math.round(this.searchArea.x * 100) === 0 &&\n      Math.round(this.searchArea.y * 100) === 0 &&\n      Math.round(this.searchArea.width * 100) === 100 &&\n      Math.round(this.searchArea.height * 100) === 100;\n\n    return JSON.stringify({\n      symbologies: symbologies,\n      codeDuplicateFilter: this.codeDuplicateFilter,\n      maxNumberOfCodesPerFrame: this.maxNumberOfCodesPerFrame,\n      searchArea: this.searchArea,\n      codeLocation1d: isFullSearchArea\n        ? undefined\n        : {\n            area: this.searchArea\n          },\n      codeLocation2d: isFullSearchArea\n        ? undefined\n        : {\n            area: this.searchArea\n          }\n    });\n  }\n\n  /**\n   * Get the configuration object for a symbology (which can then be modified).\n   *\n   * @param symbology The symbology for which to retrieve the configuration.\n   * @returns The symbology configuration object for the specified symbology.\n   */\n  public getSymbologySettings(symbology: Barcode.Symbology): SymbologySettings {\n    const ls: string = symbology.toLowerCase();\n    if (this.symbologySettings.hasOwnProperty(ls)) {\n      return this.symbologySettings[ls];\n    } else {\n      this.symbologySettings[ls] = new SymbologySettings();\n\n      return this.symbologySettings[ls];\n    }\n  }\n\n  /**\n   * Get the recognition enabled status for a symbology.\n   *\n   * @param symbology The symbology for which to retrieve the recognition enabled status.\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isSymbologyEnabled(symbology: Barcode.Symbology): boolean {\n    const ls: string = symbology.toLowerCase();\n\n    return this.symbologySettings.hasOwnProperty(ls) && this.symbologySettings[ls].isEnabled();\n  }\n\n  /**\n   * Enable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to enable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public enableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, true);\n  }\n\n  /**\n   * Disable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to disable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public disableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, false);\n  }\n\n  /**\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @returns The code duplicate filter value.\n   */\n  public getCodeDuplicateFilter(): number {\n    return this.codeDuplicateFilter;\n  }\n\n  /**\n   * Set the code duplicate filter value.\n   *\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @param durationMilliseconds The new value (-1, 0, or positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setCodeDuplicateFilter(durationMilliseconds: number): ScanSettings {\n    this.codeDuplicateFilter = durationMilliseconds;\n\n    return this;\n  }\n\n  /**\n   * @returns The maximum number of barcodes to be recognized every frame.\n   */\n  public getMaxNumberOfCodesPerFrame(): number {\n    return this.maxNumberOfCodesPerFrame;\n  }\n\n  /**\n   * Set the maximum number of barcodes to be recognized every frame.\n   *\n   * @param limit The new value (non-zero positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setMaxNumberOfCodesPerFrame(limit: number): ScanSettings {\n    this.maxNumberOfCodesPerFrame = limit;\n\n    return this;\n  }\n\n  /**\n   * @returns The area of the image in which barcodes are searched.\n   */\n  public getSearchArea(): SearchArea {\n    return this.searchArea;\n  }\n\n  /**\n   * Set the area of the image in which barcodes are searched.\n   *\n   * @param searchArea The new search area.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setSearchArea(searchArea: SearchArea): ScanSettings {\n    this.searchArea = searchArea;\n\n    return this;\n  }\n\n  private setSymbologiesEnabled(\n    symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>,\n    enabled: boolean\n  ): ScanSettings {\n    if (typeof symbology === \"object\") {\n      for (const s of symbology) {\n        const ls: string = s.toLowerCase();\n        if (s in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n          if (this.symbologySettings.hasOwnProperty(ls)) {\n            this.symbologySettings[ls].setEnabled(enabled);\n          } else {\n            this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n          }\n        }\n      }\n    } else {\n      const ls: string = symbology.toLowerCase();\n      if (symbology in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n        if (this.symbologySettings.hasOwnProperty(ls)) {\n          this.symbologySettings[ls].setEnabled(enabled);\n        } else {\n          this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n        }\n      }\n    }\n\n    return this;\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\n\nimport { engineSDKWorker } from \"./workers/engineSDKWorker\";\n\nimport { deviceId, scanditEngineLocation, userLicenseKey } from \"../index\";\nimport { Barcode } from \"./barcode\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { ParserField } from \"./parserField\";\nimport { ParserResult } from \"./parserResult\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A low-level scanner interacting with the external Scandit Engine library.\n * Used to set up scan / image settings and to process single image frames.\n *\n * The loading of the external Scandit Engine library can take some time, the [[onReady]] method\n * can be used to set up a listener function to be called when the library is loaded and the [[isReady]] method\n * can return the current status. The scanner will be ready to start scanning when the library is loaded.\n */\nexport class Scanner {\n  private scanSettings: ScanSettings;\n  private imageSettings: ImageSettings;\n  private engineSDKWorker: Worker;\n  private eventEmitter: EventEmitter;\n  private workerParseRequestId: number;\n  private workerScanRequestId: number;\n  private workerScanQueueLength: number;\n  private isReadyToWork: boolean;\n\n  /**\n   * Creates a Scanner instance.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * Before processing an image the relative settings must also have been set.\n   *\n   * If the library has not been correctly configured yet a <tt>LibraryNotConfiguredError</tt> error is thrown.\n   *\n   * If a browser is incompatible a <tt>UnsupportedBrowserError</tt> error is thrown.\n   *\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options.\n   * @param imageSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The configuration object to define the properties of an image to be scanned.\n   */\n  constructor({\n    scanSettings = new ScanSettings(),\n    imageSettings\n  }: {\n    scanSettings?: ScanSettings;\n    imageSettings?: ImageSettings;\n  } = {}) {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      throw unsupportedBrowserError;\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      throw new CustomError({\n        name: \"LibraryNotConfiguredError\",\n        message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n      });\n    }\n\n    this.isReadyToWork = false;\n    this.workerScanQueueLength = 0;\n\n    this.engineSDKWorker = new Worker(URL.createObjectURL(engineSDKWorker));\n    this.engineSDKWorker.onmessage = this.engineWokerOnMessage.bind(this);\n    this.engineSDKWorker.postMessage({\n      type: \"load-library\",\n      deviceId: deviceId,\n      libraryLocation: scanditEngineLocation\n    });\n\n    this.eventEmitter = new EventEmitter();\n    this.workerParseRequestId = 0;\n    this.workerScanRequestId = 0;\n\n    this.applyLicenseKey(userLicenseKey);\n    this.applyScanSettings(scanSettings);\n    if (imageSettings != null) {\n      this.applyImageSettings(imageSettings);\n    }\n  }\n\n  /**\n   * Stop the internal <tt>WebWorker</tt> and destroy the scanner itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the scanner anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    if (this.engineSDKWorker != null) {\n      this.engineSDKWorker.terminate();\n    }\n    this.eventEmitter.removeAllListeners();\n  }\n\n  /**\n   * Applies a new set of scan settings to the scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): Scanner {\n    this.scanSettings = scanSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"settings\",\n      settings: this.scanSettings.toJSONString()\n    });\n\n    return this;\n  }\n\n  /**\n   * Applies a new set of image settings to the scanner (replacing old settings).\n   *\n   * @param imageSettings The image configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyImageSettings(imageSettings: ImageSettings): Scanner {\n    this.imageSettings = imageSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"image-settings\",\n      imageSettings: this.imageSettings\n    });\n\n    return this;\n  }\n\n  /**\n   * Process a given image using the previously set scanner and image settings,\n   * recognizing codes and retrieving the result as a list of barcodes (if any).\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * Depending on the current image settings, given <i>imageData</i> and scanning execution, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>NoImageSettings</tt>\n   * - <tt>ImageSettingsDataMismatch</tt>\n   * - <tt>ScanditEngineError</tt>\n   *\n   * @param imageData The image data given as a byte array, complying with the previously set image settings.\n   * @returns A promise resolving to the [[ScanResult]] object.\n   */\n  public processImage(imageData: Uint8ClampedArray): Promise<ScanResult> {\n    if (this.imageSettings == null) {\n      return Promise.reject(\n        new CustomError({ name: \"NoImageSettings\", message: \"No image settings set up in the scanner\" })\n      );\n    }\n\n    let channels: number;\n    switch (this.imageSettings.format.valueOf()) {\n      case ImageSettings.Format.GRAY_8U:\n        channels = 1;\n        break;\n      case ImageSettings.Format.RGB_8U:\n        channels = 3;\n        break;\n      case ImageSettings.Format.RGBA_8U:\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    if (this.imageSettings.width * this.imageSettings.height * channels !== imageData.length) {\n      return Promise.reject(\n        new CustomError({\n          name: \"ImageSettingsDataMismatch\",\n          message: \"The provided image data doesn't match the previously set image settings\"\n        })\n      );\n    }\n\n    this.workerScanRequestId++;\n    this.workerScanQueueLength++;\n\n    return new Promise<ScanResult>((resolve, reject) => {\n      const workResultEvent: string = `work-result-${this.workerScanRequestId}`;\n      const workErrorEvent: string = `work-error-${this.workerScanRequestId}`;\n      this.eventEmitter.once(workResultEvent, result => {\n        this.eventEmitter.removeAllListeners(workErrorEvent);\n        resolve({ barcodes: result.map(Barcode.createFromWASMResult) });\n      });\n      this.eventEmitter.once(workErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(workResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage(\n        {\n          type: \"work\",\n          requestId: this.workerScanRequestId,\n          data: imageData.buffer\n        },\n        [imageData.buffer]\n      );\n    });\n  }\n\n  /**\n   * @returns Whether the scanner is currently busy processing an image.\n   */\n  public isBusyProcessing(): boolean {\n    return this.workerScanQueueLength !== 0;\n  }\n\n  /**\n   * @returns Whether the scanner has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the scanner can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[Scanner]] object.\n   */\n  public onReady(listener: () => void): Scanner {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return new Parser(this, dataFormat);\n  }\n\n  /**\n   * @hidden\n   *\n   * Process a given string using the Scandit Parser library,\n   * parsing the data in the given format and retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataFormat The format of the given data.\n   * @param dataString The string containing the data to be parsed.\n   * @param options Options for the specific data format parser.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataFormat: Parser.DataFormat, dataString: string, options?: any): Promise<ParserResult> {\n    this.workerParseRequestId++;\n\n    return new Promise<ParserResult>((resolve, reject) => {\n      const parseStringResultEvent: string = `parse-string-result-${this.workerParseRequestId}`;\n      const parseStringErrorEvent: string = `parse-string-error-${this.workerParseRequestId}`;\n      this.eventEmitter.once(parseStringResultEvent, result => {\n        this.eventEmitter.removeAllListeners(parseStringErrorEvent);\n        const parserResult: ParserResult = {\n          jsonString: result,\n          fields: [],\n          fieldsByName: {}\n        };\n        (<ParserField[]>JSON.parse(result)).forEach(parserField => {\n          parserResult.fields.push(parserField);\n          parserResult.fieldsByName[parserField.name] = parserField;\n        });\n        resolve(parserResult);\n      });\n      this.eventEmitter.once(parseStringErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(parseStringResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage({\n        type: \"parse-string\",\n        requestId: this.workerParseRequestId,\n        dataFormat: dataFormat,\n        dataString: dataString,\n        options: options == null ? \"{}\" : JSON.stringify(options)\n      });\n    });\n  }\n\n  private applyLicenseKey(licenseKey: string): Scanner {\n    this.engineSDKWorker.postMessage({\n      type: \"license-key\",\n      licenseKey: licenseKey\n    });\n\n    return this;\n  }\n\n  private engineWokerOnMessage(ev: MessageEvent): void {\n    const messageType: string | undefined = ev.data[0];\n    const messageData: any | undefined = ev.data[1];\n\n    if (messageType === \"status\") {\n      if (messageData === \"ready\") {\n        this.isReadyToWork = true;\n        this.eventEmitter.emit(\"ready\");\n      }\n    } else if (messageType === \"work-result\" && messageData != null) {\n      this.eventEmitter.emit(`work-result-${messageData.requestId}`, messageData.result);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"work-error\" && messageData != null) {\n      this.eventEmitter.emit(`work-error-${messageData.requestId}`, messageData.error);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"parse-string-result\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-result-${messageData.requestId}`, messageData.result);\n    } else if (messageType === \"parse-string-error\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-error-${messageData.requestId}`, messageData.error);\n    }\n  }\n}\n","/**\n * A configuration object to request custom capabilities when accessing a camera.\n */\nexport interface CameraSettings {\n  /**\n   * The preferred video fram resolution (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  readonly resolutionPreference: CameraSettings.ResolutionPreference;\n}\n\nexport namespace CameraSettings {\n  /**\n   * Video frame resolution request (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  export enum ResolutionPreference {\n    /**\n     * Resolution of around 1080p (or less).\n     */\n    FULL_HD,\n    /**\n     * Resolution of around 720p (or less).\n     */\n    HD\n  }\n}\n","/*! howler.js v2.0.9 | (c) 2013-2018, James Simpson of GoldFire Studios | MIT License | howlerjs.com */\n!function(){\"use strict\";var e=function(){this.init()};e.prototype={init:function(){var e=this||n;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent=\"canplaythrough\",e._navigator=\"undefined\"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.volume=u._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.muted=!!e||u._muted)}return t},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,\"\")]},_setup:function(){var e=this||n;if(e.state=e.ctx?e.ctx.state||\"running\":\"running\",e._autoSuspend(),!e.usingWebAudio)if(\"undefined\"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent=\"canplay\")}catch(n){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t=\"undefined\"!=typeof Audio?new Audio:null}catch(n){return e}if(!t||\"function\"!=typeof t.canPlayType)return e;var o=t.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),r=e._navigator&&e._navigator.userAgent.match(/OPR\\/([0-6].)/g),a=r&&parseInt(r[0].split(\"/\")[1],10)<33;return e._codecs={mp3:!(a||!o&&!t.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!t.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,\"\"),aac:!!t.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!t.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(t.canPlayType(\"audio/x-m4a;\")||t.canPlayType(\"audio/m4a;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(t.canPlayType(\"audio/x-mp4;\")||t.canPlayType(\"audio/mp4;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),webm:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),dolby:!!t.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(t.canPlayType(\"audio/x-flac;\")||t.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},e},_enableMobileAudio:function(){var e=this||n,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),o=!!(\"ontouchend\"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||o)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(){n._autoResume();var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),void 0===t.start?t.noteOn(0):t.start(0),\"function\"==typeof e.ctx.resume&&e.ctx.resume(),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener(\"touchstart\",r,!0),document.removeEventListener(\"touchend\",r,!0)}};return document.addEventListener(\"touchstart\",r,!0),document.addEventListener(\"touchend\",r,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var o=0;o<e._howls[t]._sounds.length;o++)if(!e._howls[t]._sounds[o]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state=\"suspending\",e.ctx.suspend().then(function(){e.state=\"suspended\",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return\"running\"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):\"suspended\"===e.state?(e.ctx.resume().then(function(){e.state=\"running\";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit(\"resume\")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):\"suspending\"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new e,t=function(e){var n=this;if(!e.src||0===e.src.length)return void console.error(\"An array of source files must be passed with any new Howl.\");n.init(e)};t.prototype={init:function(e){var t=this;return n.ctx||_(),t._autoplay=e.autoplay||!1,t._format=\"string\"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=\"boolean\"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=\"string\"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state=\"unloaded\",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,void 0!==n.ctx&&n.ctx&&n.mobileAutoEnable&&n._enableMobileAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:\"play\",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)return void e._emit(\"loaderror\",null,\"No audio support.\");\"string\"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,i;if(e._format&&e._format[r])u=e._format[r];else{if(\"string\"!=typeof(i=e._src[r])){e._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}u=/^data:audio\\/([^;,]+);/i.exec(i),u||(u=/\\.([^.]+)$/.exec(i.split(\"?\",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),u&&n.codecs(u)){t=e._src[r];break}}return t?(e._src=t,e._state=\"loading\",\"https:\"===window.location.protocol&&\"http:\"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&a(e),e):void e._emit(\"loaderror\",null,\"No codec support for selected audio sources.\")},play:function(e,t){var o=this,r=null;if(\"number\"==typeof e)r=e,e=null;else{if(\"string\"==typeof e&&\"loaded\"===o._state&&!o._sprite[e])return null;if(void 0===e){e=\"__default\";for(var a=0,u=0;u<o._sounds.length;u++)o._sounds[u]._paused&&!o._sounds[u]._ended&&(a++,r=o._sounds[u]._id);1===a?e=null:r=null}}var i=r?o._soundById(r):o._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite||\"__default\"),\"loaded\"!==o._state){i._sprite=e,i._ended=!1;var d=i._id;return o._queue.push({event:\"play\",action:function(){o.play(d)}}),d}if(r&&!i._paused)return t||o._loadQueue(\"play\"),i._id;o._webAudio&&n._autoResume();var _=Math.max(0,i._seek>0?i._seek:o._sprite[e][0]/1e3),s=Math.max(0,(o._sprite[e][0]+o._sprite[e][1])/1e3-_),l=1e3*s/Math.abs(i._rate);i._paused=!1,i._ended=!1,i._sprite=e,i._seek=_,i._start=o._sprite[e][0]/1e3,i._stop=(o._sprite[e][0]+o._sprite[e][1])/1e3,i._loop=!(!i._loop&&!o._sprite[e][2]);var c=i._node;if(o._webAudio){var f=function(){o._refreshBuffer(i);var e=i._muted||o._muted?0:i._volume;c.gain.setValueAtTime(e,n.ctx.currentTime),i._playStart=n.ctx.currentTime,void 0===c.bufferSource.start?i._loop?c.bufferSource.noteGrainOn(0,_,86400):c.bufferSource.noteGrainOn(0,_,s):i._loop?c.bufferSource.start(0,_,86400):c.bufferSource.start(0,_,s),l!==1/0&&(o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l)),t||setTimeout(function(){o._emit(\"play\",i._id)},0)};\"running\"===n.state?f():(o.once(\"resume\",f),o._clearTimer(i._id))}else{var p=function(){c.currentTime=_,c.muted=i._muted||o._muted||n._muted||c.muted,c.volume=i._volume*n.volume(),c.playbackRate=i._rate;try{var r=c.play();if(\"undefined\"!=typeof Promise&&r instanceof Promise){o._playLock=!0;var a=function(){o._playLock=!1,t||o._emit(\"play\",i._id)};r.then(a,a)}else t||o._emit(\"play\",i._id);if(c.paused)return void o._emit(\"playerror\",i._id,\"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.\");\"__default\"!==e?o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l):(o._endTimers[i._id]=function(){o._ended(i),c.removeEventListener(\"ended\",o._endTimers[i._id],!1)},c.addEventListener(\"ended\",o._endTimers[i._id],!1))}catch(e){o._emit(\"playerror\",i._id,e)}},m=window&&window.ejecta||!c.readyState&&n._navigator.isCocoonJS;if(c.readyState>=3||m)p();else{var v=function(){p(),c.removeEventListener(n._canPlayEvent,v,!1)};c.addEventListener(n._canPlayEvent,v,!1),o._clearTimer(i._id)}}return i._id},pause:function(e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"pause\",action:function(){n.pause(e)}}),n;for(var t=n._getSoundIds(e),o=0;o<t.length;o++){n._clearTimer(t[o]);var r=n._soundById(t[o]);if(r&&!r._paused&&(r._seek=n.seek(t[o]),r._rateSeek=0,r._paused=!0,n._stopFade(t[o]),r._node))if(n._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||n._emit(\"pause\",r?r._id:null)}return n},stop:function(e,n){var t=this;if(\"loaded\"!==t._state)return t._queue.push({event:\"stop\",action:function(){t.stop(e)}}),t;for(var o=t._getSoundIds(e),r=0;r<o.length;r++){t._clearTimer(o[r]);var a=t._soundById(o[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,t._stopFade(o[r]),a._node&&(t._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause())),n||t._emit(\"stop\",a._id))}return t},mute:function(e,t){var o=this;if(\"loaded\"!==o._state)return o._queue.push({event:\"mute\",action:function(){o.mute(e,t)}}),o;if(void 0===t){if(\"boolean\"!=typeof e)return o._muted;o._muted=e}for(var r=o._getSoundIds(t),a=0;a<r.length;a++){var u=o._soundById(r[a]);u&&(u._muted=e,u._interval&&o._stopFade(u._id),o._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,n.ctx.currentTime):u._node&&(u._node.muted=!!n._muted||e),o._emit(\"mute\",u._id))}return o},volume:function(){var e,t,o=this,r=arguments;if(0===r.length)return o._volume;if(1===r.length||2===r.length&&void 0===r[1]){o._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=t?o._soundById(t):o._sounds[0],a?a._volume:0;if(\"loaded\"!==o._state)return o._queue.push({event:\"volume\",action:function(){o.volume.apply(o,r)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)(a=o._soundById(t[u]))&&(a._volume=e,r[2]||o._stopFade(t[u]),o._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,n.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*n.volume()),o._emit(\"volume\",a._id));return o},fade:function(e,t,o,r){var a=this;if(\"loaded\"!==a._state)return a._queue.push({event:\"fade\",action:function(){a.fade(e,t,o,r)}}),a;a.volume(e,r);for(var u=a._getSoundIds(r),i=0;i<u.length;i++){var d=a._soundById(u[i]);if(d){if(r||a._stopFade(u[i]),a._webAudio&&!d._muted){var _=n.ctx.currentTime,s=_+o/1e3;d._volume=e,d._node.gain.setValueAtTime(e,_),d._node.gain.linearRampToValueAtTime(t,s)}a._startFadeInterval(d,e,t,o,u[i],void 0===r)}}return a},_startFadeInterval:function(e,n,t,o,r,a){var u=this,i=n,d=t-n,_=Math.abs(d/.01),s=Math.max(4,_>0?o/_:o),l=Date.now();e._fadeTo=t,e._interval=setInterval(function(){var r=(Date.now()-l)/o;l=Date.now(),i+=d*r,i=Math.max(0,i),i=Math.min(1,i),i=Math.round(100*i)/100,u._webAudio?e._volume=i:u.volume(i,e._id,!0),a&&(u._volume=i),(t<n&&i<=t||t>n&&i>=t)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,u.volume(t,e._id),u._emit(\"fade\",e._id))},s)},_stopFade:function(e){var t=this,o=t._soundById(e);return o&&o._interval&&(t._webAudio&&o._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(o._interval),o._interval=null,t.volume(o._fadeTo,e),o._fadeTo=null,t._emit(\"fade\",e)),t},loop:function(){var e,n,t,o=this,r=arguments;if(0===r.length)return o._loop;if(1===r.length){if(\"boolean\"!=typeof r[0])return!!(t=o._soundById(parseInt(r[0],10)))&&t._loop;e=r[0],o._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var a=o._getSoundIds(n),u=0;u<a.length;u++)(t=o._soundById(a[u]))&&(t._loop=e,o._webAudio&&t._node&&t._node.bufferSource&&(t._node.bufferSource.loop=e,e&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop)));return o},rate:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var i;if(\"number\"!=typeof e)return i=o._soundById(t),i?i._rate:o._rate;if(\"loaded\"!==o._state)return o._queue.push({event:\"rate\",action:function(){o.rate.apply(o,r)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var d=0;d<t.length;d++)if(i=o._soundById(t[d])){i._rateSeek=o.seek(t[d]),i._playStart=o._webAudio?n.ctx.currentTime:i._playStart,i._rate=e,o._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):i._node&&(i._node.playbackRate=e);var _=o.seek(t[d]),s=(o._sprite[i._sprite][0]+o._sprite[i._sprite][1])/1e3-_,l=1e3*s/Math.abs(i._rate);!o._endTimers[t[d]]&&i._paused||(o._clearTimer(t[d]),o._endTimers[t[d]]=setTimeout(o._ended.bind(o,i),l)),o._emit(\"rate\",i._id)}return o},seek:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):o._sounds.length&&(t=o._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return o;if(\"loaded\"!==o._state)return o._queue.push({event:\"seek\",action:function(){o.seek.apply(o,r)}}),o;var i=o._soundById(t);if(i){if(!(\"number\"==typeof e&&e>=0)){if(o._webAudio){var d=o.playing(t)?n.ctx.currentTime-i._playStart:0,_=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(_+d*Math.abs(i._rate))}return i._node.currentTime}var s=o.playing(t);if(s&&o.pause(t,!0),i._seek=e,i._ended=!1,o._clearTimer(t),s&&o.play(t,!0),!o._webAudio&&i._node&&(i._node.currentTime=e),s&&!o._webAudio){var l=function(){o._playLock?setTimeout(l,0):o._emit(\"seek\",t)};setTimeout(l,0)}else o._emit(\"seek\",t)}return o},playing:function(e){var n=this;if(\"number\"==typeof e){var t=n._soundById(e);return!!t&&!t._paused}for(var o=0;o<n._sounds.length;o++)if(!n._sounds[o]._paused)return!0;return!1},duration:function(e){var n=this,t=n._duration,o=n._soundById(e);return o&&(t=n._sprite[o._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,o=0;o<t.length;o++){if(t[o]._paused||e.stop(t[o]._id),!e._webAudio){/MSIE |Trident\\//.test(n._navigator&&n._navigator.userAgent)||(t[o]._node.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"),t[o]._node.removeEventListener(\"error\",t[o]._errorFn,!1),t[o]._node.removeEventListener(n._canPlayEvent,t[o]._loadFn,!1)}delete t[o]._node,e._clearTimer(t[o]._id);var a=n._howls.indexOf(e);a>=0&&n._howls.splice(a,1)}var u=!0;for(o=0;o<n._howls.length;o++)if(n._howls[o]._src===e._src){u=!1;break}return r&&u&&delete r[e._src],n.noAudio=!1,e._state=\"unloaded\",e._sounds=[],e=null,null},on:function(e,n,t,o){var r=this,a=r[\"_on\"+e];return\"function\"==typeof n&&a.push(o?{id:t,fn:n,once:o}:{id:t,fn:n}),r},off:function(e,n,t){var o=this,r=o[\"_on\"+e],a=0;if(\"number\"==typeof n&&(t=n,n=null),n||t)for(a=0;a<r.length;a++){var u=t===r[a].id;if(n===r[a].fn&&u||!n&&u){r.splice(a,1);break}}else if(e)o[\"_on\"+e]=[];else{var i=Object.keys(o);for(a=0;a<i.length;a++)0===i[a].indexOf(\"_on\")&&Array.isArray(o[i[a]])&&(o[i[a]]=[])}return o},once:function(e,n,t){var o=this;return o.on(e,n,t,1),o},_emit:function(e,n,t){for(var o=this,r=o[\"_on\"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==n&&\"load\"!==e||(setTimeout(function(e){e.call(this,n,t)}.bind(o,r[a].fn),0),r[a].once&&o.off(e,r[a].fn,r[a].id));return o._loadQueue(e),o},_loadQueue:function(e){var n=this;if(n._queue.length>0){var t=n._queue[0];t.event===e&&(n._queue.shift(),n._loadQueue()),e||t.action()}return n},_ended:function(e){var t=this,o=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[o][2]);if(t._emit(\"end\",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit(\"play\",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||r||t.stop(e._id),t},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(\"function\"!=typeof n._endTimers[e])clearTimeout(n._endTimers[e]);else{var t=n._soundById(e);t&&t._node&&t._node.removeEventListener(\"ended\",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,t=0;t<n._sounds.length;t++)if(e===n._sounds[t]._id)return n._sounds[t];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new o(e)},_drain:function(){var e=this,n=e._pool,t=0,o=0;if(!(e._sounds.length<n)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&t++;for(o=e._sounds.length-1;o>=0;o--){if(t<=n)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),t--)}}},_getSoundIds:function(e){var n=this;if(void 0===e){for(var t=[],o=0;o<n._sounds.length;o++)t.push(n._sounds[o]._id);return t}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=r[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),t},_cleanBuffer:function(e){var t=this;if(n._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,o=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(o,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener(\"error\",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload=\"auto\",e._node.volume=o*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit(\"loaderror\",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener(\"error\",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),\"loaded\"!==t._state&&(t._state=\"loaded\",t._emit(\"load\"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)}};var r={},a=function(e){var n=e._src;if(r[n])return e._duration=r[n].duration,void d(e);if(/^data:[^;]+;base64,/.test(n)){for(var t=atob(n.split(\",\")[1]),o=new Uint8Array(t.length),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);i(o.buffer,e)}else{var _=new XMLHttpRequest;_.open(\"GET\",n,!0),_.withCredentials=e._xhrWithCredentials,_.responseType=\"arraybuffer\",_.onload=function(){var n=(_.status+\"\")[0];if(\"0\"!==n&&\"2\"!==n&&\"3\"!==n)return void e._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+_.status+\".\");i(_.response,e)},_.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[n],e.load())},u(_)}},u=function(e){try{e.send()}catch(n){e.onerror()}},i=function(e,t){n.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(r[t._src]=e,d(t,e))},function(){t._emit(\"loaderror\",null,\"Decoding audio data failed.\")})},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue())},_=function(){try{\"undefined\"!=typeof AudioContext?n.ctx=new AudioContext:\"undefined\"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),o=t?parseInt(t[1],10):null;if(e&&o&&o<9){var r=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());(n._navigator&&n._navigator.standalone&&!r||n._navigator&&!n._navigator.standalone&&!r)&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:1,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()};\"function\"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:t}}),\"undefined\"!=typeof exports&&(exports.Howler=n,exports.Howl=t),\"undefined\"!=typeof window?(window.HowlerGlobal=e,window.Howler=n,window.Howl=t,window.Sound=o):\"undefined\"!=typeof global&&(global.HowlerGlobal=e,global.Howler=n,global.Howl=t,global.Sound=o)}();","// TODO: gracefully load assets from files inside build process\n\n/**\n * @hidden\n */\nexport const beepSound: string =\n  \"data:audio/mp3;base64,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\\\n4WkYO8cgBAIAxQQANlMUDB4LAkByw1k3LVZpl+pNlGNZem5stM2Wr6j1Z9AMMBYjily+nv/WqtU3SzFd\\\nqLW+g9ay+GvQb2oJMhV52tK+eZCvrd0BNqdIzFngHBYCQQIIaJ1PtUjVq//qP+ohdCZhgRJDlF/////z\\\noi5C6lVAABQCoDYQD4ZCwVB9kTFKkiv9NQcExMLk3ipgtxrzPf8LZgdNYHsgYIPgbIgAEXEAwCgpAie4\\\nXVi5BaBlBUxSQfMO7yfQPFcsGReNjIgX0QvmASaIgQc3SJkgpqr+myNNNNJSSX/n1Hw/4CgwqkXN3qSM\\\nTVX//U2skkQuTq9JJEy/+ybvT6p1IjCCpfiL/+SuQupVQAAUAqA2EA+GQsFQfZExSpIr/TUHBMTC5N4q\\\nYLca8z3/C2YHTWB7IGCD4GyIABFxAMAoKQInuF1YuQWgZQVMUkHzDu8n0DxXLBkXjYyIF9EL5gEmiIEH\\\nN0iZIKaq/psjTTTSUkl/59R8P+AoMKpFzd6kjE1V//1NrJJELk6vSSRMv/sm70+qdSIwgqX4i//klMQU\\\n1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+7IAAA/wAABpBwAACAAADSDgAAEAAAGkAAAAIA\\\nAANIAAAARMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=\";\n\n/**\n * @hidden\n */\nexport const scanditLogoImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAAAhCAMAAAB9TZmqAAABgFBMVEVHcE\\\nyCgoL+/v6Kior///+FhYXW1tbn5+eAgIDp6en+/v6BgYH///////////+BgYH///////////+wsLCCgo\\\nL4+PiBgYH///+srKyAgID////s7OyCgoKBgYGDg4P///+BgYH6+vqBgYH////MzMz39/f///+BgYGbm5\\\nuDg4OMjIyBgYG+vr6QkJD///////+BgYGDg4P+/v7Hx8eOjo6BgYH09PT7+/v///////+MjIz9/f3///\\\n/////Y2Nj6+vrPz8+BgYH9/f3///+3t7f///+Ghob///+AgICDg4P///+IiIj///////+CgoL6+vqmpq\\\nb////////t7e3////////////b29vj4+PNzc3y8vLl5eXv7+/U1NTDw8O8vLyRkZH////x8fGJiYmZmZ\\\nnDw8Pf39/S0tLT09PCwsKfn5/4+PjV1dWlpaWwsLCjo6OsrKzj4+OZmZnCwsLq6uqurq7///+AgICfn5\\\n+Tk5OFhYXCwsLJycmYmJjU1NS/v79wPZvPAAAAdnRSTlMAcvoPxiTEAsby9L8p/eusNEoJBlEZ2Pb67n\\\nz25fVGOv1Eh+RW7oyC/ToXzkALzmqTe8BJHmf9Uu+n/B2Dnt7/+6MvEP2ZKrmzXHIx2dScYv6wkf3o3S\\\nL+/uDhqLbnuNrVV4u4ie7LNGlhweeUnrTsZOjkis/PjpWtfQAACfhJREFUaN7tmXlbGksWxtlMEwRUVj\\\nUgrSQqEAQccXdQQRUVVYxqoolqjGa9WW7uW25Xv/pUdxe9q2TM88zMM55/aE5V1/Lr03XeqrZYHuzBHu\\\nzB/vPmX+hzgdmcyh/sXrIx95LKPQ64/JoG5oaHHVztzya8Ssl0rV1PfO6A03YbR4xdzUBnblbgXphZm2\\\nhv+W0z9bW0+H7tjmL9d2w6VDPon7XX/CsuxR2fTcr1hervk+oWBM9KDa0bLqVys5pOn1vTrxfvG6SrCT\\\n3HpwNiS3O1Gzt/E8dN5RHVadNAsL6aXB9ch3/9zWyUdDF/Bqh8/ngm2Shpkp+QB49xEdJy3MbgW4UjaV\\\nQ42nola73ywDWt5XhKpIcWbP4h9F3CIOuOEOodiwNz4wvdDsDW/N/PMYPhb1GiGOMY82CiSeWWObYgXs\\\n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\";\n\n/**\n * @hidden\n */\nexport const laserActiveImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAwFBMVEVHcE\\\nxUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyN\\\nFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFVydJUyNFUyNFUyNFUyNH8/v5UyNFUyNFUyNFVydJUyNFUyN\\\nFUyNFVydJUyNFVydL3/f1YytNUyNFUyNFUyNHx+/ve9fbp+PnR8fNUyNGF2N9009q15+uW3ePD7O+l4+\\\ndv0dlv0dj///9Ujp4pAAAAP3RSTlMAiXJnBFsIARM5oA1+UKsuG5W3JEULBishQj5iAm0QkTQZ/h5MF3\\\nsnWISbSHb8plMFjfjv9Oeyua3Ww9/Nn4y/IgemAAAIrElEQVR42u2da1saOxCAq8jRVuql0qOVIgcvgH\\\nhBrBbUYv//vzpzySSTZBeWqo8fOm+E9Vv3eXxnOptNJh8+vD3rhvFC3lHR73/GmmEsxdKKVY+N3ONFN3\\\nOT8O+S/GMYnmXtid0rCJAy7b3nrPDyQn5dnk3DiFnaoeJ4Ife98ZnqTnTSPHZ38R0ezWPDMF6BeY6lse\\\nK0F+Ej3Vl1MJ1EZ78rmXrmBvxWTLcCO4axU8WUEsk2nIMhJsh6Et75HnQn10l1NB093xB9F9p4UsBBKX\\\nuGsQSlIuXSScSQ/Og8Ch9097aT66I6mo6S74i1c++mn7G/v4+fQrYNYymKPWLBEvEkOtD7LhoPvmN+R9\\\n3R9sR1UR1FR8n7/cqS/oejjI+G8UIyqbb9NQ4NtB6MJ99J99j2deU6q35AnrPDFew99FcY+MN8K6VpGH\\\nMpVecwQL5p/1h+dL6/Bwm+i9k92M6yY2IPrpPqaLqT2omrR7hk9l4ETvEHRuAzD8OogNNFgUpd8DeRhg\\\nYGACkPvqPuO5jc2XZM7SGxK9dRdRSdknNicIy+Ey/xyDMYDRR1dzGMaihrHKCUxweFhALpD8qj76Q71j\\\nLOdknt6y6xB9dZdRCddU4ibpSgdA606q2cWqtWq7VqfDWMUpwk8BVRd99xPHAYkP6oPPkOurPtVMlwan\\\neyU2KHZ1NxHVVvXqDm3uXC0GuR1Nrr+J7bODyr9IGByNUwYtr+wrYEgcClJCZ0FJD6YDz5Drqz7Vi3U2\\\noX2amKgcR+1nWuk+okelmOrmVWB6XxVi9xBHpFNHoNw0gpUkU8WsUfCYoQBLW2uA/Cj0aQ353tBydcyH\\\nAdQ8+na5TYsYg52GPXUXUwnbXW2TnC/atKbO+x47xxnrFiGBXIxEGbkoCQAHD2k/CgO2T3JtkOT6ldl9\\\nq17JtUxOz1xXXM6WC6N5qVVtm6B2ZfRmrnPo9Xxkxn3InYlWEYGudFDOjDpHEAyin7UXoQnnVn27mQod\\\nQusksVw0UMuj6CrM6mU7ZO/6ehIFNZ28uNXjudFUPNJxz8ZRgxw09eDbgEQCEdERwCSn+X+EF48B11B9\\\nuxkqFCZmNjk4t2/3xKFTsl9m9Ndh1N7zUa5eWHZO1Y7qFzW+7/GgZ+AVvXW1v0RR/DKMGZgldAFJKAcP\\\n7vDhP30fkG6I7ZnWynQoZS+9ev/ISKz6euioHEDkWMdx1UJ8Wdz+NOqEZU1vaJW9ntxBZ+5nzhYRgJJE\\\nYBKhQoAjL3wXr0nXRH20+bnNpdHQNPqCQ7VzGS2C9GXnUQncQe+nyNZcjsegZMZ1NgMp0Aj8Av5AF5Qu\\\n6RH8wdcctcBY49v42/m6CC8oN8YXnu2CSyivwi01A5dO8RJZxMp+jl8/Pzee+yXasPJLV3pWj3slMVgx\\\nV78xTyunN93KG8HWoqjKkZfKZb06A6u462P4DtTyT7Pdn+g3S/I9tvyfYrHInpJPvxbzP+79Qc//BBdd\\\nEdPLm9cvmRZCfd78t0d7ZP2fbn3mq7VcfU7uqYWPYjnnekKmYAiV1cZ9W5MnGmo+jadQotSuwPvySxR6\\\n4H1dl2dh1/LLMbLHyku8/sV2z6rU/tJPvTvbhO1cSjtx2E5NzeoNT++SLUMaWy1yPZOZ+L7VtTlP3ndP\\\nqFbJ9M0irmKVQxktddYpfMTrofp5ndMNlF9WNnep7ZXWIH2x+C7uT6Y5zaWfZvy8o+lPIF8/oW6z5F3S\\\nec2UNiDxX7vS7Z7+6KqhjU3TK7kVTsKrOz7XeuaM/KGK5iojpmSmU7uT43s0c1Oz2fNs7P8elUlewzrG\\\nJwkO6+Yp/oil1ndl2ySxnjXD9OUrv9vU12pzqNUMWEZ9TwiPoUinYpYySzu0dUKmNKa3Y9G0MTj5doO0\\\n/G4BzMDAZ+fZrRXEw0FePLmHQu5l5l9rRmvzLZjeLUfhW7ns3GJM+nfj5mqlzHB9Ti2Zh8nr2l5tnjF/\\\n67qL9+PxomJYd6ziZ6bVQwz24Y5XPt2SQ7jvDGiebZr7Np9irz7Okb1IvsDeqKjNIXqJ3s/elQvWOS6R\\\nz1psneoRrlL1D16yN+gxpeoPplBLslb1BXy9+ghrUx3cK1Mb2CtTGN4oWMWv6Ol1/nfnkvRStkeJmMrZ\\\nExooUxTo4E8kjWioXFYdHSsEZj0dqYSqseLwuQNY9h0WMjW0Yz9sTrHnnFY0fu3jCcCR2vc77ocbwyzt\\\nf/hmWPbtVjbf6qR1nP3o3Xs9fdevaa3yeithz5bRpxMMT6Fy1o53vlj61tN+I17JEX2Xr282SDh9/TIb\\\ns5eD37YDRvPXvpTqV6vcI+Jdou5f1XWzr0fwL5ZiW+a9uZY0T7lBpzNioFsfVOJdr9WXGnkt+DulG+B7\\\nVk+3eyZa+m4qCdbEBVwWCbT41Ke1H1/tOgdbtoE6reg3qa7kHd1HtQo+4Ce2l3gfLeAoO4X0YSBfWstU\\\nAr7Bo3jMXtBdiatMGA7i5Qj3pshO4C4rokdtVdwPeNOYv7xnD7o6W6xnzWoTBIWsdwRFjrGGNBw5ikT4\\\nYyelDaN+ZU+sYcUp+k4r4xlTqCHc7radcsagiWBINvCGYdwYxqHcFO855g1BWMWs2VtwRTHcHQ9aOoI9\\\njcXo/S3NEP/3tOHBSuRV4WGNbq0ajW7DFr+Mg9F2Oy5qfS6/Eg9HpUib2ki+8ed/HtL27iK91PS9ugWh\\\ntf4zW6+H7MO/lux518ky6+2vWsZ3VRf/ZqzdnD70l39m1rz268eoN2TML9/Vi90J/9ZE5/9kUnbyx77g\\\nYOfdqGHbxhvPLRGycFZ2+EkzfO+LQZOXnjZi0/Z6boTKVFJyrJLy84UcmOVDJefqhSctDYnDOVotPy3G\\\nGQ1Q7LO8JhZ+UZ731cHoqojsuT0/Ju1uYeDpmfg/pmp6DaMajGWx2EOvcc1OTg32oHXN+89HxrO+DaeN\\\nMjrqsd7M5Huxfy/Y9ZM4wlWVoyZ+mHd2LdMF7Ma5j4P+hE04Z78rHKAAAAAElFTkSuQmCC\";\n\n/**\n * @hidden\n */\nexport const laserPausedImage: string =\n  \"data:image/png;base64,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\";\n\n/**\n * @hidden\n */\nexport const switchCameraImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTI2LjE0IDhjLTEuNjc1IDAtMy4yMy44MzItNC4xNiAyLjIyN2wtMi\\\n4yMTggMy4zMjhhMS4wMDMgMS4wMDMgMCAwIDEtLjgzMi40NDVIMTh2LTJjMC0xLjEwMi0uODk4LTItMi\\\n0yaC02Yy0xLjEwMiAwLTIgLjg5OC0yIDJ2Mkg1Yy0xLjY1MiAwLTMgMS4zNDgtMyAzdjM2YzAgMS42NT\\\nIgMS4zNDggMyAzIDNoNTRjMS42NTIgMCAzLTEuMzQ4IDMtM1YxN2MwLTEuNjUyLTEuMzQ4LTMtMy0zaC\\\n0zdi0xYzAtMS4xMDItLjg5OC0yLTItMmgtMmMtMS4xMDIgMC0yIC44OTgtMiAydjFoLTQuOTM4YS45OT\\\ncuOTk3IDAgMCAxLS44MjgtLjQ0MWwtMi4yNTQtMy4zNTJBNS4wMDEgNS4wMDEgMCAwIDAgMzcuODI4ID\\\nh6bTAgMmgxMS42ODhjMSAwIDEuOTM0LjQ5NiAyLjQ5MiAxLjMyNGwyLjI1NCAzLjM1MkEyLjk5OCAyLj\\\nk5OCAwIDAgMCA0NS4wNjMgMTZINTljLjU1IDAgMSAuNDUgMSAxdjM2YzAgLjU1LS40NSAxLTEgMUg1Yy\\\n0uNTUgMC0xLS40NS0xLTFWMTdjMC0uNTUuNDUtMSAxLTFoMTMuOTNjMS4wMDQgMCAxLjkzNy0uNSAyLj\\\nQ5Ni0xLjMzNmwyLjIxOS0zLjMyOEEyLjk5OCAyLjk5OCAwIDAgMSAyNi4xNCAxMHpNMTAgMTJoNnYyaC\\\n02em00MiAxaDJ2MWgtMnptLTIwIDVjLTUuMjkgMC0xMC4yNDYgMi44MzYtMTIuOTM0IDcuMzk4YS45OT\\\nYuOTk2IDAgMCAwIC4zNTYgMS4zNjguOTk3Ljk5NyAwIDAgMCAxLjM2Ny0uMzU2QTEzLjA2NSAxMy4wNj\\\nUgMCAwIDEgMzIgMjBjNy4xNjggMCAxMyA1LjgzMiAxMyAxMyAwIC4xODgtLjAxNi4zNzUtLjAyMy41Nj\\\nNsLTIuMjctMi4yN2ExIDEgMCAxIDAtMS40MTQgMS40MTRsNCA0Yy4xOTUuMTk1LjQ1LjI5My43MDcuMj\\\nkzYS45OTMuOTkzIDAgMCAwIC43MDctLjI5M2w0LTRhMSAxIDAgMSAwLTEuNDE0LTEuNDE0bC0yLjMyID\\\nIuMzE2Yy4wMTEtLjIwMy4wMjctLjQwNi4wMjctLjYwOSAwLTguMjctNi43My0xNS0xNS0xNXpNMTggMj\\\nlhMSAxIDAgMCAwLS43MDcuMjkzbC00IDRhMSAxIDAgMSAwIDEuNDE0IDEuNDE0bDIuMzEzLTIuMzE2Yy\\\n0uMDA4LjIwMy0uMDIuNDA2LS4wMi42MDkgMCA4LjI3IDYuNzMgMTUgMTUgMTUgNS4zNjcgMCAxMC4zNi\\\n0yLjg5OCAxMy4wMjctNy41NjNhLjk5OS45OTkgMCAxIDAtMS43MzQtLjk5MkExMy4wNDIgMTMuMDQyID\\\nAgMCAxIDMyIDQ2Yy03LjE2OCAwLTEzLTUuODMyLTEzLTEzIDAtLjE4OC4wMTItLjM3OS4wMi0uNTY2bD\\\nIuMjczIDIuMjczYy4xOTUuMTk1LjQ1LjI5My43MDcuMjkzYTEgMSAwIDAgMCAuNzA3LTEuNzA3bC00LT\\\nRBMSAxIDAgMCAwIDE4IDI5em05IDJjLS41NTUgMC0xIC40NDUtMSAxdjJjMCAuNTU1LjQ0NSAxIDEgMS\\\nAuNTU1IDAgMS0uNDQ1IDEtMXYtMmMwLS41NTUtLjQ0NS0xLTEtMXptNSAwYy0uNTU1IDAtMSAuNDQ1LT\\\nEgMXYyYzAgLjU1NS40NDUgMSAxIDEgLjU1NSAwIDEtLjQ0NSAxLTF2LTJjMC0uNTU1LS40NDUtMS0xLT\\\nF6bTUgMGMtLjU1NSAwLTEgLjQ0NS0xIDF2MmMwIC41NTUuNDQ1IDEgMSAxIC41NTUgMCAxLS40NDUgMS\\\n0xdi0yYzAtLjU1NS0uNDQ1LTEtMS0xeiIvPjwvc3ZnPg==\";\n\n/**\n * @hidden\n */\nexport const toggleTorchImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTMwLjkzOCAxYy0uNDQ2LjAyLTEgLjIzLTEuMzEzLjY1NmExLjMwMi\\\nAxLjMwMiAwIDAgMC0uMDYzLjA5NGwtNi43OCAxMi4wNjMtLjA2My4wOTNjLS41NTUuNzg1LS43MjcgMS\\\n43My0uNTk0IDIuNjU2bC0yMC41IDIyLjU2My0uMDMxLjAzMWMtMS4wNyAxLjIxOS0uNjY0IDMuMDEyLj\\\nQ2OCA0LjE1N2guMDMybDQuNTk0IDQuNTkzYy41Ny41NyAxLjI2NS45NSAyIDEuMDYzLjczNC4xMTMgMS\\\n41NDYtLjA1NSAyLjE1Ni0uNTk0aC4wMzFsMjIuNTYzLTIwLjVjLjkzLjEyOSAxLjg3LS4wNDMgMi42NT\\\nYtLjU5NC4wMi0uMDE1LjA0My0uMDE1LjA2Mi0uMDMxbC4wNjMtLjAzMSAxMi4wMzEtNi43ODJjLjAzMS\\\n0uMDE5LjA2My0uMDM5LjA5NC0uMDYyLjQyMi0uMzEzLjYzNi0uODY3LjY1Ni0xLjMxMy4wMi0uNDQ1LS\\\n4wOTgtLjg0LS4yNS0xLjI1LS4zMDUtLjgyLS44MjgtMS42OS0xLjUzMS0yLjY4Ny0xLjQwNy0xLjk5Mi\\\n0zLjUxNi00LjM5LTUuNzUtNi42MjUtMi4yMzUtMi4yMzQtNC42MDItNC4zMTMtNi41OTQtNS43MTktLj\\\nk5Ni0uNzAzLTEuODY3LTEuMjI2LTIuNjg4LTEuNTMxLS40MS0uMTUyLS44MDQtLjI3LTEuMjUtLjI1em\\\n0uMjE4IDIuMDMxYy4wNzguMDEyLjE1My4wMjQuMzQ0LjA5NC41Mi4xOTEgMS4zLjYzMyAyLjIxOSAxLj\\\nI4MSAxLjgzNiAxLjI5NyA0LjE2OCAzLjM1NiA2LjM0MyA1LjUzMiAyLjE3NiAyLjE3NSA0LjIzNSA0Lj\\\nQ3NiA1LjUzMiA2LjMxMi42NDguOTE4IDEuMDkgMS43MyAxLjI4MSAyLjI1LjA3LjE5MS4wODIuMjY2Lj\\\nA5NC4zNDRMMzUuMTI1IDI1LjUzYS45NDkuOTQ5IDAgMCAwLS4xMjUuMDk0Yy0uMzE2LjI0Mi0uODYuMz\\\nI4LTEuNDM4LjIxOWExLjA1NiAxLjA1NiAwIDAgMC0uMTg3LS4wNjMgMy4xMTMgMy4xMTMgMCAwIDEtMS\\\n40MzgtLjgxMmwtNi45MDYtNi45MDdjLS45NzYtLjk4NC0xLjEyOS0yLjQzNy0uNjU2LTMuMDYyYS41Mz\\\nIuNTMyIDAgMCAwIC4wOTQtLjA5NHptLTguMjE4IDE1LjU5NGMuMTk5LjI5Ny40My41ODYuNjg3Ljg0NG\\\nw2LjkwNiA2LjkwNmMuMjYyLjI2Mi41NDMuNDg4Ljg0NC42ODhMOS41MzEgNDYuOTA2Yy0uMDg2LjA3OC\\\n0uMjU0LjEzNy0uNTMxLjA5NC0uMjc3LS4wNDMtLjYyOS0uMjIzLS45MDYtLjVMMy41IDQxLjkwNmMtLj\\\nU1OS0uNTY2LS41NjMtMS4yNjEtLjQwNi0xLjQzN3ptLTIuODc1IDguMzEzYy0uNzcgMC0xLjU0My4yOT\\\nItMi4xMjUuODc1bC0yLjEyNSAyLjEyNWEzLjAyMyAzLjAyMyAwIDAgMCAwIDQuMjUgMy4wMjMgMy4wMj\\\nMgMCAwIDAgNC4yNSAwbDIuMTI1LTIuMTI2YTMuMDIzIDMuMDIzIDAgMCAwIDAtNC4yNSAzLjAwMiAzLj\\\nAwMiAwIDAgMC0yLjEyNS0uODc1em0wIDJjLjI1MyAwIC41MTkuMDgyLjcxOC4yOC4zOTkuNC4zOTkgMS\\\n4wNCAwIDEuNDM4bC0yLjEyNSAyLjEyNWExLjAxNCAxLjAxNCAwIDAgMS0xLjQzNyAwIDEuMDE0IDEuMD\\\nE0IDAgMCAxIDAtMS40MzdjLjQyMi0uNDIyIDEuNjk5LTEuNjk2IDIuMTI1LTIuMTI1LjE5OS0uMi40Nj\\\nUtLjI4Mi43MTgtLjI4MnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4K\";\n","import { switchCameraImage, toggleTorchImage } from \"./assets/base64assets\";\nimport { BarcodePicker } from \"./barcodePicker\";\nimport { Camera } from \"./camera\";\nimport { CameraAccess } from \"./cameraAccess\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\n\n/**\n * @hidden\n *\n * A barcode picker utility class used to handle camera interaction.\n */\nexport class BarcodePickerCameraManager {\n  private static readonly isIOSDevice: boolean = navigator.platform != null &&\n    navigator.platform !== \"\" &&\n    /iPad|iPhone|iPod/.test(navigator.platform);\n  private static readonly cameraAccessTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckIntervalMs: number = 50;\n  private static readonly getCapabilitiesTimeoutMs: number = 500;\n  private static readonly autofocusIntervalMs: number = 1500;\n  private static readonly manualToAutofocusResumeTimeoutMs: number = 5000;\n  private static readonly manualFocusRetryTimeoutMs: number = 100;\n  public activeCamera: Camera;\n  public activeCameraSettings: CameraSettings | undefined;\n  private selectedCamera: Camera | undefined;\n  private selectedCameraSettings: CameraSettings | undefined;\n\n  private mediaStream: MediaStream | undefined;\n  private mediaTrackCapabilities: any | undefined;\n  private postStreamInitializationListener: () => void = this.postStreamInitialization.bind(this);\n  private triggerManualFocusListener: () => void = this.triggerManualFocus.bind(this);\n  private cameraAccessTimeout: number;\n  private cameraMetadataCheckInterval: number;\n  private getCapabilitiesTimeout: number;\n  private autofocusInterval: number;\n  private manualToAutofocusResumeTimeout: number;\n  private manualFocusRetryTimeout: number;\n  private enableCameraSwitcher: boolean;\n  private enableTorchToggle: boolean;\n  private enableTapToFocus: boolean;\n  private torchEnabled: boolean;\n  private cameraSwitcherElement: HTMLImageElement;\n  private torchToggleElement: HTMLImageElement;\n\n  constructor(private barcodePicker: BarcodePicker) {\n    this.setupCameraSwitcher();\n    this.setupTorchToggle();\n  }\n\n  public setUIOptions(enableCameraSwitcher: boolean, enableTorchToggle: boolean, enableTapToFocus: boolean): void {\n    this.enableCameraSwitcher = enableCameraSwitcher;\n    this.enableTorchToggle = enableTorchToggle;\n    this.enableTapToFocus = enableTapToFocus;\n  }\n\n  public setSelectedCamera(camera?: Camera): void {\n    this.selectedCamera = camera;\n  }\n\n  public setSelectedCameraSettings(cameraSettings?: CameraSettings): void {\n    this.selectedCameraSettings = cameraSettings;\n  }\n\n  public setupCameras(): Promise<BarcodePicker> {\n    return CameraAccess.getCameras().then(cameras => {\n      if (this.enableCameraSwitcher && cameras.length > 1) {\n        this.cameraSwitcherElement.classList.remove(\"scandit-hidden\");\n      }\n\n      if (this.selectedCamera == null) {\n        let autoselectedCamera: Camera | undefined = cameras.find(currentCamera => {\n          return currentCamera.cameraType === Camera.Type.BACK;\n        });\n        if (autoselectedCamera === undefined) {\n          autoselectedCamera = cameras[0];\n        }\n        if (autoselectedCamera === undefined) {\n          return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n        }\n\n        return this.initializeCameraWithSettings(autoselectedCamera, this.selectedCameraSettings);\n      } else {\n        return this.initializeCameraWithSettings(this.selectedCamera, this.selectedCameraSettings);\n      }\n    });\n  }\n\n  public stopStream(): void {\n    if (this.activeCamera != null) {\n      this.activeCamera.currentResolution = undefined;\n    }\n\n    if (this.mediaStream != null) {\n      window.clearTimeout(this.cameraAccessTimeout);\n      window.clearInterval(this.cameraMetadataCheckInterval);\n      window.clearTimeout(this.getCapabilitiesTimeout);\n      window.clearTimeout(this.manualFocusRetryTimeout);\n      window.clearTimeout(this.manualToAutofocusResumeTimeout);\n      window.clearInterval(this.autofocusInterval);\n      this.mediaStream.getVideoTracks().forEach(track => {\n        track.stop();\n      });\n      this.mediaStream = undefined;\n      this.mediaTrackCapabilities = undefined;\n    }\n  }\n\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, cameraSettings);\n  }\n\n  public reinitializeCamera(): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, this.activeCameraSettings);\n  }\n\n  public initializeCameraWithSettings(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    this.activeCameraSettings = cameraSettings;\n    if (cameraSettings != null && cameraSettings.resolutionPreference === CameraSettings.ResolutionPreference.FULL_HD) {\n      return this.initializeCamera(camera);\n    } else {\n      return this.initializeCamera(camera, 3);\n    }\n  }\n\n  public setTorchEnabled(enabled: boolean): void {\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.torch) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        videoTracks[0].applyConstraints({ advanced: [<any>{ torch: enabled }] });\n      }\n    }\n  }\n\n  private triggerManualFocus(event?: Event): void {\n    if (event != null) {\n      event.preventDefault();\n    }\n    window.clearTimeout(this.manualFocusRetryTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (focusModeCapability instanceof Array && focusModeCapability.indexOf(\"single-shot\") !== -1) {\n        if (focusModeCapability.indexOf(\"continuous\") !== -1 && focusModeCapability.indexOf(\"manual\") !== -1) {\n          this.triggerFocusMode(\"manual\")\n            .then(() => {\n              this.triggerFocusMode(\"single-shot\");\n              // Sometimes the previous call fails silently,\n              // so we retrigger it shortly afterwards anyways just to be sure. This has no negative consequences.\n              this.manualFocusRetryTimeout = window.setTimeout(() => {\n                this.triggerFocusMode(\"single-shot\");\n              }, BarcodePickerCameraManager.manualFocusRetryTimeoutMs);\n            })\n            .catch(() => {\n              // Ignored\n            });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.triggerFocusMode(\"continuous\");\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        } else if (focusModeCapability.indexOf(\"continuous\") === -1) {\n          window.clearInterval(this.autofocusInterval);\n\n          this.triggerFocusMode(\"single-shot\").catch(() => {\n            // Ignored\n          });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.autofocusInterval = window.setInterval(\n              this.triggerAutoFocus.bind(this),\n              BarcodePickerCameraManager.autofocusIntervalMs\n            );\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        }\n      }\n    }\n  }\n\n  private postStreamInitialization(): void {\n    window.clearTimeout(this.getCapabilitiesTimeout);\n    this.getCapabilitiesTimeout = window.setTimeout(() => {\n      this.storeStreamCapabilities();\n      this.setupAutofocus();\n      if (\n        this.enableTorchToggle &&\n        this.mediaStream != null &&\n        this.mediaTrackCapabilities != null &&\n        this.mediaTrackCapabilities.torch\n      ) {\n        this.torchToggleElement.classList.remove(\"scandit-hidden\");\n      }\n    }, BarcodePickerCameraManager.getCapabilitiesTimeoutMs);\n  }\n\n  private storeStreamCapabilities(): void {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].getCapabilities === \"function\") {\n        this.mediaTrackCapabilities = videoTracks[0].getCapabilities();\n      }\n    }\n  }\n\n  private setupAutofocus(): void {\n    window.clearTimeout(this.manualFocusRetryTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (\n        focusModeCapability instanceof Array &&\n        focusModeCapability.indexOf(\"continuous\") === -1 &&\n        focusModeCapability.indexOf(\"single-shot\") !== -1\n      ) {\n        window.clearInterval(this.autofocusInterval);\n        this.autofocusInterval = window.setInterval(\n          this.triggerAutoFocus.bind(this),\n          BarcodePickerCameraManager.autofocusIntervalMs\n        );\n      }\n    }\n  }\n\n  private triggerAutoFocus(): void {\n    this.triggerFocusMode(\"single-shot\").catch(() => {\n      // Ignored\n    });\n  }\n\n  private triggerFocusMode(focusMode: string): Promise<void> {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        return videoTracks[0].applyConstraints({ advanced: [<any>{ focusMode }] });\n      }\n    }\n\n    return Promise.reject(undefined);\n  }\n\n  private initializeCamera(camera: Camera, resolutionFallbackLevel: number = 0): Promise<BarcodePicker> {\n    if (camera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    this.stopStream();\n    this.torchEnabled = false;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n\n    return new Promise((resolve, reject) => {\n      CameraAccess.accessCameraStream(resolutionFallbackLevel, camera)\n        .then(stream => {\n          // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n          if (typeof stream.getTracks()[0].getSettings === \"function\") {\n            const mediaTrackSettings: MediaTrackSettings = stream.getTracks()[0].getSettings();\n            if (\n              mediaTrackSettings.width != null &&\n              mediaTrackSettings.height != null &&\n              (mediaTrackSettings.width === 2 || mediaTrackSettings.height === 2)\n            ) {\n              if (resolutionFallbackLevel === 6) {\n                return reject(\n                  new CustomError({ name: \"NotReadableError\", message: \"Could not initialize camera correctly\" })\n                );\n              } else {\n                return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n                  .then(() => {\n                    return resolve();\n                  })\n                  .catch(error => {\n                    return reject(error);\n                  });\n              }\n            }\n          }\n\n          this.mediaStream = stream;\n\n          // This will add the listener only once in the case of multiple calls, identical listeners are ignored\n          this.barcodePicker.videoElement.addEventListener(\"loadedmetadata\", this.postStreamInitializationListener);\n\n          if (this.enableTapToFocus) {\n            [\"touchstart\", \"mousedown\"].forEach(eventName => {\n              this.barcodePicker.videoElement.addEventListener(eventName, this.triggerManualFocusListener);\n            });\n          }\n\n          this.resolveInitializeCamera(camera, resolve, reject);\n\n          this.barcodePicker.videoElement.srcObject = stream;\n          this.barcodePicker.videoElement.load();\n          const playPromise: Promise<void> = this.barcodePicker.videoElement.play();\n\n          if (playPromise != null) {\n            playPromise.catch(() => {\n              // Can sometimes cause an incorrect rejection (all is good, ignore).\n            });\n          }\n        })\n        .catch(error => {\n          if (\n            error.name === \"PermissionDeniedError\" ||\n            error.name === \"PermissionDismissedError\" ||\n            error.name === \"NotAllowedError\" ||\n            error.name === \"NotFoundError\" ||\n            error.name === \"AbortError\"\n          ) {\n            // Camera is not accessible at all\n            return reject(error);\n          }\n          if (resolutionFallbackLevel < 6) {\n            return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n              .then(mediaStream => {\n                return resolve(mediaStream);\n              })\n              .catch(error2 => {\n                return reject(error2);\n              });\n          } else {\n            return reject(error);\n          }\n        });\n    });\n  }\n\n  private resolveInitializeCamera(\n    camera: Camera,\n    resolve: (value: BarcodePicker) => void,\n    reject: (reason?: any) => void\n  ): void {\n    const cameraNotReadableError: Error = new CustomError({\n      name: \"NotReadableError\",\n      message: \"Could not initialize camera correctly\"\n    });\n\n    this.cameraAccessTimeout = window.setTimeout(() => {\n      this.stopStream();\n      reject(cameraNotReadableError);\n    }, BarcodePickerCameraManager.cameraAccessTimeoutMs);\n\n    if (BarcodePickerCameraManager.isIOSDevice) {\n      // iOS camera access should always work but can fail to call \"later\" video callbacks, so we check loadstart\n      this.barcodePicker.videoElement.onloadstart = () => {\n        (<any>this.barcodePicker.videoElement).onloadstart = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        this.activeCamera = camera;\n        this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n        resolve(this.barcodePicker);\n      };\n    } else {\n      this.barcodePicker.videoElement.onloadeddata = () => {\n        (<any>this.barcodePicker.videoElement).onloadeddata = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n        // Also detect failed camera access with no error but also no video stream provided\n        if (\n          this.barcodePicker.videoElement.videoWidth > 2 &&\n          this.barcodePicker.videoElement.videoHeight > 2 &&\n          this.barcodePicker.videoElement.currentTime > 0\n        ) {\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          return resolve(this.barcodePicker);\n        }\n\n        const cameraMetadataCheckStartTime: number = performance.now();\n\n        window.clearInterval(this.cameraMetadataCheckInterval);\n        this.cameraMetadataCheckInterval = window.setInterval(() => {\n          if (\n            this.barcodePicker.videoElement.videoWidth === 2 ||\n            this.barcodePicker.videoElement.videoHeight === 2 ||\n            this.barcodePicker.videoElement.currentTime === 0\n          ) {\n            if (\n              performance.now() - cameraMetadataCheckStartTime >\n              BarcodePickerCameraManager.cameraMetadataCheckTimeoutMs\n            ) {\n              window.clearInterval(this.cameraMetadataCheckInterval);\n              this.stopStream();\n\n              return reject(cameraNotReadableError);\n            }\n\n            return;\n          }\n\n          window.clearInterval(this.cameraMetadataCheckInterval);\n\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          this.barcodePicker.videoElement.dispatchEvent(new Event(\"canplay\"));\n\n          return resolve(this.barcodePicker);\n        }, BarcodePickerCameraManager.cameraMetadataCheckIntervalMs);\n      };\n    }\n  }\n\n  private setupCameraSwitcher(): void {\n    this.cameraSwitcherElement = document.createElement(\"img\");\n    this.cameraSwitcherElement.src = switchCameraImage;\n    this.cameraSwitcherElement.className = BarcodePicker.cameraSwitcherElementClassName;\n    this.cameraSwitcherElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.cameraSwitcherElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.cameraSwitcherElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        CameraAccess.getCameras()\n          .then(cameras => {\n            const newCameraIndex: number =\n              (cameras.findIndex(camera => {\n                return camera.deviceId === (this.activeCamera == null ? camera.deviceId : this.activeCamera.deviceId);\n              }) +\n                1) %\n              cameras.length;\n            this.initializeCameraWithSettings(cameras[newCameraIndex], this.activeCameraSettings).catch(error => {\n              console.error(error);\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      });\n    });\n  }\n\n  private setupTorchToggle(): void {\n    this.torchToggleElement = document.createElement(\"img\");\n    this.torchToggleElement.src = toggleTorchImage;\n    this.torchToggleElement.className = BarcodePicker.torchToggleElementClassName;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.torchToggleElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.torchToggleElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        this.torchEnabled = !this.torchEnabled;\n        this.setTorchEnabled(this.torchEnabled);\n      });\n    });\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\nimport { Howl, Howler } from \"howler/dist/howler.core.min.js\";\n\nimport { beepSound, laserActiveImage, laserPausedImage, scanditLogoImage } from \"./assets/base64assets\";\n\nimport { userLicenseKey } from \"../index\";\nimport { BarcodePickerCameraManager } from \"./barcodePickerCameraManager\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { Scanner } from \"./scanner\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A barcode picker element used to get and show camera input and perform scanning operations.\n *\n * The barcode picker will automatically fit and scale inside the given <i>originElement</i>.\n *\n * Each barcode picker internally contains a [[Scanner]] object with its own WebWorker thread running a\n * separate copy of the external Scandit Engine library. To optimize loading times and performance it's\n * recommended to reuse the same picker and to already create the picker in advance (hidden) and just\n * display it when needed whenever possible.\n *\n * As the loading of the external Scandit Engine library can take some time the picker always starts inactive\n * (but showing GUI and video) and then activates, if not paused, as soon as the library is ready to scan.\n * The [[onReady]] method can be used to set up a listener function to be called when the library is loaded.\n *\n * You are not allowed to hide the Scandit logo present in the corner of the GUI.\n */\nexport class BarcodePicker {\n  /**\n   * @hidden\n   */\n  public static readonly grandParentElementClassName: string = \"scandit scandit-container\";\n  /**\n   * @hidden\n   */\n  public static readonly parentElementClassName: string = \"scandit scandit-barcode-picker\";\n  /**\n   * @hidden\n   */\n  public static readonly videoElementClassName: string = \"scandit-video\";\n  /**\n   * @hidden\n   */\n  public static readonly scanditLogoImageElementClassName: string = \"scandit-logo\";\n  /**\n   * @hidden\n   */\n  public static readonly laserImageElementClassName: string = \"scandit-laser\";\n  /**\n   * @hidden\n   */\n  public static readonly viewfinderElementClassName: string = \"scandit-viewfinder\";\n  /**\n   * @hidden\n   */\n  public static readonly cameraSwitcherElementClassName: string = \"scandit-camera-switcher\";\n  /**\n   * @hidden\n   */\n  public static readonly torchToggleElementClassName: string = \"scandit-torch-toggle\";\n\n  /**\n   * @hidden\n   */\n  public readonly grandParentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly parentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly videoElement: HTMLVideoElement;\n  /**\n   * @hidden\n   */\n  public readonly laserActiveImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly laserPausedImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly viewfinderElement: HTMLDivElement;\n\n  private cameraManager: BarcodePickerCameraManager;\n  private visible: boolean;\n  private playSoundOnScan: boolean;\n  private vibrateOnScan: boolean;\n  private scanningPaused: boolean;\n  private guiStyle: BarcodePicker.GuiStyle;\n  private eventEmitter: EventEmitter;\n  private scanner: Scanner;\n  private mirrorImage: boolean;\n  private videoImageCanvasContext: CanvasRenderingContext2D;\n  private fatalError: Error;\n  private beepSound: Howl;\n  private vibrateFunction: (pattern: number | number[]) => boolean;\n  private latestVideoTimeProcessed: number;\n  private resizeInterval: number;\n  private lastKnownOriginElementWidth: number;\n  private lastKnownOriginElementHeight: number;\n  private destroyed: boolean;\n  private isReadyToWork: boolean;\n  private cameraAccess: boolean;\n\n  private constructor(\n    private originElement: HTMLElement,\n    {\n      visible,\n      playSoundOnScan,\n      vibrateOnScan,\n      scanningPaused,\n      guiStyle,\n      scanSettings\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      guiStyle?: BarcodePicker.GuiStyle;\n      scanSettings?: ScanSettings;\n    } = {}\n  ) {\n    this.isReadyToWork = false;\n    this.destroyed = false;\n    this.scanningPaused = scanningPaused;\n\n    Howler.autoSuspend = false;\n    this.beepSound = new Howl({\n      src: beepSound\n    });\n\n    this.vibrateFunction =\n      <any>navigator.vibrate ||\n      (<any>navigator).webkitVibrate ||\n      (<any>navigator).mozVibrate ||\n      (<any>navigator).msVibrate;\n\n    this.eventEmitter = new EventEmitter();\n\n    this.grandParentElement = document.createElement(\"div\");\n    this.grandParentElement.className = BarcodePicker.grandParentElementClassName;\n    this.originElement.appendChild(this.grandParentElement);\n    this.parentElement = document.createElement(\"div\");\n    this.parentElement.className = BarcodePicker.parentElementClassName;\n    this.grandParentElement.appendChild(this.parentElement);\n\n    this.videoElement = document.createElement(\"video\");\n    this.setupVideoElement(this.videoElement);\n\n    this.setupVideoImageCanvasElement(document.createElement(\"canvas\"));\n\n    this.setVisible(visible);\n    this.setPlaySoundOnScanEnabled(playSoundOnScan);\n    this.setVibrateOnScanEnabled(vibrateOnScan);\n\n    this.scanner = new Scanner({ scanSettings: scanSettings });\n    this.scanner.onReady(() => {\n      this.isReadyToWork = true;\n      this.eventEmitter.emit(\"ready\");\n    });\n\n    window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n    this.resizeInterval = window.setInterval(() => {\n      this.resizeIfNeeded();\n    }, 250);\n\n    this.laserActiveImageElement = document.createElement(\"img\");\n    this.laserPausedImageElement = document.createElement(\"img\");\n    this.viewfinderElement = document.createElement(\"div\");\n    this.setupAssets();\n    this.setGuiStyle(guiStyle);\n\n    this.setupGlobalListeners();\n\n    this.cameraManager = new BarcodePickerCameraManager(this);\n  }\n\n  /**\n   * Creates a BarcodePicker instance, creating the needed HTML in the given origin element.\n   * If the <tt>accessCamera</tt> is enabled (active by default) the available cameras are accessed\n   * and a camera access permission is requested to the user if needed.\n   * This object expects that at least a camera is available. The active camera is accessed and kept active during the\n   * lifetime of the picker (also when hidden or scanning is paused), and is only released when [[destroy]] is called.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * Depending on parameters, device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>LibraryNotConfiguredError</tt>\n   * - <tt>NoOriginElementError</tt>\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param originElement The HTMLElement inside which all the necessary elements for the picker will be added.\n   * @param visible <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether the picker starts in a visible state.\n   * @param playSoundOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether a sound is played on barcode scanned (iOS requires user input).\n   * @param vibrateOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the device vibrates on barcode scanned (only Chrome & Firefox, requires user input).\n   * @param scanningPaused <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the picker starts in a paused scanning state.\n   * @param guiStyle <div class=\"tsd-signature-symbol\">Default =&nbsp;GuiStyle.LASER</div>\n   * The GUI style for the picker.\n   * @param enableCameraSwitcher <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to switch between different cameras (when available).\n   * @param enableTorchToggle <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to toggle device torch on/off (when available, only Chrome).\n   * @param enableTapToFocus <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to trigger a manual focus of the camera when clicking/tapping on the video (when available, only Chrome).\n   * @param accessCamera <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to immediately access the camera (and requesting user permissions if needed) on picker creation.\n   * @param camera <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera to be used for video input, if not specified the back or only camera will be used.\n   * @param cameraSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera options used when accessing the camera, by default HD resolution is used.\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options (All symbologies disabled by default).\n   * @returns A promise resolving to the created ready [[BarcodePicker]] object.\n   */\n  public static create(\n    originElement: HTMLElement,\n    {\n      visible = true,\n      playSoundOnScan = false,\n      vibrateOnScan = false,\n      scanningPaused = false,\n      /**\n       * @hidden\n       * @deprecated\n       */\n      uiStyle,\n      guiStyle = uiStyle != null ? uiStyle : BarcodePicker.GuiStyle.LASER,\n      scanSettings = new ScanSettings(),\n      enableCameraSwitcher = true,\n      enableTorchToggle = true,\n      enableTapToFocus = true,\n      accessCamera = true,\n      camera,\n      cameraSettings\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      uiStyle?: BarcodePicker.GuiStyle;\n      guiStyle?: BarcodePicker.GuiStyle;\n      scanSettings?: ScanSettings;\n      enableCameraSwitcher?: boolean;\n      enableTorchToggle?: boolean;\n      enableTapToFocus?: boolean;\n      accessCamera?: boolean;\n      camera?: Camera;\n      cameraSettings?: CameraSettings;\n    } = {}\n  ): Promise<BarcodePicker> {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      return Promise.reject(unsupportedBrowserError);\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      return Promise.reject(\n        new CustomError({\n          name: \"LibraryNotConfiguredError\",\n          message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n        })\n      );\n    }\n    if (!(originElement instanceof HTMLElement)) {\n      return Promise.reject(\n        new CustomError({\n          name: \"NoOriginElementError\",\n          message: \"A valid origin HTML element must be given\"\n        })\n      );\n    }\n\n    const barcodePicker: BarcodePicker = new BarcodePicker(originElement, {\n      visible,\n      playSoundOnScan,\n      vibrateOnScan,\n      scanningPaused,\n      guiStyle,\n      scanSettings\n    });\n\n    barcodePicker.cameraManager.setUIOptions(enableCameraSwitcher, enableTorchToggle, enableTapToFocus);\n    barcodePicker.cameraManager.setSelectedCamera(camera);\n    barcodePicker.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n    barcodePicker.cameraAccess = accessCamera;\n\n    if (accessCamera) {\n      return barcodePicker.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(barcodePicker);\n  }\n\n  /**\n   * Stop scanning and displaying video output, remove HTML elements added to the page,\n   * destroy the internal [[Scanner]] and destroy the barcode picker itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the picker anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    this.pauseScanning();\n    this.destroyed = true;\n    this.scanner.destroy();\n    this.eventEmitter.removeAllListeners();\n    window.clearInterval(this.resizeInterval);\n    this.removeGlobalListeners();\n    this.cameraManager.stopStream();\n    this.grandParentElement.remove();\n    this.originElement.classList.remove(\"scandit-hidden\");\n  }\n\n  /**\n   * Applies a new set of scan settings to the internal scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): BarcodePicker {\n    this.scanner.applyScanSettings(scanSettings);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the scanning is currently paused.\n   */\n  public isScanningPaused(): boolean {\n    return this.scanningPaused;\n  }\n\n  /**\n   * Pause the recognition of codes in the input image, video from the camera is still shown.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public pauseScanning(): BarcodePicker {\n    this.scanningPaused = true;\n    if (this.scanner.isReady()) {\n      this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.add(\"paused\");\n    }\n\n    return this;\n  }\n\n  /**\n   * Resume the recognition of codes in the input image.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public resumeScanning(): BarcodePicker {\n    this.scanningPaused = false;\n    if (this.cameraManager.activeCamera != null && this.scanner.isReady()) {\n      this.laserPausedImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserActiveImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.remove(\"paused\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns The currently active camera.\n   */\n  public getActiveCamera(): Camera | undefined {\n    return this.cameraManager.activeCamera;\n  }\n\n  /**\n   * Select a camera to be used for video input.\n   *\n   * If camera access is enabled, the camera is enabled and accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param camera The new camera to be used.\n   * @param cameraSettings The camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is set\n   * (and accessed, if camera access is currently enabled).\n   */\n  public setActiveCamera(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCamera(camera);\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.initializeCameraWithSettings(camera, cameraSettings);\n  }\n\n  /**\n   * Try to apply new settings to the currently used camera for video input,\n   * if no settings are passed the default ones are set.\n   *\n   * If camera access is enabled, the camera is updated and accessed with the new settings.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param cameraSettings The new camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is updated\n   * (and accessed, if camera access is currently enabled).\n   */\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.applyCameraSettings(cameraSettings);\n  }\n\n  /**\n   * @returns Whether the picker is in a visible state or not.\n   */\n  public isVisible(): boolean {\n    return this.visible;\n  }\n\n  /**\n   * Enable or disable picker visibility.\n   *\n   * @param visible Whether the picker is in a visible state or not.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVisible(visible: boolean): BarcodePicker {\n    this.visible = visible;\n    if (visible) {\n      this.originElement.classList.remove(\"scandit-hidden\");\n    } else {\n      this.originElement.classList.add(\"scandit-hidden\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the camera video is mirrored along the vertical axis.\n   */\n  public isMirrorImageEnabled(): boolean {\n    return this.mirrorImage;\n  }\n\n  /**\n   * Enable or disable camera video mirroring along the vertical axis.\n   *\n   * @param enabled Whether the camera video is mirrored along the vertical axis.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setMirrorImageEnabled(enabled: boolean): BarcodePicker {\n    this.mirrorImage = enabled;\n    if (enabled) {\n      this.videoElement.classList.add(\"mirrored\");\n    } else {\n      this.videoElement.classList.remove(\"mirrored\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether a sound should be played on barcode recognition (iOS requires user input).\n   */\n  public isPlaySoundOnScanEnabled(): boolean {\n    return this.playSoundOnScan;\n  }\n\n  /**\n   * Enable or disable playing a sound on barcode recognition (iOS requires user input).\n   *\n   * @param enabled Whether a sound should be played on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setPlaySoundOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.playSoundOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the device should vibrate on barcode recognition (only Chrome & Firefox, requires user input).\n   */\n  public isVibrateOnScanEnabled(): boolean {\n    return this.vibrateOnScan;\n  }\n\n  /**\n   * Enable or disable vibrating the device on barcode recognition (only Chrome & Firefox, requires user input).\n   *\n   * @param enabled Whether the device should vibrate on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVibrateOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.vibrateOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * Enable or disable the torch/flashlight of the device (when available, only Chrome).\n   * Changing active camera or camera settings will cause the torch to become disabled.\n   *\n   * A button on the [[BarcodePicker]] GUI to let the user toggle this functionality can also be set\n   * on creation via the <tt>enableTorchToggle</tt> option (enabled by default, when available).\n   *\n   * @param enabled Whether the torch should be enabled or disabled.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setTorchEnabled(enabled: boolean): BarcodePicker {\n    this.cameraManager.setTorchEnabled(enabled);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the barcode picker has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the barcode picker can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onReady(listener: () => void): BarcodePicker {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan\" event, fired when new barcodes\n   * are recognized in the image frame. The returned barcodes are affected\n   * by the [[ScanSettings.setCodeDuplicateFilter]] option.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with a [[ScanResult]] object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScan(listener: (scanResult: ScanResult) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan\");\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan error\" event, fired when an error occurs\n   * during scanning initialization and execution. The barcode picker will be automatically paused when this happens.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with an <tt>ScanditEngineError</tt> object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScanError(listener: (error: Error) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan-error\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan-error\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan error\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan-error\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan error\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan-error\");\n\n    return this;\n  }\n\n  /**\n   * Set the GUI style for the picker.\n   *\n   * @param guiStyle The new GUI style to be applied.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setGuiStyle(guiStyle: BarcodePicker.GuiStyle): BarcodePicker {\n    this.guiStyle = guiStyle;\n\n    switch (this.guiStyle) {\n      case BarcodePicker.GuiStyle.NONE:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.LASER:\n        this.laserActiveImageElement.classList.remove(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.remove(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.VIEWFINDER:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.remove(\"scandit-hidden\");\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * Access the currently set or default camera, requesting user permissions if needed.\n   * This method is meant to be used after the picker has been initialized with disabled camera access\n   * (<i>cameraAccess</i>=false). Calling this doesn't do anything if the camera has already been accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is accessed.\n   */\n  public accessCamera(): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraAccess = true;\n\n      return this.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(this);\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return this.scanner.createParserForFormat(dataFormat);\n  }\n\n  private resizeIfNeeded(): void {\n    if (\n      this.videoElement.videoHeight < 1 ||\n      this.originElement.clientHeight < 1 ||\n      (this.lastKnownOriginElementWidth === this.originElement.clientWidth &&\n        this.lastKnownOriginElementHeight === this.originElement.clientHeight)\n    ) {\n      return;\n    }\n\n    this.parentElement.style.maxWidth = null;\n    this.parentElement.style.maxHeight = null;\n\n    const videoRatio: number = this.videoElement.videoWidth / this.videoElement.videoHeight;\n    let width: number = this.originElement.clientWidth;\n    let height: number = this.originElement.clientHeight;\n\n    if (videoRatio > this.originElement.clientWidth / this.originElement.clientHeight) {\n      height = width / videoRatio;\n    } else {\n      width = height * videoRatio;\n    }\n\n    this.lastKnownOriginElementWidth = this.originElement.clientWidth;\n    this.lastKnownOriginElementHeight = this.originElement.clientHeight;\n\n    this.parentElement.style.maxWidth = `${Math.ceil(width)}px`;\n    this.parentElement.style.maxHeight = `${Math.ceil(height)}px`;\n  }\n\n  private setupVideoElement(videoElement: HTMLVideoElement): void {\n    videoElement.setAttribute(\"autoplay\", \"autoplay\");\n    videoElement.setAttribute(\"playsinline\", \"true\");\n    videoElement.setAttribute(\"muted\", \"muted\");\n    videoElement.className = BarcodePicker.videoElementClassName;\n\n    videoElement.addEventListener(\"canplay\", () => {\n      if (this.cameraManager.activeCamera != null) {\n        // Retrigger resize\n        this.lastKnownOriginElementWidth = 0;\n        this.lastKnownOriginElementHeight = 0;\n\n        this.cameraManager.activeCamera.currentResolution = {\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight\n        };\n        this.videoImageCanvasContext.canvas.width = this.cameraManager.activeCamera.currentResolution.width;\n        this.videoImageCanvasContext.canvas.height = this.cameraManager.activeCamera.currentResolution.height;\n\n        this.scanner.applyImageSettings({\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight,\n          format: ImageSettings.Format.RGBA_8U\n        });\n      }\n    });\n\n    this.parentElement.appendChild(videoElement);\n  }\n\n  private setupVideoImageCanvasElement(videoImageCanvasElement: HTMLCanvasElement): void {\n    const canvasContext: CanvasRenderingContext2D | null = videoImageCanvasElement.getContext(\"2d\");\n    if (canvasContext != null) {\n      this.videoImageCanvasContext = canvasContext;\n    }\n  }\n\n  private flashLaser(): void {\n    this.laserActiveImageElement.classList.remove(\"scandit-flash-color\");\n    // tslint:disable-next-line:no-unused-expression\n    this.laserActiveImageElement.offsetHeight; // Trigger reflow to restart animation\n    this.laserActiveImageElement.classList.add(\"scandit-flash-color\");\n  }\n\n  private flashViewfinder(): void {\n    this.viewfinderElement.classList.remove(\"scandit-flash-white\");\n    // tslint:disable-next-line:no-unused-expression\n    this.viewfinderElement.offsetHeight; // Trigger reflow to restart animation\n    this.viewfinderElement.classList.add(\"scandit-flash-white\");\n  }\n\n  private setupAssets(): void {\n    const scanditLogoImageElement: HTMLImageElement = document.createElement(\"img\");\n    scanditLogoImageElement.src = scanditLogoImage;\n    scanditLogoImageElement.className = BarcodePicker.scanditLogoImageElementClassName;\n    this.parentElement.appendChild(scanditLogoImageElement);\n\n    this.laserActiveImageElement.src = laserActiveImage;\n    this.laserActiveImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserActiveImageElement);\n\n    this.laserPausedImageElement.src = laserPausedImage;\n    this.laserPausedImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserPausedImageElement);\n\n    this.viewfinderElement.className = BarcodePicker.viewfinderElementClassName;\n    this.parentElement.appendChild(this.viewfinderElement);\n\n    // Show inactive GUI, as for now the scanner isn't ready yet\n    this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n    this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n    this.viewfinderElement.classList.add(\"paused\");\n  }\n\n  private checkAndRecoverPlayback(): void {\n    if (this.videoElement != null && this.videoElement.srcObject != null) {\n      if (!this.videoElement.srcObject.active) {\n        this.cameraManager.reinitializeCamera().catch(error => {\n          this.fatalError = error;\n          console.error(error);\n        });\n      } else {\n        const playPromise: Promise<void> = this.videoElement.play();\n\n        if (playPromise != null) {\n          playPromise.catch(() => {\n            // Can sometimes cause an incorrect rejection (all is good, ignore).\n          });\n        }\n      }\n    }\n  }\n\n  private setupGlobalListeners(): void {\n    document.addEventListener(\"visibilitychange\", this.checkAndRecoverPlayback.bind(this));\n  }\n\n  private removeGlobalListeners(): void {\n    document.removeEventListener(\"visibilitychange\", this.checkAndRecoverPlayback.bind(this));\n  }\n\n  private videoProcessing(): void {\n    if (this.destroyed) {\n      return;\n    }\n\n    if (\n      this.cameraManager.activeCamera == null ||\n      this.cameraManager.activeCamera.currentResolution == null ||\n      this.fatalError != null ||\n      this.scanningPaused ||\n      !this.scanner.isReady() ||\n      this.scanner.isBusyProcessing() ||\n      this.latestVideoTimeProcessed === this.videoElement.currentTime\n    ) {\n      window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n      return;\n    }\n\n    if (this.latestVideoTimeProcessed == null) {\n      // Show active GUI if needed, as now it's the moment the scanner is ready and used for the first time\n      this.resumeScanning();\n    }\n\n    this.latestVideoTimeProcessed = this.videoElement.currentTime;\n\n    this.videoImageCanvasContext.drawImage(this.videoElement, 0, 0);\n    try {\n      const imageData: Uint8ClampedArray = this.videoImageCanvasContext.getImageData(\n        0,\n        0,\n        this.videoImageCanvasContext.canvas.width,\n        this.videoImageCanvasContext.canvas.height\n      ).data;\n      this.scanner\n        .processImage(imageData)\n        .then(scanResult => {\n          if (!this.scanningPaused) {\n            if (scanResult.barcodes.length !== 0) {\n              if (this.guiStyle === BarcodePicker.GuiStyle.LASER) {\n                this.flashLaser();\n              } else if (this.guiStyle === BarcodePicker.GuiStyle.VIEWFINDER) {\n                this.flashViewfinder();\n              }\n              if (this.playSoundOnScan) {\n                this.beepSound.play();\n              }\n              if (this.vibrateOnScan && this.vibrateFunction != null) {\n                this.vibrateFunction.call(navigator, 300);\n              }\n\n              this.eventEmitter.emit(\"scan\", scanResult);\n            }\n          }\n        })\n        .catch(scanError => {\n          if (!this.scanningPaused) {\n            this.pauseScanning();\n            this.eventEmitter.emit(\"scan-error\", scanError);\n          }\n        });\n    } catch (error) {\n      this.fatalError = error;\n      console.error(error);\n    }\n\n    window.requestAnimationFrame(this.videoProcessing.bind(this));\n  }\n}\n\n// istanbul ignore next\nexport namespace BarcodePicker {\n  /**\n   * GUI style to be used by a barcode picker, used to hint barcode placement in the frame.\n   */\n  export enum GuiStyle {\n    /**\n     * No GUI is shown to indicate where the barcode should be placed.\n     * Be aware that the Scandit logo continues to be displayed as showing it is part of the license agreement.\n     */\n    NONE = 0,\n    /**\n     * @hidden\n     * @deprecated\n     */\n    SCANLINE = 1,\n    /**\n     * A laser line is shown.\n     */\n    LASER = 1,\n    /**\n     * A rectangular viewfinder with rounded corners is shown.\n     */\n    VIEWFINDER = 2\n  }\n\n  /**\n   * @hidden\n   * @deprecated\n   */\n  export import UIStyle = GuiStyle;\n}\n","import \"webrtc-adapter\";\n\nimport { BrowserHelper } from \"./lib/browserHelper\";\nimport { CameraAccess } from \"./lib/cameraAccess\";\nimport { CustomError } from \"./lib/customError\";\nimport { ImageSettings } from \"./lib/imageSettings\";\nimport { Scanner } from \"./lib/scanner\";\n\nimport \"./styles/styles.scss\";\n\nexport * from \"./lib/barcode\";\nexport * from \"./lib/barcodeEncodingRange\";\nexport * from \"./lib/barcodePicker\";\nexport * from \"./lib/browserHelper\";\nexport * from \"./lib/camera\";\nexport * from \"./lib/cameraAccess\";\nexport * from \"./lib/cameraSettings\";\nexport * from \"./lib/customError\";\nexport * from \"./lib/imageSettings\";\nexport * from \"./lib/point\";\nexport * from \"./lib/quadrilateral\";\nexport * from \"./lib/parser\";\nexport * from \"./lib/parserField\";\nexport * from \"./lib/parserResult\";\nexport * from \"./lib/scanResult\";\nexport * from \"./lib/scanner\";\nexport * from \"./lib/scanSettings\";\nexport * from \"./lib/searchArea\";\nexport * from \"./lib/symbologySettings\";\n\n/**\n * @hidden\n */\nexport let deviceId: string = BrowserHelper.getDeviceId();\n/**\n * @hidden\n */\nexport let userLicenseKey: string;\n/**\n * @hidden\n */\nexport let scanditEngineLocation: string;\n\n/**\n * Initialize and configure the Scandit Barcode Scanner SDK library. This function must be called as first thing\n * before using any other function of the library.\n *\n * Depending on parameters, device features and user permissions for camera access, any of the following errors\n * could be the rejected result of the returned promise:\n * - <tt>NoLicenseKeyError</tt>\n * - <tt>UnsupportedBrowserError</tt>\n * - <tt>PermissionDeniedError</tt>\n * - <tt>NotAllowedError</tt>\n * - <tt>NotFoundError</tt>\n * - <tt>AbortError</tt>\n * - <tt>NotReadableError</tt>\n * - <tt>InternalError</tt>\n *\n * If the external Scandit Engine library is not loaded now, it can later be loaded via [[loadEngineLibrary]],\n * or it will be downloaded and prepared automatically when needed by other objects/functions.\n *\n * If the cameras are not accessed now, they can later be loaded via [[CameraAccess.getCameras]],\n * or they will be accessed automatically when needed by other objects/functions.\n *\n * @param licenseKey The Scandit license key to be used by the library.\n * @param engineLocation <div class=\"tsd-signature-symbol\">Default =&nbsp;\"/\"</div>\n * The location of the folder containing the external scandit-engine-sdk.min.js and\n * scandit-engine-sdk.wasm files (external Scandit Engine library).\n * By default they are retrieved from the root of the web application.\n * Can be a full URL to folder or an absolute folder path.\n * @param preloadEngineLibrary <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly download and prepare the external Scandit Engine library with this call.\n * @param preloadCameras <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly request access (if needed) and access available cameras with this call.\n * @returns A promise resolving when the library has loaded and the available cameras are loaded (if selected).\n */\nexport function configure(\n  licenseKey: string,\n  {\n    engineLocation = \"/\",\n    preloadEngineLibrary = false,\n    preloadCameras = false\n  }: {\n    engineLocation?: string;\n    preloadEngineLibrary?: boolean;\n    preloadCameras?: boolean;\n  } = {}\n): Promise<void> {\n  const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n  if (unsupportedBrowserError != null) {\n    return Promise.reject(unsupportedBrowserError);\n  }\n\n  if (licenseKey == null || licenseKey.trim() === \"\") {\n    return Promise.reject(new CustomError({ name: \"NoLicenseKeyError\", message: \"No license key provided\" }));\n  }\n  userLicenseKey = licenseKey;\n\n  engineLocation += engineLocation.slice(-1) === \"/\" ? \"\" : \"/\";\n  if (/^https?:\\/\\//.test(engineLocation)) {\n    scanditEngineLocation = `${engineLocation}`;\n  } else {\n    engineLocation = engineLocation\n      .split(\"/\")\n      .filter(s => {\n        return s.length > 0;\n      })\n      .join(\"/\");\n    if (engineLocation === \"\") {\n      engineLocation = \"/\";\n    } else {\n      engineLocation = `/${engineLocation}/`;\n    }\n    scanditEngineLocation = `${location.origin}${engineLocation}`;\n  }\n\n  const promises: Promise<any>[] = [];\n\n  if (preloadEngineLibrary) {\n    promises.push(loadEngineLibrary());\n  }\n\n  if (preloadCameras) {\n    promises.push(CameraAccess.getCameras());\n  }\n\n  return Promise.all(promises)\n    .then(() => {\n      return;\n    })\n    .catch(error => {\n      return Promise.reject(error);\n    });\n}\n\n/**\n * Download and prepare in memory the external Scandit Engine library.\n * If this method isn't called manually the library will be automatically loaded the first\n * time it's required by another of this library's components.\n *\n * @returns A promise resolving when the external Scandit Engine library has been loaded and is ready.\n */\nexport function loadEngineLibrary(): Promise<void> {\n  try {\n    const scanner: Scanner = new Scanner();\n    scanner.applyImageSettings({ width: 2, height: 2, format: ImageSettings.Format.GRAY_8U });\n\n    return scanner.processImage(new Uint8ClampedArray(4)).then(() => {\n      return;\n    });\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n"],"names":["ceil","Math","floor","it","isNaN","undefined","TypeError","TO_STRING","that","pos","a","b","s","String","defined","i","toInteger","l","length","charCodeAt","charAt","slice","global","module","window","self","Function","__g","core","version","__e","fn","aFunction","call","c","apply","arguments","isObject","exec","e","require$$0","Object","defineProperty","get","document","is","createElement","require$$1","require$$2","S","val","toString","valueOf","dP","O","P","Attributes","anObject","toPrimitive","IE8_DOM_DEFINE","value","bitmap","enumerable","configurable","writable","object","key","f","createDesc","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","exports","expProto","target","ctx","C","this","virtual","R","hide","U","hasOwnProperty","propertyIsEnumerable","cof","split","IObject","min","max","index","IS_INCLUDES","$this","el","fromIndex","toIObject","toLength","toAbsoluteIndex","SHARED","store","id","px","random","concat","shared","uid","arrayIndexOf","IE_PROTO","names","result","has","push","keys","$keys","enumBugKeys","defineProperties","Properties","getKeys","documentElement","Empty","createDict","iframeDocument","iframe","style","display","appendChild","src","contentWindow","open","write","lt","close","create","dPs","Symbol","USE_SYMBOL","def","TAG","tag","stat","prototype","IteratorPrototype","Constructor","NAME","next","descriptor","setToStringTag","ObjectProto","getPrototypeOf","toObject","constructor","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","$iterCreate","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","LIBRARY","Iterators","values","redefine","$at","iterated","_t","_i","point","done","Array","_k","step","Arguments","TO_STRING_TAG","DOMIterables","Collection","defer","channel","port","ARG","tryGet","T","callee","forbiddenField","iterator","ret","ArrayProto","getIteratorMethod","classof","BREAK","RETURN","iterable","iterFn","getIterFn","isArrayIter","SPECIES","D","args","un","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","listener","event","data","invoke","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","cel","html","removeChild","setTimeout","set","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","Promise","isNode","head","last","notify","flush","parent","domain","exit","enter","toggle","node","createTextNode","observe","characterData","resolve","promise","then","task","PromiseCapability","reject","$$resolve","$$reject","v","x","promiseCapability","newPromiseCapability","safe","KEY","DESCRIPTORS","SAFE_CLOSING","riter","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","skipClosing","arr","iter","microtask","PROMISE","$Promise","empty","newPromiseCapabilityModule","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","console","unhandled","isUnhandled","perform","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","anInstance","err","require$$3","onFulfilled","onRejected","speciesConstructor","catch","require$$4","require$$5","require$$6","r","capability","promiseResolve","require$$7","all","remaining","forOf","$index","alreadyCalled","race","finally","onFinally","isFunction","try","callbackfn","default","__esModule","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","match","parseInt","wrapPeerConnectionEvent","eventNameToWrap","RTCPeerConnection","nativeAddEventListener","nativeEventName","cb","wrappedCallback","_eventMap","nativeRemoveEventListener","removeEventListener","unwrappedCb","disableLog","bool","Error","disableWarnings","log","deprecated","oldMethod","newMethod","warn","detectBrowser","navigator","browser","mozGetUserMedia","userAgent","webkitGetUserMedia","mediaDevices","logging","utils","browserDetails","constraintsToChrome_","mandatory","optional","cc","forEach","ideal","exact","oldname_","prefix","toUpperCase","oc","mix","advanced","shimConstraints_","constraints","func","JSON","parse","stringify","audio","remap","obj","video","face","facingMode","matches","getSupportedFacingModeLies","getSupportedConstraints","enumerateDevices","devices","dev","filter","d","find","some","label","toLowerCase","indexOf","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","message","constraint","constraintName","getUserMedia","onSuccess","onError","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","map","device","groupId","echoCancellation","frameRate","height","width","origGetUserMedia","bind","cs","stream","getAudioTracks","getVideoTracks","getTracks","track","stop","DOMException","shimGetUserMedia","shimMediaStream","MediaStream","webkitMediaStream","shimOnTrack","transceiver","receiver","_ontrack","origSetRemoteDescription","setRemoteDescription","pc","_ontrackpoly","te","getReceivers","Event","streams","dispatchEvent","shimGetSendersWithDtmf","shimSenderWithDtmf","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","origAddTrack","addTrack","sender","origRemoveTrack","removeTrack","idx","splice","origAddStream","addStream","origRemoveStream","removeStream","RTCRtpSender","origGetSenders","senders","shimSourceObject","URL","HTMLMediaElement","_srcObject","revokeObjectURL","createObjectURL","shimAddTrackRemoveTrackWithNative","getLocalStreams","_shimmedLocalStreams","streamId","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","replaceInternalStreamId","description","sdp","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","signalingState","t","oldStream","method","nativeMethod","desc","origSetLocalDescription","setLocalDescription","replaceExternalStreamId","origLocalDescription","getOwnPropertyDescriptor","streamid","shimPeerConnection","webkitRTCPeerConnection","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","generateCertificate","OrigPeerConnection","iceServers","newIceServers","server","urls","url","origGetStats","getStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","report","standardStats","timestamp","localcandidate","remotecandidate","makeMapStats","stats","Map","opts","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","SDPUtils","generateIdentifier","substr","localCName","splitLines","blob","trim","line","splitSections","part","matchPrefix","parseCandidate","parts","candidate","foundation","substring","component","protocol","priority","ip","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","join","parseIceOptions","parseRtpMap","parsed","payloadType","shift","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","params","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","getIceParameters","password","writeIceParameters","parseRtpParameters","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","planB","generateSessionId","writeSessionBoilerplate","sessId","sessVer","writeMediaSection","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseMLine","fmt","dtlsRole","filterIceServers","edgeVersion","hasTurn","isString","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","action","offer","answer","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","remoteCandidate","addRemoteCandidate","config","_eventTarget","createDocumentFragment","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","localDescription","remoteDescription","iceConnectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","_iceGatherers","iceCandidatePoolSize","RTCIceGatherer","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_emitGatheringStateChange","getConfiguration","getRemoteStreams","_createTransceiver","hasBundleTransport","recvEncodingParameters","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","clonedStream","clone","clonedTrack","enabled","_createIceGatherer","sdpMLineIndex","candidates","bufferCandidates","end","state","_gather","onlocalcandidate","evt","sdpMid","cand","sections","complete","every","RTCIceTransport","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","send","recv","encodings","p","receive","isIceLite","isDatachannel","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","receiverList","iceOptions","rejected","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","RTCRtpReceiver","getCapabilities","isNewTrack","sid","item","trackEvent","newState","states","new","closed","connecting","checking","connected","completed","disconnected","failed","createOffer","offerOptions","numAudioTracks","numVideoTracks","offerToReceiveAudio","offerToReceiveVideo","getLocalCandidates","createAnswer","mediaSectionsInOffer","localTrack","candidateString","promises","results","res","inboundrtp","outboundrtp","candidatepair","origMSTEnabled","ev","RTCDtmfSender","shimRTCPeerConnection","shimReplaceTrack","replaceTrack","setTrack","InternalError","NotSupportedError","SecurityError","The operation is insecure.","getUserMedia_","constraintsToFF37_","require","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","assign","shimRemoveStream","shimLocalStreamsAPI","_localStreams","getStreamById","_remoteStreams","_addTrack","tracks","shimRemoteStreamsAPI","_onaddstream","_onaddstreampoly","shimCallbacksAPI","failureCallback","options","withCallback","errcb","shimRTCIceServerUrls","shimTrackEventTransceiver","RTCTransceiver","shimCreateOfferLegacy","origCreateOffer","audioTransceiver","getTransceivers","setDirection","addTransceiver","videoTransceiver","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","toJSON","shimCreateObjectURL","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","srcObject","nativeSetAttribute","setAttribute","shimMaxMessageSize","RTCSctpTransport","_sctp","remoteIsFirefox","canSendMaxMessageSize","mLine","maxMessageSize","isFirefox","getRemoteFirefoxVersion","canSendMMS","remoteMMS","getMaxMessageSize","Number","POSITIVE_INFINITY","sctp","shimSendThrowTypeError","origCreateDataChannel","createDataChannel","dataChannel","origDataChannelSend","size","byteLength","dependencies","shimChrome","shimFirefox","shimEdge","shimSafari","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","adapter","browserShim","adapterFactory","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","$Symbol","wksExt","getOwnPropertySymbols","getSymbols","gOPS","symbols","isEnum","pIE","isArray","arg","hiddenKeys","getOwnPropertyNames","gOPN","windowNames","getWindowNames","gOPD","$GOPD","$DP","gOPNExt","$JSON","_stringify","HIDDEN","wks","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","$fails","_create","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","enumKeys","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","k","wksDefine","for","keyFor","useSetter","useSimple","replacer","$replacer","_iterator2","_interopRequireDefault","_iterator","_symbol2","_symbol","_typeof","check","setPrototypeOf","test","buggy","__proto__","exp","fails","$getPrototypeOf","instance","_typeof3","_typeof2","ReferenceError","$Object","BrowserHelper","Camera","CameraAccess","ImageSettings","_setPrototypeOf2","_setPrototypeOf","_create2","subClass","superClass","CustomError","Worker","WebAssembly","Blob","storedDeviceId","cookieMatch","cookie","cookieValue","pop","getCookieValue","date","randomDeviceId","Date","setTime","getTime","expirationDays","toUTCString","Type","backCameraKeywords","unsupportedBrowserError","checkBrowserCompatibility","cameras","videoDevice","lowercaseLabel","keyword","BACK","FRONT","camera","cameraType","resolutionFallbackLevel","getUserMediaParams","Format","_defineProperty2","_defineProperty","props","protoProps","staticProps","Events","addListener","emitter","context","once","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","listeners","handlers","ee","listenerCount","a1","a2","a3","a4","a5","len","removeListener","on","removeAllListeners","off","prefixed","imageBufferPointer","licenseKey","settings","imageSettings","wasmLoaded","scannerSettingsReady","scannerImageSettingsReady","scanQueue","parseQueue","contextAvailable","scanWorkSubmitted","parseWorkSubmitted","blurryDecodingEnabled","licenseKeyLength","Module","lengthBytesUTF8","licenseKeyPointer","_malloc","stringToUTF8","asm","_create_context","_free","settingsLength","settingsPointer","resultPointer","_scanner_settings_new_from_json","UTF8ToString","debug","channels","format","_scanner_image_settings_new","dataFormat","dataString","dataStringLength","dataStringPointer","optionsLength","optionsPointer","_parser_parse_string","imageData","currentScanWorkUnit","resultData","HEAPU8","Uint8Array","_scanner_scan","requestId","currentParseWorkUnit","parseString","libraryLocation","customModule","mkdir","code","mount","IDBFS","syncfs","callMain","Barcode","engineSDKWorker","engineSDKWorkerFunction","decodedData","decodeURIComponent","escape","fromCharCode","rawData","symbology","location","y","compositeFlag","isGs1DataCarrier","encodingArray","Symbology","CompositeFlag","EAN13","EAN8","UPCA","UPCE","CODE128","CODE39","CODE93","INTERLEAVED_2_OF_5","QR","DATA_MATRIX","PDF417","MSI_PLESSEY","GS1_DATABAR","GS1_DATABAR_EXPANDED","CODABAR","AZTEC","TWO_DIGIT_ADD_ON","FIVE_DIGIT_ADD_ON","MAXICODE","CODE11","GS1_DATABAR_LIMITED","CODE25","MICRO_PDF417","RM4SCC","KIX","DOTCODE","scanner","dataRaw","Parser","DataFormat","isEntries","$values","getIterator","from","arrayLike","aLen","mapfn","mapping","createProperty","_from2","_from","arr2","TYPE","SIZE","getEntry","entry","_f","n","getConstructor","IS_MAP","ADDER","_l","redefineAll","validate","prev","setStrong","$iterDefine","setSpecies","original","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","asc","each","common","IS_WEAK","IS_ADDER","SET","add","strong","COLLECTION","of","A","mapFn","nextItem","Set","colorInvertedEnabled","activeSymbolCounts","extensions","checksums","customExtensions","customChecksums","_Array$from","SymbologySettings","Extension","_Object$values","Checksum","minCount","maxCount","_","checksum","enabledSymbologies","codeDuplicateFilter","maxNumberOfCodesPerFrame","searchArea","symbologySettings","enableSymbologies","symbologies","toJSONName","_this","isFullSearchArea","round","_JSON$stringify","ls","isEnabled","setSymbologiesEnabled","durationMilliseconds","limit","setEnabled","scanSettings","ScanSettings","userLicenseKey","isReadyToWork","workerScanQueueLength","engineWokerOnMessage","scanditEngineLocation","eventEmitter","workerParseRequestId","workerScanRequestId","applyLicenseKey","applyScanSettings","applyImageSettings","terminate","toJSONString","_Promise","GRAY_8U","RGB_8U","RGBA_8U","workResultEvent","workErrorEvent","barcodes","createFromWASMResult","errorCode","errorMessage","errorObject","buffer","parseStringResultEvent","_this2","parseStringErrorEvent","parserResult","fields","parserField","fieldsByName","messageType","messageData","CameraSettings","init","_counter","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","mobileAutoEnable","_setup","volume","parseFloat","gain","setValueAtTime","currentTime","o","_webAudio","_getSoundIds","u","_soundById","_node","mute","muted","unload","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","canPlayType","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","_autoResume","createBufferSource","connect","destination","noteOn","resume","onended","disconnect","suspend","_sounds","_paused","_suspendTimer","clearTimeout","_resumeAfterSuspend","_emit","_autoplay","autoplay","_format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_xhrWithCredentials","xhrWithCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","play","load","_ended","_id","_inactiveSound","_loadQueue","_seek","abs","_start","_stop","_refreshBuffer","_playStart","bufferSource","noteGrainOn","_clearTimer","playbackRate","paused","m","ejecta","readyState","isCocoonJS","pause","seek","_rateSeek","_stopFade","noteOff","_cleanBuffer","duration","_interval","fade","linearRampToValueAtTime","_startFadeInterval","_fadeTo","setInterval","clearInterval","cancelScheduledValues","loopStart","loopEnd","playing","_errorFn","_loadFn","ended","_drain","reset","_panner","_parent","createGain","createGainNode","_errorListener","_loadListener","__default","atob","XMLHttpRequest","withCredentials","responseType","status","decodeAudioData","AudioContext","webkitAudioContext","platform","appVersion","standalone","HowlerGlobal","Howler","Howl","Sound","beepSound","scanditLogoImage","laserActiveImage","laserPausedImage","switchCameraImage","toggleTorchImage","ResolutionPreference","barcodePicker","postStreamInitialization","triggerManualFocus","setupCameraSwitcher","setupTorchToggle","enableCameraSwitcher","enableTorchToggle","enableTapToFocus","selectedCamera","cameraSettings","selectedCameraSettings","getCameras","cameraSwitcherElement","classList","remove","autoselectedCamera","currentCamera","initializeCameraWithSettings","activeCamera","currentResolution","mediaStream","cameraAccessTimeout","cameraMetadataCheckInterval","getCapabilitiesTimeout","manualFocusRetryTimeout","manualToAutofocusResumeTimeout","autofocusInterval","mediaTrackCapabilities","activeCameraSettings","resolutionPreference","FULL_HD","initializeCamera","torch","videoTracks","preventDefault","focusModeCapability","focusMode","triggerFocusMode","BarcodePickerCameraManager","manualFocusRetryTimeoutMs","manualToAutofocusResumeTimeoutMs","triggerAutoFocus","autofocusIntervalMs","storeStreamCapabilities","setupAutofocus","_this3","torchToggleElement","getCapabilitiesTimeoutMs","stopStream","torchEnabled","accessCameraStream","mediaTrackSettings","_this4","videoElement","postStreamInitializationListener","eventName","triggerManualFocusListener","resolveInitializeCamera","playPromise","error2","cameraNotReadableError","cameraAccessTimeoutMs","isIOSDevice","onloadstart","_this5","setMirrorImageEnabled","onloadeddata","videoWidth","videoHeight","cameraMetadataCheckStartTime","performance","cameraMetadataCheckTimeoutMs","cameraMetadataCheckIntervalMs","className","BarcodePicker","cameraSwitcherElementClassName","parentElement","newCameraIndex","findIndex","_this6","torchToggleElementClassName","_this7","setTorchEnabled","originElement","visible","playSoundOnScan","vibrateOnScan","scanningPaused","guiStyle","destroyed","vibrateFunction","vibrate","webkitVibrate","mozVibrate","msVibrate","grandParentElement","grandParentElementClassName","parentElementClassName","setupVideoElement","setupVideoImageCanvasElement","setVisible","setPlaySoundOnScanEnabled","setVibrateOnScanEnabled","Scanner","onReady","requestAnimationFrame","videoProcessing","resizeInterval","resizeIfNeeded","laserActiveImageElement","laserPausedImageElement","viewfinderElement","setupAssets","setGuiStyle","setupGlobalListeners","cameraManager","pauseScanning","destroy","removeGlobalListeners","isReady","cameraAccess","setSelectedCamera","setSelectedCameraSettings","applyCameraSettings","mirrorImage","GuiStyle","NONE","LASER","VIEWFINDER","setupCameras","createParserForFormat","clientHeight","lastKnownOriginElementWidth","clientWidth","lastKnownOriginElementHeight","maxWidth","maxHeight","videoRatio","videoElementClassName","videoImageCanvasContext","canvas","videoImageCanvasElement","canvasContext","getContext","offsetHeight","scanditLogoImageElement","scanditLogoImageElementClassName","laserImageElementClassName","viewfinderElementClassName","active","reinitializeCamera","fatalError","checkAndRecoverPlayback","isBusyProcessing","latestVideoTimeProcessed","resumeScanning","drawImage","getImageData","processImage","scanResult","flashLaser","flashViewfinder","scanError","uiStyle","accessCamera","HTMLElement","setUIOptions","getDeviceId","engineLocation","preloadEngineLibrary","preloadCameras","origin","loadEngineLibrary","Uint8ClampedArray"],"mappings":"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"}